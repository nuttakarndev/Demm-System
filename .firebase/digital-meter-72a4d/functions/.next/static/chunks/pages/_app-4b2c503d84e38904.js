(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1294:function(e,t,n){"use strict";n.d(t,{hJ:function(){return au},JU:function(){return al},QT:function(){return aJ},PL:function(){return aZ},ad:function(){return ab},pl:function(){return a0},r7:function(){return a1}});var r,i,o,s,a,u,l,c,h=n(5816),f=n(8463),d=n(3333),p=n(1199),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},m={},y=y||{},v=g||self;function b(){}function w(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function E(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function _(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:T).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function O(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function A(){this.s=this.s,this.o=this.o}A.prototype.s=!1,A.prototype.na=function(){this.s||(this.s=!0,this.M())},A.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1};function k(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function R(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(w(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",b,t),v.removeEventListener("test",b,t)}catch(e){}return e}();function D(e){return/^[\s\xa0]*$/.test(e)}var P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function L(e,t){return e<t?-1:e>t?1:0}function M(){var e=v.navigator;return e&&(e=e.userAgent)?e:""}function j(e){return -1!=M().indexOf(e)}function U(e){return U[" "](e),e}U[" "]=b;var F=j("Opera"),V=j("Trident")||j("MSIE"),B=j("Edge"),W=B||V,q=j("Gecko")&&!(-1!=M().toLowerCase().indexOf("webkit")&&!j("Edge"))&&!(j("Trident")||j("MSIE"))&&!j("Edge"),H=-1!=M().toLowerCase().indexOf("webkit")&&!j("Edge");function z(){var e=v.document;return e?e.documentMode:void 0}e:{var $,K="",G=($=M(),q?/rv:([^\);]+)(\)|;)/.exec($):B?/Edge\/([\d\.]+)/.exec($):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($):H?/WebKit\/(\S+)/.exec($):F?/(?:Version)[ \/]?(\S+)/.exec($):void 0);if(G&&(K=G?G[1]:""),V){var Q=z();if(null!=Q&&Q>parseFloat(K)){i=String(Q);break e}}i=K}var X={},J=v.document&&V&&(z()||parseInt(i,10))||void 0;function Y(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(q){e:{try{U(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Z[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Y.X.h.call(this)}}O(Y,N);var Z={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),et=0;function en(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++et,this.ba=this.ea=!1}function er(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ei(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function eo(e){let t={};for(let n in e)t[n]=e[n];return t}let es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ea(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<es.length;t++)n=es[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eu(e){this.src=e,this.g={},this.h=0}function el(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(er(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ec(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&!!n==o.capture&&o.ha==r)return i}return -1}eu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ec(e,t,r,i);return -1<s?(t=e[s],n||(t.ea=!1)):((t=new en(t,this.src,o,!!r,i)).ea=n,e.push(t)),t};var eh="closure_lm_"+(1e6*Math.random()|0),ef={};function ed(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=E(i)?!!i.capture:!!i,a=ey(e);if(a||(e[eh]=a=new eu(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function e(t){return em.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)x||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eg(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ep(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ee])el(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ey(t))?(el(n,e),0==n.h&&(n.src=null,t[eh]=null)):er(e)}}}function eg(e){return e in ef?ef[e]:ef[e]="on"+e}function em(e,t){if(e.ba)e=!0;else{t=new Y(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ep(e),e=n.call(r,t)}return e}function ey(e){return(e=e[eh])instanceof eu?e:null}var ev="__closure_events_fn_"+(1e9*Math.random()>>>0);function eb(e){return"function"==typeof e?e:(e[ev]||(e[ev]=function(t){return e.handleEvent(t)}),e[ev])}function ew(){A.call(this),this.i=new eu(this),this.P=this,this.I=null}function eE(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;ea(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=e_(s,r,!0,t)&&i}if(i=e_(s=t.g=e,r,!0,t)&&i,i=e_(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=e_(s=t.g=n[o],r,!1,t)&&i}function e_(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,u=s.ha||s.src;s.ea&&el(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}O(ew,A),ew.prototype[ee]=!0,ew.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else(i=E(i)?!!i.capture:!!i,r=eb(r),t&&t[ee])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ec(s=t.g[n],r,i,o))&&(er(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=ey(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ec(n,r,i,o)),(r=-1<t?n[t]:null)&&ep(r))}(this,e,t,n,r)},ew.prototype.M=function(){if(ew.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)er(n[r]);delete t.g[e],t.h--}}this.I=null},ew.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ew.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var eT=v.JSON.stringify,eS=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eI,e=>e.reset());class eI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eO(e,t){var n;s||(n=v.Promise.resolve(void 0),s=function(){n.then(ek)}),eA||(s(),eA=!0),eC.add(e,t)}var eA=!1,eC=new class{constructor(){this.h=this.g=null}add(e,t){let n=eS.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function ek(){let e;for(;e=null,(t=eC).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),n=e;){try{n.h.call(n.g)}catch(e){!function(e){v.setTimeout(()=>{throw e},0)}(e)}var t,n,r=eS;r.j(n),100>r.h&&(r.h++,n.next=r.g,r.g=n)}eA=!1}function eR(e,t){ew.call(this),this.h=e||1,this.g=t||v,this.j=S(this.lb,this),this.l=Date.now()}function eN(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ex(e,t,n){if("function"==typeof e)n&&(e=S(e,n));else if(e&&"function"==typeof e.handleEvent)e=S(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}O(eR,ew),(c=eR.prototype).ca=!1,c.R=null,c.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),eE(this,"tick"),this.ca&&(eN(this),this.start()))}},c.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){eR.X.M.call(this),eN(this),delete this.g};class eD extends A{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ex(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eP(e){A.call(this),this.h=e,this.g={}}O(eP,A);var eL=[];function eM(e,t,n,r){Array.isArray(n)||(n&&(eL[0]=n.toString()),n=eL);for(var i=0;i<n.length;i++){var o=function e(t,n,r,i,o){if(i&&i.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=eb(r),t&&t[ee]?t.O(n,r,E(i)?!!i.capture:!!i,o):ed(t,n,r,!0,i,o)}(t,n,r,i,o);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=eb(r),t&&t[ee]?t.N(n,r,E(i)?!!i.capture:!!i,o):ed(t,n,r,!1,i,o)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ej(e){ei(e.g,function(e,t){this.g.hasOwnProperty(t)&&ep(e)},e),e.g={}}function eU(){this.g=!0}function eF(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return eT(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eP.prototype.M=function(){eP.X.M.call(this),ej(this)},eP.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eU.prototype.Aa=function(){this.g=!1},eU.prototype.info=function(){};var eV={},eB=null;function eW(){return eB=eB||new ew}function eq(e){N.call(this,eV.Pa,e)}function eH(e){let t=eW();eE(t,new eq(t))}function ez(e,t){N.call(this,eV.STAT_EVENT,e),this.stat=t}function e$(e){let t=eW();eE(t,new ez(t,e))}function eK(e,t){N.call(this,eV.Qa,e),this.size=t}function eG(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}eV.Pa="serverreachability",O(eq,N),eV.STAT_EVENT="statevent",O(ez,N),eV.Qa="timingevent",O(eK,N);var eQ={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},eX={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function eJ(){}function eY(e){return e.h||(e.h=e.i())}function eZ(){}eJ.prototype.h=null;var e0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function e1(){N.call(this,"d")}function e2(){N.call(this,"c")}function e3(){}function e4(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new eP(this),this.O=e9,e=W?125:void 0,this.T=new eR(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new e6}function e6(){this.i=null,this.g="",this.h=!1}O(e1,N),O(e2,N),O(e3,eJ),e3.prototype.g=function(){return new XMLHttpRequest},e3.prototype.i=function(){return{}},a=new e3;var e9=45e3,e8={},e5={};function e7(e,t,n){e.K=1,e.v=ty(tf(t)),e.s=n,e.P=!0,te(e,null)}function te(e,t){e.F=Date.now(),tr(e),e.A=tf(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),tR(n.i,"t",r),e.C=0,n=e.l.H,e.h=new e6,e.g=nb(e.l,n?t:null,!e.s),0<e.N&&(e.L=new eD(S(e.La,e,e.g),e.N)),eM(e.S,e.g,"readystatechange",e.ib),t=e.H?eo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),eH(),function(e,t,n,r,i,o){e.info(function(){if(e.g){if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null}else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.U,e.s)}function tt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function tn(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if((i=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?e5:isNaN(n=Number(t.substring(n,r)))?e8:(r+=1)+n>t.length?e5:(t=t.substr(r,n),e.C=r+n,t)}(e,n))==e5){4==t&&(e.o=4,e$(14),r=!1),eF(e.j,e.m,null,"[Incomplete Response]");break}else if(i==e8){e.o=4,e$(15),eF(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else eF(e.j,e.m,i,null),tu(e,i);tt(e)&&i!=e5&&i!=e8&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,e$(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),nh(t),t.K=!0,e$(11))):(eF(e.j,e.m,n,"[Invalid Chunked Response]"),ta(e),ts(e))}function tr(e){e.V=Date.now()+e.O,ti(e,e.O)}function ti(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eG(S(e.gb,e),t)}function to(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function ts(e){0==e.l.G||e.I||np(e.l,e)}function ta(e){to(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,eN(e.T),ej(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tj(n.h,e))){if(!e.J&&tj(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)nd(n),nr(n);else break e}nc(n),e$(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=eG(S(n.cb,n),6e3));if(1>=tM(n.h)&&n.ja){try{n.ja()}catch(e){}n.ja=void 0}}else nm(n,11)}else if((e.J||n.g==e)&&nd(n),!D(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let a=i[t];if(n.T=a[0],a=a[1],2==n.G){if("c"==a[0]){n.I=a[1],n.ka=a[2];let t=a[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));let i=a[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));let u=a[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let l=e.g;if(l){let e=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tU(o,o.h),o.h=null))}if(r.D){let e=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,tm(r.F,r.D,e))}}if(n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),(r=n).sa=nv(r,r.H?r.ka:null,r.V),e.J){tF(r.h,e);var s=r.J;s&&e.setTimeout(s),e.B&&(to(e),tr(e)),r.g=e}else nl(r);0<n.i.length&&no(n)}else"stop"!=a[0]&&"close"!=a[0]||nm(n,7)}else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nm(n,7):nn(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}}eH(4)}catch(e){}}function tl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(w(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(w(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(w(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(c=e4.prototype).setTimeout=function(e){this.O=e},c.ib=function(e){e=e.target;let t=this.L;t&&3==t9(e)?t.l():this.La(e)},c.La=function(e){try{if(e==this.g)e:{let c=t9(this.g);var t=this.g.Ea();let h=this.g.aa();if(!(3>c)&&(3!=c||W||this.g&&(this.h.h||this.g.fa()||t8(this.g)))){this.I||4!=c||7==t||(8==t||0>=h?eH(3):eH(2)),to(this);var n=this.g.aa();this.Y=n;t:if(tt(this)){var r=t8(this.g);e="";var i=r.length,o=4==t9(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ta(this),ts(this);var s="";break t}this.h.i=new v.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(a)){var l=a;break t}}l=null}if(n=l)eF(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tu(this,n);else{this.i=!1,this.o=3,e$(12),ta(this),ts(this);break e}}this.P?(tn(this,c,s),W&&this.i&&3==c&&(eM(this.S,this.T,"tick",this.hb),this.T.start())):(eF(this.j,this.m,s,null),tu(this,s)),4==c&&ta(this),this.i&&!this.I&&(4==c?np(this.l,this):(this.i=!1,tr(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,e$(12)):(this.o=0,e$(13)),ta(this),ts(this)}}}catch(e){}finally{}},c.hb=function(){if(this.g){var e=t9(this.g),t=this.g.fa();this.C<t.length&&(to(this),tn(this,e,t),this.i&&4!=e&&tr(this))}},c.cancel=function(){this.I=!0,ta(this)},c.gb=function(){this.B=null;let e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(eH(),e$(17)),ta(this),this.o=2,ts(this)):ti(this,this.V-e)};var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof th){this.h=void 0!==t?t:e.h,td(this,e.j),this.s=e.s,this.g=e.g,tp(this,e.m),this.l=e.l,t=e.i;var n=new tO;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tg(this,n),this.o=e.o}else e&&(n=String(e).match(tc))?(this.h=!!t,td(this,n[1]||"",!0),this.s=tv(n[2]||""),this.g=tv(n[3]||"",!0),tp(this,n[4]),this.l=tv(n[5]||"",!0),tg(this,n[6]||"",!0),this.o=tv(n[7]||"")):(this.h=!!t,this.i=new tO(null,this.h))}function tf(e){return new th(e)}function td(e,t,n){e.j=n?tv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tp(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tg(e,t,n){var r,i;t instanceof tO?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tA(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tC(this,t),tR(this,n,e))},r)),r.j=i):(n||(t=tb(t,tS)),e.i=new tO(t,e.h))}function tm(e,t,n){e.i.set(t,n)}function ty(e){return tm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tb(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,tw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}th.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tb(t,tE,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tb(t,tE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(tb(n,"/"==n.charAt(0)?tT:t_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tb(n,tI)),e.join("")};var tE=/[#\/\?@]/g,t_=/[#\?:]/g,tT=/[#\?]/g,tS=/[#\?@]/g,tI=/#/g;function tO(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tA(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tC(e,t){tA(e),t=tN(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tk(e,t){return tA(e),t=tN(e,t),e.g.has(t)}function tR(e,t,n){tC(e,t),0<n.length&&(e.i=null,e.g.set(tN(e,t),k(n)),e.h+=n.length)}function tN(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(c=tO.prototype).add=function(e,t){tA(this),this.i=null,e=tN(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},c.forEach=function(e,t){tA(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},c.oa=function(){tA(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},c.W=function(e){tA(this);let t=[];if("string"==typeof e)tk(this,e)&&(t=t.concat(this.g.get(tN(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},c.set=function(e,t){return tA(this),this.i=null,tk(this,e=tN(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},c.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var tx=class{constructor(e,t){this.h=e,this.g=t}};function tD(e){this.l=e||tP,e=v.PerformanceNavigationTiming?0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(v.g&&v.g.Ga&&v.g.Ga()&&v.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tP=10;function tL(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tM(e){return e.h?1:e.g?e.g.size:0}function tj(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tU(e,t){e.g?e.g.add(t):e.h=t}function tF(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tV(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function tB(){}function tW(){this.g=new tB}function tq(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function tH(e){this.l=e.ac||null,this.j=e.jb||!1}function tz(e,t){ew.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=t$,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tD.prototype.cancel=function(){if(this.i=tV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}},tB.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},tB.prototype.parse=function(e){return v.JSON.parse(e,void 0)},O(tH,eJ),tH.prototype.g=function(){return new tz(this.l,this.j)},tH.prototype.i=(r={},function(){return r}),O(tz,ew);var t$=0;function tK(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function tG(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tQ(e)}function tQ(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(c=tz.prototype).open=function(e,t){if(this.readyState!=t$)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tQ(this)},c.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tG(this)),this.readyState=t$},c.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tQ(this)),this.g&&(this.readyState=3,tQ(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tK(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))}},c.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tG(this):tQ(this),3==this.readyState&&tK(this)}},c.Va=function(e){this.g&&(this.response=this.responseText=e,tG(this))},c.Ua=function(e){this.g&&(this.response=e,tG(this))},c.ga=function(){this.g&&tG(this)},c.setRequestHeader=function(e,t){this.v.append(e,t)},c.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tz.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tX=v.JSON.parse;function tJ(e){ew.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tY,this.K=this.L=!1}O(tJ,ew);var tY="",tZ=/^https?$/i,t0=["POST","PUT"];function t1(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,t2(e),t4(e)}function t2(e){e.D||(e.D=!0,eE(e,"complete"),eE(e,"error"))}function t3(e){if(e.h&&void 0!==y&&(!e.C[1]||4!=t9(e)||2!=e.aa())){if(e.v&&4==t9(e))ex(e.Ha,0,e);else if(eE(e,"readystatechange"),4==t9(e)){e.h=!1;try{let a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break e;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.H).match(tc)[1]||null;if(!i&&v.self&&v.self.location){var o=v.self.location.protocol;i=o.substr(0,o.length-1)}n=!tZ.test(i?i.toLowerCase():"")}t=n}if(t)eE(e,"complete"),eE(e,"success");else{e.m=6;try{var s=2<t9(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.aa()+"]",t2(e)}}finally{t4(e)}}}}function t4(e,t){if(e.g){t6(e);let n=e.g,r=e.C[0]?b:null;e.g=null,e.C=null,t||eE(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function t6(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function t9(e){return e.g?e.g.readyState:0}function t8(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tY:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function t5(e){let t="";return ei(e,function(e,n){t+=n+":"+e+"\r\n"}),t}function t7(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t5(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tm(e,t,n))}function ne(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nt(e){this.Ca=0,this.i=[],this.j=new eU,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ne("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ne("baseRetryDelayMs",5e3,e),this.bb=ne("retryDelaySeedMs",1e4,e),this.$a=ne("forwardChannelMaxRetries",2,e),this.ta=ne("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new tD(e&&e.concurrentRequestLimit),this.Fa=new tW,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function nn(e){if(ni(e),3==e.G){var t=e.U++,n=tf(e.F);tm(n,"SID",e.I),tm(n,"RID",t),tm(n,"TYPE","terminate"),na(e,n),(t=new e4(e,e.j,t,void 0)).K=2,t.v=ty(tf(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=nb(t.l,null),t.g.da(t.v)),t.F=Date.now(),tr(t)}ny(e)}function nr(e){e.g&&(nh(e),e.g.cancel(),e.g=null)}function ni(e){nr(e),e.u&&(v.clearTimeout(e.u),e.u=null),nd(e),e.h.cancel(),e.m&&("number"==typeof e.m&&v.clearTimeout(e.m),e.m=null)}function no(e){tL(e.h)||e.m||(e.m=!0,eO(e.Ja,e),e.C=0)}function ns(e,t){var n;n=t?t.m:e.U++;let r=tf(e.F);tm(r,"SID",e.I),tm(r,"RID",n),tm(r,"AID",e.T),na(e,r),e.o&&e.s&&t7(r,e.o,e.s),n=new e4(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=nu(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),tU(e.h,n),e7(n,r,t)}function na(e,t){e.ia&&ei(e.ia,function(e,n){tm(t,n,e)}),e.l&&tl({},function(e,n){tm(t,n,e)})}function nu(e,t,n){n=Math.min(e.i.length,n);var r=e.l?S(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h,a=i[s].g;if(0>(n-=t))t=Math.max(0,i[s].h-100),o=!1;else try{!function(e,t,n){let r=n||"";try{tl(e,function(e,n){let i=e;E(e)&&(i=eT(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nl(e){e.g||e.u||(e.Z=1,eO(e.Ia,e),e.A=0)}function nc(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Z++,e.u=eG(S(e.Ia,e),ng(e,e.A)),e.A++,!0)}function nh(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function nf(e){e.g=new e4(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=tf(e.sa);tm(t,"RID","rpc"),tm(t,"SID",e.I),tm(t,"CI",e.L?"0":"1"),tm(t,"AID",e.T),tm(t,"TYPE","xmlhttp"),na(e,t),e.o&&e.s&&t7(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=ty(tf(t)),n.s=null,n.P=!0,te(n,e)}function nd(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function np(e,t){var n=null;if(e.g==t){nd(e),nh(e),e.g=null;var r=2}else{if(!tj(e.h,t))return;n=t.D,tF(e.h,t),r=1}if(0!=e.G){if(e.pa=t.Y,t.i){if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i,o,s=e.C;eE(r=eW(),new eK(r,n)),no(e)}else nl(e)}else if(3==(s=t.o)||0==s&&0<e.pa||!(1==r&&(i=e,o=t,!(tM(i.h)>=i.h.j-(i.m?1:0))&&(i.m?(i.i=o.D.concat(i.i),!0):1!=i.G&&2!=i.G&&!(i.C>=(i.Za?0:i.$a))&&(i.m=eG(S(i.Ja,i,o),ng(i,i.C)),i.C++,!0)))||2==r&&nc(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),s){case 1:nm(e,5);break;case 4:nm(e,10);break;case 3:nm(e,6);break;default:nm(e,2)}}}function ng(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function nm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=S(e.kb,e);n||(n=new th("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||td(n,"https"),ty(n)),function(e,t){let n=new eU;if(v.Image){let r=new Image;r.onload=I(tq,n,r,"TestLoadImage: loaded",!0,t),r.onerror=I(tq,n,r,"TestLoadImage: error",!1,t),r.onabort=I(tq,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=I(tq,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else e$(2);e.G=0,e.l&&e.l.va(t),ny(e),ni(e)}function ny(e){if(e.G=0,e.la=[],e.l){let t=tV(e.h);(0!=t.length||0!=e.i.length)&&(R(e.la,t),R(e.la,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ua()}}function nv(e,t,n){var r=n instanceof th?tf(n):new th(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),tp(r,r.m);else{var i=v.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new th(null,void 0);r&&td(o,r),t&&(o.g=t),i&&tp(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&tm(r,n,t),tm(r,"VER",e.ma),na(e,r),r}function nb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tJ(n&&e.Da&&!e.ra?new tH({jb:!0}):e.ra)).Ka(e.H),t}function nw(){}function nE(){if(V&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function n_(e,t){ew.call(this),this.g=new nt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!D(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new nI(this)}function nT(e){e1.call(this);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nS(){e2.call(this),this.status=1}function nI(e){this.g=e}(c=tJ.prototype).Ka=function(e){this.L=e},c.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():a.g(),this.C=this.u?eY(this.u):eY(a),this.g.onreadystatechange=S(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){t1(this,e);return}if(e=n||"",n=new Map(this.headers),r){if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())n.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r))}for(let[i,s]of(r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=v.FormData&&e instanceof v.FormData,!(0<=C(t0,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(i,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{var s,u;t6(this),0<this.B&&((this.K=(s=this.g,V&&(u=X,Object.prototype.hasOwnProperty.call(u,9)?u[9]:u[9]=function(){let e=0,t=P(String(i)).split("."),n=P("9").split("."),r=Math.max(t.length,n.length);for(let i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=L(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==o[2].length,0==s[2].length)||L(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}(9))&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=S(this.qa,this)):this.A=ex(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){t1(this,e)}},c.qa=function(){void 0!==y&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eE(this,"timeout"),this.abort(8))},c.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eE(this,"complete"),eE(this,"abort"),t4(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t4(this,!0)),tJ.X.M.call(this)},c.Ha=function(){this.s||(this.F||this.v||this.l?t3(this):this.fb())},c.fb=function(){t3(this)},c.aa=function(){try{return 2<t9(this)?this.g.status:-1}catch(e){return -1}},c.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},c.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tX(t)}},c.Ea=function(){return this.m},c.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=nt.prototype).ma=8,c.G=1,c.Ja=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new e4(this,this.j,e,void 0),o=this.s;if(this.S&&(o?ea(o=eo(o),this.S):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&"string"==typeof(r=r.g.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=nu(this,i,t),tm(n=tf(this.F),"RID",e),tm(n,"CVER",22),this.D&&tm(n,"X-HTTP-Session-Id",this.D),na(this,n),o&&(this.N?t="headers="+encodeURIComponent(String(t5(o)))+"&"+t:this.o&&t7(n,this.o,o)),tU(this.h,i),this.Ya&&tm(n,"TYPE","init"),this.O?(tm(n,"$req",t),tm(n,"SID","null"),i.Z=!0,e7(i,n,null)):e7(i,n,t),this.G=2}}else 3==this.G&&(e?ns(this,e):0==this.i.length||tL(this.h)||ns(this))}},c.Ia=function(){if(this.u=null,nf(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=eG(S(this.eb,this),e)}},c.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,e$(10),nr(this),nf(this))},c.cb=function(){null!=this.v&&(this.v=null,nr(this),nc(this),e$(19))},c.kb=function(e){e?(this.j.info("Successfully pinged google.com"),e$(2)):(this.j.info("Failed to ping google.com"),e$(1))},(c=nw.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Ra=function(){},nE.prototype.g=function(e,t){return new n_(e,t)},O(n_,ew),n_.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e$(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=nv(e,null,e.V),no(e)},n_.prototype.close=function(){nn(this.g)},n_.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=eT(e),e=n);t.i.push(new tx(t.ab++,e)),3==t.G&&no(t)},n_.prototype.M=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,n_.X.M.call(this)},O(nT,e1),O(nS,e2),O(nI,nw),nI.prototype.xa=function(){eE(this.g,"a")},nI.prototype.wa=function(e){eE(this.g,new nT(e))},nI.prototype.va=function(e){eE(this.g,new nS)},nI.prototype.ua=function(){eE(this.g,"b")},nE.prototype.createWebChannel=nE.prototype.g,n_.prototype.send=n_.prototype.u,n_.prototype.open=n_.prototype.m,n_.prototype.close=n_.prototype.close,eQ.NO_ERROR=0,eQ.TIMEOUT=8,eQ.HTTP_ERROR=6,eX.COMPLETE="complete",eZ.EventType=e0,e0.OPEN="a",e0.CLOSE="b",e0.ERROR="c",e0.MESSAGE="d",ew.prototype.listen=ew.prototype.N,tJ.prototype.listenOnce=tJ.prototype.O,tJ.prototype.getLastError=tJ.prototype.Oa,tJ.prototype.getLastErrorCode=tJ.prototype.Ea,tJ.prototype.getStatus=tJ.prototype.aa,tJ.prototype.getResponseJson=tJ.prototype.Sa,tJ.prototype.getResponseText=tJ.prototype.fa,tJ.prototype.send=tJ.prototype.da,tJ.prototype.setWithCredentials=tJ.prototype.Ka;var nO=m.createWebChannelTransport=function(){return new nE},nA=m.getStatEventTarget=function(){return eW()},nC=m.ErrorCode=eQ,nk=m.EventType=eX,nR=m.Event=eV,nN=m.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nx=m.FetchXmlHttpFactory=tH,nD=m.WebChannel=eZ,nP=m.XhrIo=tJ;n(3454);let nL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nM.UNAUTHENTICATED=new nM(null),nM.GOOGLE_CREDENTIALS=new nM("google-credentials-uid"),nM.FIRST_PARTY=new nM("first-party-uid"),nM.MOCK_USER=new nM("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nj="9.17.1",nU=new d.Yd("@firebase/firestore");function nF(){return nU.logLevel}function nV(e,...t){if(nU.logLevel<=d.in.DEBUG){let n=t.map(nq);nU.debug(`Firestore (${nj}): ${e}`,...n)}}function nB(e,...t){if(nU.logLevel<=d.in.ERROR){let n=t.map(nq);nU.error(`Firestore (${nj}): ${e}`,...n)}}function nW(e,...t){if(nU.logLevel<=d.in.WARN){let n=t.map(nq);nU.warn(`Firestore (${nj}): ${e}`,...n)}}function nq(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(e="Unexpected state"){let t=`FIRESTORE (${nj}) INTERNAL ASSERTION FAILED: `+e;throw nB(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nz={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class n$ extends p.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nM.UNAUTHENTICATED))}shutdown(){}}class nX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nJ{constructor(e){this.t=e,this.currentUser=nM.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new nK;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nK,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{nV("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(nV("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nK)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(nV("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||nH(),new nG(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||nH(),new nM(e)}}class nY{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=nM.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():("object"==typeof this.h&&null!==this.h&&this.h.auth&&this.h.auth.getAuthHeaderValueForFirstParty||nH(),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nZ{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new nY(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(nM.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){let n=e=>{null!=e.error&&nV("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.A;return this.A=e.token,nV("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{nV("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.T.getImmediate({optional:!0});e?r(e):nV("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||nH(),this.A=e.token,new n0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{static R(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function n3(e,t){return e<t?-1:e>t?1:0}function n4(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new n$(nz.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new n$(nz.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n6.fromMillis(Date.now())}static fromDate(e){return n6.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3);return new n6(t,Math.floor(1e6*(e-1e3*t)))}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?n3(this.nanoseconds,e.nanoseconds):n3(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n9(e)}static min(){return new n9(new n6(0,0))}static max(){return new n9(new n6(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,t,n){void 0===t?t=0:t>e.length&&nH(),void 0===n?n=e.length-t:n>e.length-t&&nH(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===n8.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n8?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class n5 extends n8{construct(e,t,n){return new n5(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new n$(nz.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new n5(t)}static emptyPath(){return new n5([])}}let n7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class re extends n8{construct(e,t,n){return new re(e,t,n)}static isValidIdentifier(e){return n7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),re.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new re(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new n$(nz.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},o=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new n$(nz.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new n$(nz.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new n$(nz.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new re(t)}static emptyPath(){return new re([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(n5.fromString(e))}static fromName(e){return new rt(n5.fromString(e).popFirst(5))}static empty(){return new rt(n5.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===n5.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return n5.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new n5(e.slice()))}}class rn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new rn(n9.min(),rt.empty(),-1)}static max(){return new rn(n9.max(),rt.empty(),-1)}}class rr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(e){if(e.code!==nz.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;nV("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nH(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ro((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof ro?t:ro.resolve(t)}catch(e){return ro.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ro.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ro.reject(t)}static resolve(e){return new ro((t,n)=>{t(e)})}static reject(e){return new ro((t,n)=>{n(e)})}static waitFor(e){return new ro((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=ro.resolve(!1);for(let n of e)t=t.next(e=>e?ro.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ro((n,r)=>{let i=e.length,o=Array(i),s=0;for(let a=0;a<i;a++){let u=a;t(e[u]).next(e=>{o[u]=e,++s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new ro((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function rs(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ct&&this.ct(e),e}}ra.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rh(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rd(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.binaryString=e}static fromBase64String(e){let t=atob(e);return new rp(t)}static fromUint8Array(e){let t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return n3(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rp.EMPTY_BYTE_STRING=new rp("");let rg=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rm(e){if(e||nH(),"string"==typeof e){let t=0,n=rg.exec(e);if(n||nH(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ry(e.seconds),nanos:ry(e.nanos)}}function ry(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rv(e){return"string"==typeof e?rp.fromBase64String(e):rp.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rw(e){let t=rm(e.mapValue.fields.__local_write_time__.timestampValue);return new n6(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function r_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rb(e)?4:rP(e)?9007199254740991:10:nH()}function rT(e,t){if(e===t)return!0;let n=r_(e);if(n!==r_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rw(e).isEqual(rw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=rm(e.timestampValue),r=rm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return rv(e.bytesValue).isEqual(rv(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return ry(e.geoPointValue.latitude)===ry(t.geoPointValue.latitude)&&ry(e.geoPointValue.longitude)===ry(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ry(e.integerValue)===ry(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=ry(e.doubleValue),r=ry(t.doubleValue);return n===r?rd(n)===rd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return n4(e.arrayValue.values||[],t.arrayValue.values||[],rT);case 10:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rc(n)!==rc(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!rT(n[e],r[e])))return!1;return!0}(e,t);default:return nH()}}function rS(e,t){return void 0!==(e.values||[]).find(e=>rT(e,t))}function rI(e,t){if(e===t)return 0;let n=r_(e),r=r_(t);if(n!==r)return n3(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return n3(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=ry(e.integerValue||e.doubleValue),r=ry(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rO(e.timestampValue,t.timestampValue);case 4:return rO(rw(e),rw(t));case 5:return n3(e.stringValue,t.stringValue);case 6:return function(e,t){let n=rv(e),r=rv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=n3(n[e],r[e]);if(0!==t)return t}return n3(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=n3(ry(e.latitude),ry(t.latitude));return 0!==n?n:n3(ry(e.longitude),ry(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=rI(n[e],r[e]);if(t)return t}return n3(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===rE.mapValue&&t===rE.mapValue)return 0;if(e===rE.mapValue)return 1;if(t===rE.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){let t=n3(r[e],o[e]);if(0!==t)return t;let s=rI(n[r[e]],i[o[e]]);if(0!==s)return s}return n3(r.length,o.length)}(e.mapValue,t.mapValue);default:throw nH()}}function rO(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return n3(e,t);let n=rm(e),r=rm(t),i=n3(n.seconds,r.seconds);return 0!==i?i:n3(n.nanos,r.nanos)}function rA(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=rm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rt.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=rA(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${rA(e.fields[i])}`;return n+"}"}(e.mapValue):nH()}function rC(e){return!!e&&"integerValue"in e}function rk(e){return!!e&&"arrayValue"in e}function rR(e){return!!e&&"nullValue"in e}function rN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rx(e){return!!e&&"mapValue"in e}function rD(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return rh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=rD(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=rD(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rP(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this.position=e,this.inclusive=t}}function rM(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let o=t[i],s=e.position[i];if(r=o.field.isKeyField()?rt.comparator(rt.fromName(s.referenceValue),n.key):rI(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function rj(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rT(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{}class rF extends rU{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rq(e,t,n):"array-contains"===t?new rK(e,n):"in"===t?new rG(e,n):"not-in"===t?new rQ(e,n):"array-contains-any"===t?new rX(e,n):new rF(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rH(e,n):new rz(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rI(t,this.value)):null!==t&&r_(this.value)===r_(t)&&this.matchesComparison(rI(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nH()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rV extends rU{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new rV(e,t)}matches(e){return rB(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.lt(e=>e.isInequality());return null!==e?e.field:null}lt(e){for(let t of this.getFlattenedFilters())if(e(t))return t;return null}}function rB(e){return"and"===e.op}function rW(e){for(let t of e.filters)if(t instanceof rV)return!1;return!0}class rq extends rF{constructor(e,t,n){super(e,t,n),this.key=rt.fromName(n.referenceValue)}matches(e){let t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class rH extends rF{constructor(e,t){super(e,"in",t),this.keys=r$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rz extends rF{constructor(e,t){super(e,"not-in",t),this.keys=r$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r$(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>rt.fromName(e.referenceValue))}class rK extends rF{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return rk(t)&&rS(t.arrayValue,this.value)}}class rG extends rF{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&rS(this.value.arrayValue,t)}}class rQ extends rF{constructor(e,t){super(e,"not-in",t)}matches(e){if(rS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!rS(this.value.arrayValue,t)}}class rX extends rF{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!rk(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>rS(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,t="asc"){this.field=e,this.dir=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e,t){this.comparator=e,this.root=t||r0.EMPTY}insert(e,t){return new rY(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,r0.BLACK,null,null))}remove(e){return new rY(this.comparator,this.root.remove(e,this.comparator).copy(null,null,r0.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rZ(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rZ(this.root,e,this.comparator,!1)}getReverseIterator(){return new rZ(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rZ(this.root,e,this.comparator,!0)}}class rZ{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class r0{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:r0.RED,this.left=null!=r?r:r0.EMPTY,this.right=null!=i?i:r0.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new r0(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return r0.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return r0.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r0.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nH();let e=this.left.check();if(e!==this.right.check())throw nH();return e+(this.isRed()?0:1)}}r0.EMPTY=null,r0.RED=!0,r0.BLACK=!1,r0.EMPTY=new class{constructor(){this.size=0}get key(){throw nH()}get value(){throw nH()}get color(){throw nH()}get left(){throw nH()}get right(){throw nH()}copy(e,t,n,r,i){return this}insert(e,t,n){return new r0(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.comparator=e,this.data=new rY(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new r2(this.data.getIterator())}getIteratorFrom(e){return new r2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof r1)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r1(this.comparator);return t.data=e,t}}class r2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.fields=e,e.sort(re.comparator)}static empty(){return new r3([])}unionWith(e){let t=new r1(re.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new r3(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return n4(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.value=e}static empty(){return new r4({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!rx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rD(t)}setAll(e){let t=re.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=rD(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());rx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rT(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(rh(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new r4(rD(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new r6(e,0,n9.min(),n9.min(),n9.min(),r4.empty(),0)}static newFoundDocument(e,t,n,r){return new r6(e,1,t,n9.min(),n,r,0)}static newNoDocument(e,t){return new r6(e,2,t,n9.min(),n9.min(),r4.empty(),0)}static newUnknownDocument(e,t){return new r6(e,3,t,n9.min(),n9.min(),r4.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(n9.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=r4.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=r4.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=n9.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof r6&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new r6(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ft=null}}function r8(e,t=null,n=[],r=[],i=null,o=null,s=null){return new r9(e,t,n,r,i,o,s)}function r5(e){let t=e;if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>(function e(t){if(t instanceof rF)return t.field.canonicalString()+t.op.toString()+rA(t.value);if(rW(t)&&rB(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(",")+"|ob:"+t.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==t.limit||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>rA(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>rA(e)).join(",")),t.ft=e}return t.ft}function r7(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof rF?n instanceof rF&&t.op===n.op&&t.field.isEqual(n.field)&&rT(t.value,n.value):t instanceof rV?n instanceof rV&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void nH()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rj(e.startAt,t.startAt)&&rj(e.endAt,t.endAt)}function ie(e){return rt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function ir(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ii(e){let t=e;if(null===t.dt){t.dt=[];let e=function(e){for(let t of e.filters){let e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),n=t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null;if(null!==e&&null===n)e.isKeyField()||t.dt.push(new rJ(e)),t.dt.push(new rJ(re.keyField(),"asc"));else{let e=!1;for(let n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){let e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new rJ(re.keyField(),e))}}}return t.dt}function io(e){let t=e;if(!t._t){if("F"===t.limitType)t._t=r8(t.path,t.collectionGroup,ii(t),t.filters,t.limit,t.startAt,t.endAt);else{let e=[];for(let n of ii(t)){let t="desc"===n.dir?"asc":"desc";e.push(new rJ(n.field,t))}let n=t.endAt?new rL(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rL(t.startAt.position,t.startAt.inclusive):null;t._t=r8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}return t._t}function is(e,t,n){return new it(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ia(e,t){return r7(io(e),io(t))&&e.limitType===t.limitType}function iu(e){return`${r5(io(e))}|lt:${e.limitType}`}function il(e){var t;let n;return`Query(target=${n=(t=io(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof rF?`${t.field.canonicalString()} ${t.op} ${rA(t.value)}`:t instanceof rV?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>rA(e)).join(",")),t.endAt&&(n+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>rA(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function ic(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rt.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of ii(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=rM(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ii(e),t))&&(!e.endAt||!!function(e,t,n){let r=rM(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ii(e),t))}function ih(e){return(t,n)=>{let r=!1;for(let i of ii(e)){let e=function(e,t,n){let r=e.field.isKeyField()?rt.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rI(r,i):nH()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return nH()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(t)?"-0":t}}function ip(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this._=void 0}}function im(e,t){return e instanceof i_?rC(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class iy extends ig{}class iv extends ig{constructor(e){super(),this.elements=e}}function ib(e,t){let n=iS(t);for(let t of e.elements)n.some(e=>rT(e,t))||n.push(t);return{arrayValue:{values:n}}}class iw extends ig{constructor(e){super(),this.elements=e}}function iE(e,t){let n=iS(t);for(let t of e.elements)n=n.filter(e=>!rT(e,t));return{arrayValue:{values:n}}}class i_ extends ig{constructor(e,t){super(),this.yt=e,this.gt=t}}function iT(e){return ry(e.integerValue||e.doubleValue)}function iS(e){return rk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class iI{constructor(e,t){this.version=e,this.transformResults=t}}class iO{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new iO}static exists(e){return new iO(void 0,e)}static updateTime(e){return new iO(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iA(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iC{}function ik(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ij(e.key,iO.none()):new ix(e.key,e.data,iO.none());{let n=e.data,r=r4.empty(),i=new r1(re.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new iD(e.key,r,new r3(i.toArray()),iO.none())}}function iR(e,t,n,r){return e instanceof ix?function(e,t,n,r){if(!iA(e.precondition,t))return n;let i=e.value.clone(),o=iM(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof iD?function(e,t,n,r){if(!iA(e.precondition,t))return n;let i=iM(e.fieldTransforms,r,t),o=t.data;return(o.setAll(iP(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):iA(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function iN(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&n4(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof iv&&r instanceof iv||n instanceof iw&&r instanceof iw?n4(n.elements,r.elements,rT):n instanceof i_&&r instanceof i_?rT(n.gt,r.gt):n instanceof iy&&r instanceof iy)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ix extends iC{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class iD extends iC{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iP(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function iL(e,t,n){var r;let i=new Map;e.length===n.length||nH();for(let o=0;o<n.length;o++){let s=e[o],a=s.transform,u=t.data.field(s.field);i.set(s.field,(r=n[o],a instanceof iv?ib(a,u):a instanceof iw?iE(a,u):r))}return i}function iM(e,t,n){let r=new Map;for(let i of e){let e=i.transform,o=n.data.field(i.field);r.set(i.field,e instanceof iy?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,o):e instanceof iv?ib(e,o):e instanceof iw?iE(e,o):function(e,t){let n=im(e,t),r=iT(n)+iT(e.gt);return rC(n)&&rC(e.gt)?ip(r):id(e.yt,r)}(e,o))}return r}class ij extends iC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iU extends iC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.count=e}}function iV(e){if(void 0===e)return nB("GRPC error has no .code"),nz.UNKNOWN;switch(e){case u.OK:return nz.OK;case u.CANCELLED:return nz.CANCELLED;case u.UNKNOWN:return nz.UNKNOWN;case u.DEADLINE_EXCEEDED:return nz.DEADLINE_EXCEEDED;case u.RESOURCE_EXHAUSTED:return nz.RESOURCE_EXHAUSTED;case u.INTERNAL:return nz.INTERNAL;case u.UNAVAILABLE:return nz.UNAVAILABLE;case u.UNAUTHENTICATED:return nz.UNAUTHENTICATED;case u.INVALID_ARGUMENT:return nz.INVALID_ARGUMENT;case u.NOT_FOUND:return nz.NOT_FOUND;case u.ALREADY_EXISTS:return nz.ALREADY_EXISTS;case u.PERMISSION_DENIED:return nz.PERMISSION_DENIED;case u.FAILED_PRECONDITION:return nz.FAILED_PRECONDITION;case u.ABORTED:return nz.ABORTED;case u.OUT_OF_RANGE:return nz.OUT_OF_RANGE;case u.UNIMPLEMENTED:return nz.UNIMPLEMENTED;case u.DATA_LOSS:return nz.DATA_LOSS;default:return nH()}}(l=u||(u={}))[l.OK=0]="OK",l[l.CANCELLED=1]="CANCELLED",l[l.UNKNOWN=2]="UNKNOWN",l[l.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",l[l.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",l[l.NOT_FOUND=5]="NOT_FOUND",l[l.ALREADY_EXISTS=6]="ALREADY_EXISTS",l[l.PERMISSION_DENIED=7]="PERMISSION_DENIED",l[l.UNAUTHENTICATED=16]="UNAUTHENTICATED",l[l.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",l[l.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",l[l.ABORTED=10]="ABORTED",l[l.OUT_OF_RANGE=11]="OUT_OF_RANGE",l[l.UNIMPLEMENTED=12]="UNIMPLEMENTED",l[l.INTERNAL=13]="INTERNAL",l[l.UNAVAILABLE=14]="UNAVAILABLE",l[l.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rh(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return rf(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iW=new rY(rt.comparator),iq=new rY(rt.comparator);function iH(...e){let t=iq;for(let n of e)t=t.insert(n.key,n);return t}function iz(e){let t=iq;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function i$(){return new iB(e=>e.toString(),(e,t)=>e.isEqual(t))}let iK=new rY(rt.comparator),iG=new r1(rt.comparator);function iQ(...e){let t=iG;for(let n of e)t=t.add(n);return t}let iX=new r1(n3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,iY.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new iJ(n9.min(),r,iX,iW,iQ())}}class iY{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new iY(n,t,iQ(),iQ(),iQ())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,t,n,r){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=r}}class i0{constructor(e,t){this.targetId=e,this.Et=t}}class i1{constructor(e,t,n=rp.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class i2{constructor(){this.At=0,this.Rt=i6(),this.bt=rp.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=iQ(),t=iQ(),n=iQ();return this.Rt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nH()}}),new iY(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=i6()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class i3{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=iW,this.qt=i4(),this.Ut=new r1(n3)}Kt(e){for(let t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(let t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{let n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:nH()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((e,n)=>{this.zt(n)&&t(n)})}Jt(e){let t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){let e=r.target;if(ie(e)){if(0===n){let n=new rt(e.path);this.Qt(t,n,r6.newNoDocument(n,n9.min()))}else 1===n||nH()}else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){let t=new Map;this.Bt.forEach((n,r)=>{let i=this.Yt(r);if(i){if(n.current&&ie(i.target)){let t=new rt(i.target.path);null!==this.Lt.get(t)||this.te(r,t)||this.Qt(r,t,r6.newNoDocument(t,e))}n.St&&(t.set(r,n.Ct()),n.xt())}});let n=iQ();this.qt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Yt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.Lt.forEach((t,n)=>n.setReadTime(e));let r=new iJ(e,t,this.Ut,this.Lt,n);return this.Lt=iW,this.qt=i4(),this.Ut=new r1(n3),r}Gt(e,t){if(!this.zt(e))return;let n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;let r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){let t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new i2,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new r1(n3),this.qt=this.qt.insert(e,t)),t}zt(e){let t=null!==this.Yt(e);return t||nV("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){let t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new i2),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function i4(){return new rY(rt.comparator)}function i6(){return new rY(rt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i9={asc:"ASCENDING",desc:"DESCENDING"},i8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i5={and:"AND",or:"OR"};class i7{constructor(e,t){this.databaseId=e,this.wt=t}}function oe(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ot(e,t){return e.wt?t.toBase64():t.toUint8Array()}function on(e){return e||nH(),n9.fromTimestamp(function(e){let t=rm(e);return new n6(t.seconds,t.nanos)}(e))}function or(e,t){return new n5(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function oi(e){let t=n5.fromString(e);return od(t)||nH(),t}function oo(e,t){return or(e.databaseId,t.path)}function os(e,t){let n=oi(t);if(n.get(1)!==e.databaseId.projectId)throw new n$(nz.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new n$(nz.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rt(ol(n))}function oa(e,t){return or(e.databaseId,t)}function ou(e){return new n5(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ol(e){return e.length>4&&"documents"===e.get(4)||nH(),e.popFirst(5)}function oc(e,t,n){return{name:oo(e,t),fields:n.value.mapValue.fields}}function oh(e){return{fieldPath:e.canonicalString()}}function of(e){return re.fromServerFormat(e.fieldPath)}function od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var r;r=n[t],i instanceof ix?function(e,t,n){let r=e.value.clone(),i=iL(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(i,e,r):i instanceof iD?function(e,t,n){if(!iA(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=iL(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iP(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(i,e,r):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,r)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=iR(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=iR(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=i$();return this.mutations.forEach(r=>{let i=e.get(r.key),o=i.overlayedDocument,s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;let a=ik(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(n9.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),iQ())}isEqual(e){return this.batchId===e.batchId&&n4(this.mutations,e.mutations,(e,t)=>iN(e,t))&&n4(this.baseMutations,e.baseMutations,(e,t)=>iN(e,t))}}class og{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||nH();let r=iK,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new og(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,n,r,i=n9.min(),o=n9.min(),s=rp.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new oy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new oy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.ie=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ry(e.integerValue));else if("doubleValue"in e){let n=ry(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),rd(n)?t.le(0):t.le(n))}else if("timestampValue"in e){let n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe(`${n.seconds||""}`),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(rv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?rP(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):nH()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){let n=e.fields||{};for(let e of(this.he(t,55),Object.keys(n)))this.de(e,t),this.ce(n[e],t)}ye(e,t){let n=e.values||[];for(let e of(this.he(t,50),n))this.ce(e,t)}me(e,t){this.he(t,37),rt.fromName(e).path.forEach(e=>{this.he(t,60),this.pe(e,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}ob.Ie=new ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Je=new oE}addToCollectionParentIndex(e,t){return this.Je.add(t),ro.resolve()}getCollectionParents(e,t){return ro.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ro.resolve()}deleteFieldIndex(e,t){return ro.resolve()}getDocumentsMatchingTarget(e,t){return ro.resolve(null)}getIndexType(e,t){return ro.resolve(0)}getFieldIndexes(e,t){return ro.resolve([])}getNextCollectionGroupToUpdate(e){return ro.resolve(null)}getMinOffset(e,t){return ro.resolve(rn.min())}getMinOffsetFromCollectionGroup(e,t){return ro.resolve(rn.min())}updateCollectionGroup(e,t,n){return ro.resolve()}updateIndexEntries(e,t){return ro.resolve()}}class oE{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new r1(n5.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new r1(n5.comparator)).toArray()}}new Uint8Array(0);class o_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new o_(e,o_.DEFAULT_COLLECTION_PERCENTILE,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */o_.DEFAULT_COLLECTION_PERCENTILE=10,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,o_.DEFAULT=new o_(41943040,o_.DEFAULT_COLLECTION_PERCENTILE,o_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),o_.DISABLED=new o_(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new oT(0)}static vn(){return new oT(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new iB(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,r6.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?ro.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&iR(n.mutation,e,r3.empty(),n6.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,iQ()).next(()=>t))}getLocalViewOfDocuments(e,t,n=iQ()){let r=i$();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=iH();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=i$();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,iQ()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=iW,o=i$(),s=i$();return t.forEach((e,t)=>{let s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof iD)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),iR(s.mutation,t,s.mutation.getFieldMask(),n6.now())):o.set(t.key,r3.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new oI(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){let n=i$(),r=new rY((e,t)=>e-t),i=iQ();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let s=n.get(e)||r3.empty();s=i.applyToLocalView(o,s),n.set(e,s);let a=(r.get(i.batchId)||iQ()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{let o=[],s=r.getReverseIterator();for(;s.hasNext();){let r=s.getNext(),a=r.key,u=r.value,l=i$();u.forEach(e=>{if(!i.has(e)){let r=ik(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return ro.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return rt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ro.resolve(i$()),s=-1,a=i;return o.next(t=>ro.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ro.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,iQ())).next(e=>({batchId:s,changes:iz(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(e=>{let t=iH();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){let r=t.collectionGroup,i=iH();return this.indexManager.getCollectionParents(e,r).next(o=>ro.forEach(o,o=>{var s;let a=(s=o.child(r),new it(s,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,r6.newInvalidDocument(r)))});let n=iH();return e.forEach((e,i)=>{let o=r.get(e);void 0!==o&&iR(o.mutation,i,r3.empty(),n6.now()),ic(t,i)&&(n=n.insert(e,i))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ro.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){return this.Zn.set(t.id,{id:t.id,version:t.version,createTime:on(t.createTime)}),ro.resolve()}getNamedQuery(e,t){return ro.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:t.name,query:function(e){let t=function(e){var t,n,r,i,o,s,a,u;let l,c=function(e){let t=oi(e);return 4===t.length?n5.emptyPath():ol(t)}(e.parent),h=e.structuredQuery,f=h.from?h.from.length:0,d=null;if(f>0){1===f||nH();let e=h.from[0];e.allDescendants?d=e.collectionId:c=c.child(e.collectionId)}let p=[];h.where&&(p=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=of(e.unaryFilter.field);return rF.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=of(e.unaryFilter.field);return rF.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=of(e.unaryFilter.field);return rF.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=of(e.unaryFilter.field);return rF.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nH()}}(t):void 0!==t.fieldFilter?rF.create(of(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nH()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?rV.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return nH()}}(t.compositeFilter.op)):nH()}(e);return n instanceof rV&&rW(t=n)&&rB(t)?n.getFilters():[n]}(h.where));let g=[];h.orderBy&&(g=h.orderBy.map(e=>new rJ(of(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let m=null;h.limit&&(m=null==(l="object"==typeof(t=h.limit)?t.value:t)?null:l);let y=null;h.startAt&&(y=function(e){let t=!!e.before,n=e.values||[];return new rL(n,t)}(h.startAt));let v=null;return h.endAt&&(v=function(e){let t=!e.before,n=e.values||[];return new rL(n,t)}(h.endAt)),n=c,r=d,i=g,o=p,s=m,a=y,u=v,new it(n,r,i,o,s,"F",a,u)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?is(t,t.limit,"L"):t}(t.bundledQuery),readTime:on(t.readTime)}),ro.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new rY(rt.comparator),this.es=new Map}getOverlay(e,t){return ro.resolve(this.overlays.get(t))}getOverlays(e,t){let n=i$();return ro.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.oe(e,t,r)}),ro.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.es.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(n)),ro.resolve()}getOverlaysForCollection(e,t,n){let r=i$(),i=t.length+1,o=new rt(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ro.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rY((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=i$(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=i$(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return ro.resolve(s)}oe(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new om(t,n));let i=this.es.get(t);void 0===i&&(i=iQ(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.ns=new r1(oR.ss),this.rs=new r1(oR.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){let n=new oR(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new oR(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){let t=new rt(new n5([])),n=new oR(t,e),r=new oR(t,e+1),i=[];return this.rs.forEachInRange([n,r],e=>{this.cs(e),i.push(e.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){let t=new rt(new n5([])),n=new oR(t,e),r=new oR(t,e+1),i=iQ();return this.rs.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new oR(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class oR{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return rt.comparator(e.key,t.key)||n3(e._s,t._s)}static os(e,t){return n3(e._s,t._s)||rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new r1(oR.ss)}checkEmpty(e){return ro.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new op(i,t,n,r);for(let t of(this.mutationQueue.push(o),r))this.gs=this.gs.add(new oR(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ro.resolve(o)}lookupMutationBatch(e,t){return ro.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.ps(t+1),r=n<0?0:n;return ro.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ro.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ro.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new oR(t,0),r=new oR(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],e=>{let t=this.ys(e._s);i.push(t)}),ro.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new r1(n3);return t.forEach(e=>{let t=new oR(e,0),r=new oR(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],e=>{n=n.add(e._s)})}),ro.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;rt.isDocumentKey(i)||(i=i.child(""));let o=new oR(new rt(i),0),s=new r1(n3);return this.gs.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e._s)),!0)},o),ro.resolve(this.Is(s))}Is(e){let t=[];return e.forEach(e=>{let n=this.ys(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Ts(t.batchId,"removed")||nH(),this.mutationQueue.shift();let n=this.gs;return ro.forEach(t.mutations,r=>{let i=new oR(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){let n=new oR(t,0),r=this.gs.firstAfterOrEqual(n);return ro.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ro.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){let t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.Es=e,this.docs=new rY(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return ro.resolve(n?n.document.mutableCopy():r6.newInvalidDocument(t))}getEntries(e,t){let n=iW;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():r6.newInvalidDocument(e))}),ro.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iW,o=t.path,s=new rt(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){let{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rt.comparator(e.documentKey,t.documentKey))?n:n3(e.largestBatchId,t.largestBatchId)}(new rn(s.readTime,s.key,-1),n)||(r.has(s.key)||ic(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ro.resolve(i)}getAllFromCollectionGroup(e,t,n,r){nH()}As(e,t){return ro.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new oD(this)}getSize(e){return ro.resolve(this.size)}}class oD extends oS{constructor(e){super(),this.Yn=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)}),ro.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.persistence=e,this.Rs=new iB(e=>r5(e),r7),this.lastRemoteSnapshotVersion=n9.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ok,this.targetCount=0,this.vs=oT.Pn()}forEachTarget(e,t){return this.Rs.forEach((e,n)=>t(n)),ro.resolve()}getLastRemoteSnapshotVersion(e){return ro.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ro.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ro.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ro.resolve()}Dn(e){this.Rs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.vs=new oT(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ro.resolve()}updateTargetData(e,t){return this.Dn(t),ro.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ro.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Rs.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),ro.waitFor(i).next(()=>r)}getTargetCount(e){return ro.resolve(this.targetCount)}getTargetData(e,t){let n=this.Rs.get(t)||null;return ro.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),ro.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ro.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ro.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Ps.ds(t);return ro.resolve(n)}containsKey(e,t){return ro.resolve(this.Ps.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,t){var n;this.Vs={},this.overlays={},this.Ss=new ra(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new oP(this),this.indexManager=new ow,this.remoteDocumentCache=(n=e=>this.referenceDelegate.xs(e),new ox(n)),this.yt=new ov(t),this.Ns=new oA(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new oN(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){nV("MemoryPersistence","Starting transaction:",e);let r=new oM(this.Ss.next());return this.referenceDelegate.ks(),n(r).next(e=>this.referenceDelegate.Os(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ms(e,t){return ro.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class oM extends rr{constructor(e){super(),this.currentSequenceNumber=e}}class oj{constructor(e){this.persistence=e,this.Fs=new ok,this.$s=null}static Bs(e){return new oj(e)}get Ls(){if(this.$s)return this.$s;throw nH()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ro.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ro.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ro.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ro.forEach(this.Ls,n=>{let r=rt.fromPath(n);return this.qs(e,r).next(e=>{e||t.removeEntry(r,n9.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ro.or([()=>ro.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=iQ(),r=iQ();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new oU(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next(i=>i||this.Oi(e,t,r,n)).next(n=>n||this.Mi(e,t))}ki(e,t){if(ir(t))return ro.resolve(null);let n=io(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=io(t=is(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=iQ(...r);return this.Ni.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let o=this.Fi(t,r);return this.$i(t,o,i,n.readTime)?this.ki(e,is(t,null,"F")):this.Bi(e,o,t,n)}))})))}Oi(e,t,n,r){return ir(t)||r.isEqual(n9.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next(i=>{let o=this.Fi(t,i);return this.$i(t,o,n,r)?this.Mi(e,t):(nF()<=d.in.DEBUG&&nV("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),il(t)),this.Bi(e,o,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=n9.fromTimestamp(1e9===r?new n6(n+1,0):new n6(n,r));return new rn(i,rt.empty(),-1)}(r,0)))})}Fi(e,t){let n=new r1(ih(e));return t.forEach((t,r)=>{ic(e,r)&&(n=n.add(r))}),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return nF()<=d.in.DEBUG&&nV("QueryEngine","Using full collection scan to execute query:",il(t)),this.Ni.getDocumentsMatchingQuery(e,t,rn.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new rY(n3),this.Ui=new iB(e=>r5(e),r7),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}async function oB(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Qi(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],o=[],s=iQ();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(o.push(e.batchId),e.mutations))s=s.add(t.key);return e.localDocuments.getDocuments(n,s).next(e=>({ji:e,removedBatchIds:i,addedBatchIds:o}))})})}function oW(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}async function oq(e,t,n){let r=e,i=r.qi.get(t);try{n||await r.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!rs(e))throw e;nV("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function oH(e,t,n){let r=n9.min(),i=iQ();return e.persistence.runTransaction("Execute query","readonly",o=>(function(e,t,n){let r=e.Ui.get(n);return void 0!==r?ro.resolve(e.qi.get(r)):e.Cs.getTargetData(t,n)})(e,o,io(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Cs.getMatchingKeysForTargetId(o,t.targetId).next(e=>{i=e})}).next(()=>e.Li.getDocumentsMatchingQuery(o,t,n?r:n9.min(),n?i:iQ())).next(n=>{var r;let o;return r=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),o=e.Ki.get(r)||n9.min(),n.forEach((e,t)=>{t.readTime.compareTo(o)>0&&(o=t.readTime)}),e.Ki.set(r,o),{documents:n,Hi:i}}))}class oz{constructor(){this.activeTargetIds=iX}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o${constructor(){this.Lr=new oz,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oz,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){for(let e of(nV("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.Wr))e(0)}jr(){for(let e of(nV("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.Wr))e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){let o=this.ho(e,t);nV("RestConnection","Sending: ",o,n);let s={};return this.lo(s,r,i),this.fo(e,o,s,n).then(e=>(nV("RestConnection","Received: ",e),e),t=>{throw nW("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t})}_o(e,t,n,r,i,o){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nj,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}ho(e,t){let n=oQ[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise((i,o)=>{let s=new nP;s.setWithCredentials(!0),s.listenOnce(nk.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case nC.NO_ERROR:let t=s.getResponseJson();nV("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nC.TIMEOUT:nV("Connection",'RPC "'+e+'" timed out'),o(new n$(nz.DEADLINE_EXCEEDED,"Request time out"));break;case nC.HTTP_ERROR:let n=s.getStatus();if(nV("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(nz).indexOf(t)>=0?t:nz.UNKNOWN}(t.status);o(new n$(e,t.message))}else o(new n$(nz.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new n$(nz.UNAVAILABLE,"Connection failed."));break;default:nH()}}finally{nV("Connection",'RPC "'+e+'" completed.')}});let a=JSON.stringify(r);s.send(t,"POST",a,n,15)})}wo(e,t,n){let r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=nO(),o=nA(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new nx({})),this.lo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let a=r.join("");nV("Connection","Creating WebChannel: "+a,s);let l=i.createWebChannel(a,s),c=!1,h=!1,f=new oX({Hr:e=>{h?nV("Connection","Not sending because WebChannel is closed:",e):(c||(nV("Connection","Opening WebChannel transport."),l.open(),c=!0),nV("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,nD.EventType.OPEN,()=>{h||nV("Connection","WebChannel transport opened.")}),d(l,nD.EventType.CLOSE,()=>{h||(h=!0,nV("Connection","WebChannel transport closed"),f.io())}),d(l,nD.EventType.ERROR,e=>{h||(h=!0,nW("Connection","WebChannel transport errored:",e),f.io(new n$(nz.UNAVAILABLE,"The operation could not be completed")))}),d(l,nD.EventType.MESSAGE,e=>{var t;if(!h){let n=e.data[0];n||nH();let r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){nV("Connection","WebChannel received error:",r);let e=r.status,t=function(e){let t=u[e];if(void 0!==t)return iV(t)}(e),n=r.message;void 0===t&&(t=nz.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),h=!0,f.io(new n$(t,n)),l.close()}else nV("Connection","WebChannel received:",n),f.ro(n)}}),d(o,nR.STAT_EVENT,e=>{e.stat===nN.PROXY?nV("Connection","Detected buffering proxy"):e.stat===nN.NOPROXY&&nV("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function oY(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(e){return new i7(e,!0)}class o0{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();let t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&nV("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t,n,r,i,o,s,a){this.Hs=e,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new o0(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===nz.RESOURCE_EXHAUSTED?(nB(t.toString()),nB("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===nz.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;let e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.So===t&&this.Go(e,n)},t=>{e(()=>{let e=new n$(nz.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)})})}Go(e,t){let n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{n(()=>this.Qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return nV("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(nV("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o2 extends o1{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.yt=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let o="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:nH(),s=t.targetChange.targetIds||[],a=(i=t.targetChange.resumeToken,e.wt?(void 0===i||"string"==typeof i||nH(),rp.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||nH(),rp.fromUint8Array(i||new Uint8Array))),u=t.targetChange.cause,l=u&&function(e){let t=void 0===e.code?nz.UNKNOWN:iV(e.code);return new n$(t,e.message||"")}(u);n=new i1(o,s,a,l||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=os(e,r.document.name),o=on(r.document.updateTime),s=r.document.createTime?on(r.document.createTime):n9.min(),a=new r4({mapValue:{fields:r.document.fields}}),u=r6.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new iZ(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=os(e,r.document),o=r.readTime?on(r.readTime):n9.min(),s=r6.newNoDocument(i,o),a=r.removedTargetIds||[];n=new iZ([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=os(e,r.document),o=r.removedTargetIds||[];n=new iZ([],o,i,null)}else{if(!("filter"in t))return nH();{t.filter;let e=t.filter;e.targetId;let r=e.count||0,i=new iF(r),o=e.targetId;n=new i0(o,i)}}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return n9.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?n9.min():t.readTime?on(t.readTime):n9.min()}(e);return this.listener.Wo(t,n)}zo(e){let t={};t.database=ou(this.yt),t.addTarget=function(e,t){let n;let r=t.target;return(n=ie(r)?{documents:{documents:[oa(e,r.path)]}}:{query:function(e,t){var n,r,i;let o={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(o.parent=oa(e,s),o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o.parent=oa(e,s.popLast()),o.structuredQuery.from=[{collectionId:s.lastSegment()}]);let a=function(e){if(0!==e.length)return function e(t){return t instanceof rF?function(e){if("=="===e.op){if(rN(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(rR(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rN(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(rR(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:i8[e.op],value:e.value}}}(t):t instanceof rV?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:i5[t.op],filters:n}}}(t):nH()}(rV.create(e,"and"))}(t.filters);a&&(o.structuredQuery.where=a);let u=function(e){if(0!==e.length)return e.map(e=>({field:oh(e.field),direction:i9[e.dir]}))}(t.orderBy);u&&(o.structuredQuery.orderBy=u);let l=(r=t.limit,e.wt||null==r?r:{value:r});return null!==l&&(o.structuredQuery.limit=l),t.startAt&&(o.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(o.structuredQuery.endAt={before:!(i=t.endAt).inclusive,values:i.position}),o}(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ot(e,t.resumeToken):t.snapshotVersion.compareTo(n9.min())>0&&(n.readTime=oe(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);let n=function(e,t){let n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nH()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){let t={};t.database=ou(this.yt),t.removeTarget=e,this.Bo(t)}}class o3 extends o1{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){var t,n;if(e.streamToken||nH(),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||nH(),t.map(e=>{let t;return(t=e.updateTime?on(e.updateTime):on(n)).isEqual(n9.min())&&(t=on(n)),new iI(t,e.transformResults||[])})):[]),i=on(e.commitTime);return this.listener.Zo(i,r)}return e.writeResults&&0!==e.writeResults.length&&nH(),this.Jo=!0,this.listener.tu()}eu(){let e={};e.database=ou(this.yt),this.Bo(e)}Xo(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof ix)r={update:oc(e,t.key,t.value)};else if(t instanceof ij)r={delete:oo(e,t.key)};else if(t instanceof iD)r={update:oc(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof iU))return nH();r={verify:oo(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof iy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof i_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw nH()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:oe(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:nH()),r})(this.yt,e))};this.Bo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new n$(nz.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.ao(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===nz.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new n$(nz.UNKNOWN,e.toString())})}_o(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection._o(e,t,n,i,o,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===nz.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new n$(nz.UNKNOWN,e.toString())})}terminate(){this.nu=!0}}class o6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nB(t),this.ou=!1):nV("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur(e=>{n.enqueueAndForget(async()=>{so(this)&&(nV("RemoteStore","Restarting streams for network reachability change."),await async function(e){e._u.add(4),await o5(e),e.gu.set("Unknown"),e._u.delete(4),await o8(e)}(this))})}),this.gu=new o6(n,r)}}async function o8(e){if(so(e))for(let t of e.wu)await t(!0)}async function o5(e){for(let t of e.wu)await t(!1)}function o7(e,t){e.du.has(t.targetId)||(e.du.set(t.targetId,t),si(e)?sr(e):sw(e).ko()&&st(e,t))}function se(e,t){let n=sw(e);e.du.delete(t),n.ko()&&sn(e,t),0===e.du.size&&(n.ko()?n.Fo():so(e)&&e.gu.set("Unknown"))}function st(e,t){e.yu.Ot(t.targetId),sw(e).zo(t)}function sn(e,t){e.yu.Ot(t),sw(e).Ho(t)}function sr(e){e.yu=new i3({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),sw(e).start(),e.gu.uu()}function si(e){return so(e)&&!sw(e).No()&&e.du.size>0}function so(e){return 0===e._u.size}async function ss(e){e.du.forEach((t,n)=>{st(e,t)})}async function sa(e,t){e.yu=void 0,si(e)?(e.gu.hu(t),sr(e)):e.gu.set("Unknown")}async function su(e,t,n){if(e.gu.set("Online"),t instanceof i1&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){nV("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sl(e,n)}else if(t instanceof iZ?e.yu.Kt(t):t instanceof i0?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(n9.min()))try{let t=await oW(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.yu.Zt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{let n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(rp.EMPTY_BYTE_STRING,n.snapshotVersion)),sn(e,t);let r=new oy(n.target,t,1,n.sequenceNumber);st(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){nV("RemoteStore","Failed to raise snapshot:",t),await sl(e,t)}}async function sl(e,t,n){if(!rs(t))throw t;e._u.add(1),await o5(e),e.gu.set("Offline"),n||(n=()=>oW(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{nV("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await o8(e)})}function sc(e,t){return t().catch(n=>sl(e,n,t))}async function sh(e){let t=sE(e),n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;so(e)&&e.fu.length<10;)try{let r=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,n);if(null===r){0===e.fu.length&&t.Fo();break}n=r.batchId,function(e,t){e.fu.push(t);let n=sE(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}(e,r)}catch(t){await sl(e,t)}sf(e)&&sd(e)}function sf(e){return so(e)&&!sE(e).No()&&e.fu.length>0}function sd(e){sE(e).start()}async function sp(e){sE(e).eu()}async function sg(e){let t=sE(e);for(let n of e.fu)t.Xo(n.mutations)}async function sm(e,t,n){let r=e.fu.shift(),i=og.from(r,t,n);await sc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sh(e)}async function sy(e,t){t&&sE(e).Yo&&await async function(e,t){var n;if(function(e){switch(e){default:return nH();case nz.CANCELLED:case nz.UNKNOWN:case nz.DEADLINE_EXCEEDED:case nz.RESOURCE_EXHAUSTED:case nz.INTERNAL:case nz.UNAVAILABLE:case nz.UNAUTHENTICATED:return!1;case nz.INVALID_ARGUMENT:case nz.NOT_FOUND:case nz.ALREADY_EXISTS:case nz.PERMISSION_DENIED:case nz.FAILED_PRECONDITION:case nz.ABORTED:case nz.OUT_OF_RANGE:case nz.UNIMPLEMENTED:case nz.DATA_LOSS:return!0}}(n=t.code)&&n!==nz.ABORTED){let n=e.fu.shift();sE(e).Mo(),await sc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sh(e)}}(e,t),sf(e)&&sd(e)}async function sv(e,t){e.asyncQueue.verifyOperationInProgress(),nV("RemoteStore","RemoteStore received new credentials");let n=so(e);e._u.add(3),await o5(e),n&&e.gu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),await o8(e)}async function sb(e,t){t?(e._u.delete(2),await o8(e)):t||(e._u.add(2),await o5(e),e.gu.set("Unknown"))}function sw(e){var t,n,r;return e.pu||(e.pu=(t=e.datastore,n=e.asyncQueue,r={Yr:ss.bind(null,e),Zr:sa.bind(null,e),Wo:su.bind(null,e)},t.su(),new o2(n,t.connection,t.authCredentials,t.appCheckCredentials,t.yt,r)),e.wu.push(async t=>{t?(e.pu.Mo(),si(e)?sr(e):e.gu.set("Unknown")):(await e.pu.stop(),e.yu=void 0)})),e.pu}function sE(e){var t,n,r;return e.Iu||(e.Iu=(t=e.datastore,n=e.asyncQueue,r={Yr:sp.bind(null,e),Zr:sy.bind(null,e),tu:sg.bind(null,e),Zo:sm.bind(null,e)},t.su(),new o3(n,t.connection,t.authCredentials,t.appCheckCredentials,t.yt,r)),e.wu.push(async t=>{t?(e.Iu.Mo(),await sh(e)):(await e.Iu.stop(),e.fu.length>0&&(nV("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nK,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){let o=Date.now()+n,s=new s_(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new n$(nz.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sT(e,t){if(nB("AsyncQueue",`${t}: ${e}`),rs(e))return new n$(nz.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||rt.comparator(t.key,n.key):(e,t)=>rt.comparator(e.key,t.key),this.keyedMap=iH(),this.sortedSet=new rY(this.comparator)}static emptySet(e){return new sS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sS)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new sS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.Tu=new rY(rt.comparator)}track(e){let t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):nH():this.Tu=this.Tu.insert(t,e)}Eu(){let e=[];return this.Tu.inorderTraversal((t,n)=>{e.push(n)}),e}}class sO{constructor(e,t,n,r,i,o,s,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new sO(e,t,sS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ia(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.Au=void 0,this.listeners=[]}}class sC{constructor(){this.queries=new iB(e=>iu(e),ia),this.onlineState="Unknown",this.Ru=new Set}}async function sk(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i||(r=!0,i=new sA),r)try{i.Au=await e.onListen(n)}catch(n){let e=sT(n,`Initialization of query '${il(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.listeners.push(t),t.bu(e.onlineState),i.Au&&t.Pu(i.Au)&&sD(e)}async function sR(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i){let e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),r=0===i.listeners.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}function sN(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.listeners)e.Pu(r)&&(n=!0);i.Au=r}}n&&sD(e)}function sx(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.listeners)e.onError(n);e.queries.delete(t)}function sD(e){e.Ru.forEach(e=>{e.next()})}class sP{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new sO(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;let t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=sO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.key=e}}class sM{constructor(e){this.key=e}}class sj{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=iQ(),this.mutatedKeys=iQ(),this.Gu=ih(e),this.Qu=new sS(this.Gu)}get ju(){return this.qu}Wu(e,t){let n=t?t.zu:new sI,r=t?t.Qu:this.Qu,i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1,a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let l=r.get(e),c=ic(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Hu(l,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Gu(c,a)>0||u&&0>this.Gu(c,u))&&(s=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(a||u)&&(s=!0)),d&&(c?(o=o.add(c),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:o,zu:n,$i:s,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){let r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;let i=e.zu.Eu();i.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nH()}};return n(e)-n(t)})(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(n);let o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,a=s!==this.Uu;return(this.Uu=s,0!==i.length||a)?{snapshot:new sO(this.query,e.Qu,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new sI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];let e=this.Ku;this.Ku=iQ(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});let t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new sM(e))}),this.Ku.forEach(n=>{e.has(n)||t.push(new sL(n))}),t}tc(e){this.qu=e.Hi,this.Ku=iQ();let t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return sO.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class sU{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sF{constructor(e){this.key=e,this.nc=!1}}class sV{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new iB(e=>iu(e),ia),this.rc=new Map,this.oc=new Set,this.uc=new rY(rt.comparator),this.cc=new Map,this.ac=new ok,this.hc={},this.lc=new Map,this.fc=oT.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function sB(e,t){let n,r;let i=function(e){let t=e;return t.remoteStore.remoteSyncer.applyRemoteEvent=sz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sK.bind(null,t),t.sc.Wo=sN.bind(null,t.eventManager),t.sc.wc=sx.bind(null,t.eventManager),t}(e),o=i.ic.get(t);if(o)n=o.targetId,i.sharedClientState.addLocalQueryTarget(n),r=o.view.ec();else{let e=await function(e,t){let n=e;return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Cs.getTargetData(e,t).next(i=>i?(r=i,ro.resolve(r)):n.Cs.allocateTargetId(e).next(i=>(r=new oy(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next(()=>r))))}).then(e=>{let r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e})}(i.localStore,io(t));i.isPrimaryClient&&o7(i.remoteStore,e);let o=i.sharedClientState.addLocalQueryTarget(e.targetId);r=await sW(i,t,n=e.targetId,"current"===o,e.resumeToken)}return r}async function sW(e,t,n,r,i){e._c=(t,n,r)=>(async function(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=await oH(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,i)));let o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return s0(e,t.targetId,s.Xu),s.snapshot})(e,t,n,r);let o=await oH(e.localStore,t,!0),s=new sj(t,o.Hi),a=s.Wu(o.documents),u=iY.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,u);s0(e,n,l.Xu);let c=new sU(t,n,s);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),l.snapshot}async function sq(e,t){let n=e.ic.get(t),r=e.rc.get(n.targetId);if(r.length>1)return e.rc.set(n.targetId,r.filter(e=>!ia(e,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await oq(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),se(e.remoteStore,n.targetId),sY(e,n.targetId)}).catch(ri)):(sY(e,n.targetId),await oq(e.localStore,n.targetId,!0))}async function sH(e,t,n){let r=function(e){let t=e;return t.remoteStore.remoteSyncer.applySuccessfulWrite=sG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sQ.bind(null,t),t}(e);try{var i,o;let e;let s=await function(e,t){let n,r;let i=n6.now(),o=t.reduce((e,t)=>e.add(t.key),iQ());return e.persistence.runTransaction("Locally write mutations","readwrite",s=>{let a=iW,u=iQ();return e.Gi.getEntries(s,o).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(u=u.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(s,a)).next(r=>{n=r;let o=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=im(r.transform,e||null);null!=i&&(null===n&&(n=r4.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&o.push(new iD(e.key,t,function e(t){let n=[];return rh(t.fields,(t,r)=>{let i=new re([t]);if(rx(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new r3(n)}(t.value.mapValue),iO.exists(!0)))}return e.mutationQueue.addMutationBatch(s,i,o,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,u);return e.documentOverlayCache.saveOverlays(s,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:iz(n)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),i=r,o=s.batchId,(e=i.hc[i.currentUser.toKey()])||(e=new rY(n3)),e=e.insert(o,n),i.hc[i.currentUser.toKey()]=e,await s2(r,s.changes),await sh(r.remoteStore)}catch(t){let e=sT(t,"Failed to persist write");n.reject(e)}}async function sz(e,t){try{let n=await function(e,t){let n=e,r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{var o;let s,a;let u=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;let l=[];t.targetChanges.forEach((o,s)=>{var a;let u=i.get(s);if(!u)return;l.push(n.Cs.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Cs.addMatchingKeys(e,o.addedDocuments,s)));let c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(rp.EMPTY_BYTE_STRING,n9.min()).withLastLimboFreeSnapshotVersion(n9.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),a=c,(0===u.resumeToken.approximateByteSize()||a.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size>0)&&l.push(n.Cs.updateTargetData(e,c))});let c=iW,h=iQ();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),l.push((o=t.documentUpdates,s=iQ(),a=iQ(),o.forEach(e=>s=s.add(e)),u.getEntries(e,s).next(e=>{let t=iW;return o.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),r.isNoDocument()&&r.version.isEqual(n9.min())?(u.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(u.addEntry(r),t=t.insert(n,r)):nV("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Wi:t,zi:a}})).next(e=>{c=e.Wi,h=e.zi})),!r.isEqual(n9.min())){let t=n.Cs.getLastRemoteSnapshotVersion(e).next(t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r));l.push(t)}return ro.waitFor(l).next(()=>u.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,c,h)).next(()=>c)}).then(e=>(n.qi=i,e))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.cc.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||nH(),t.addedDocuments.size>0?r.nc=!0:t.modifiedDocuments.size>0?r.nc||nH():t.removedDocuments.size>0&&(r.nc||nH(),r.nc=!1))}),await s2(e,n,t)}catch(e){await ri(e)}}function s$(e,t,n){let r=e;if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){let e=[];r.ic.forEach((n,r)=>{let i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){let n=e;n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(let e of n.listeners)e.bu(t)&&(r=!0)}),r&&sD(n)}(r.eventManager,t),e.length&&r.sc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sK(e,t,n){let r=e;r.sharedClientState.updateQueryState(t,"rejected",n);let i=r.cc.get(t),o=i&&i.key;if(o){let e=new rY(rt.comparator);e=e.insert(o,r6.newNoDocument(o,n9.min()));let n=iQ().add(o),i=new iJ(n9.min(),new Map,new r1(n3),e,n);await sz(r,i),r.uc=r.uc.remove(o),r.cc.delete(t),s1(r)}else await oq(r.localStore,t,!1).then(()=>sY(r,t,n)).catch(ri)}async function sG(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,o=i.keys(),s=ro.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{let o=n.docVersions.get(e);null!==o||nH(),0>t.version.compareTo(o)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=iQ();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))});sJ(e,r,null),sX(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await s2(e,i)}catch(e){await ri(e)}}async function sQ(e,t,n){var r;try{let i=await (r=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||nH(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))});sJ(e,t,n),sX(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await s2(e,i)}catch(e){await ri(e)}}function sX(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function sJ(e,t,n){let r=e,i=r.hc[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function sY(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.rc.get(t)))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||sZ(e,t)})}function sZ(e,t){e.oc.delete(t.path.canonicalString());let n=e.uc.get(t);null!==n&&(se(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),s1(e))}function s0(e,t,n){for(let r of n)r instanceof sL?(e.ac.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(nV("SyncEngine","New document in limbo: "+n),e.oc.add(r),s1(e))}(e,r)):r instanceof sM?(nV("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||sZ(e,r.key)):nH()}function s1(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t;let n=e.oc.values().next().value;e.oc.delete(n);let r=new rt(n5.fromString(n)),i=e.fc.next();e.cc.set(i,new sF(r)),e.uc=e.uc.insert(r,i),o7(e.remoteStore,new oy(io((t=r.path,new it(t))),i,2,ra.at))}}async function s2(e,t,n){let r=[],i=[],o=[];e.ic.isEmpty()||(e.ic.forEach((s,a)=>{o.push(e._c(a,t,n).then(t=>{if((t||n)&&e.isPrimaryClient&&e.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);let e=oU.Ci(a.targetId,t);i.push(e)}}))}),await Promise.all(o),e.sc.Wo(r),await async function(e,t){let n=e;try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ro.forEach(t,t=>ro.forEach(t.Si,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ro.forEach(t.Di,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rs(e))throw e;nV("LocalStore","Failed to update sequence numbers: "+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.qi.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(t,i)}}}(e.localStore,i))}async function s3(e,t){let n=e;if(!n.currentUser.isEqual(t)){nV("SyncEngine","User change. New user:",t.toKey());let e=await oB(n.localStore,t);n.currentUser=t,n.lc.forEach(e=>{e.forEach(e=>{e.reject(new n$(nz.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),n.lc.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await s2(n,e.ji)}}function s4(e,t){let n=e.cc.get(t);if(n&&n.nc)return iQ().add(n.key);{let n=iQ(),r=e.rc.get(t);if(!r)return n;for(let t of r){let r=e.ic.get(t);n=n.unionWith(r.view.ju)}return n}}class s6{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=oZ(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){var t,n,r,i;return t=this.persistence,n=new oF,r=e.initialUser,i=this.yt,new oV(t,n,r,i)}yc(e){return new oL(oj.Bs,this.yt)}gc(e){return new o$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class s9{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>s$(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=s3.bind(null,this.syncEngine),await sb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sC}createDatastore(e){var t,n,r;let i=oZ(e.databaseInfo.databaseId),o=(t=e.databaseInfo,new oJ(t));return n=e.authCredentials,r=e.appCheckCredentials,new o4(n,r,o,i)}createRemoteStore(e){var t,n,r,i,o;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>s$(this.syncEngine,e,0),o=oG.C()?new oG:new oK,new o9(t,n,r,i,o)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){let a=new sV(e,t,n,r,i,o);return s&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){nV("RemoteStore","RemoteStore shutting down."),e._u.add(5),await o5(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(e,t,n){if(!n)throw new n$(nz.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function s5(e){if(!rt.isDocumentKey(e))throw new n$(nz.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function s7(e){if(rt.isDocumentKey(e))throw new n$(nz.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ae(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":nH()}function at(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new n$(nz.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ae(e);throw new n$(nz.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=new Map;class ar{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new n$(nz.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new n$(nz.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new n$(nz.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ar({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new n$(nz.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new n$(nz.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ar(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nQ;switch(e.type){case"gapi":let t=e.client;return new nZ(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new n$(nz.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=an.get(e);t&&(nV("ComponentProvider","Removing Datastore"),an.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class as{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class aa extends as{constructor(e,t,n){super(e,t,new it(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new rt(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function au(e,t,...n){if(e=(0,p.m9)(e),s8("collection","path",t),e instanceof ai){let r=n5.fromString(t,...n);return s7(r),new aa(e,null,r)}{if(!(e instanceof ao||e instanceof aa))throw new n$(nz.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(n5.fromString(t,...n));return s7(r),new aa(e.firestore,null,r)}}function al(e,t,...n){if(e=(0,p.m9)(e),1==arguments.length&&(t=n2.R()),s8("doc","path",t),e instanceof ai){let r=n5.fromString(t,...n);return s5(r),new ao(e,null,new rt(r))}{if(!(e instanceof ao||e instanceof aa))throw new n$(nz.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(n5.fromString(t,...n));return s5(r),new ao(e.firestore,e instanceof aa?e.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):nB("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=nM.UNAUTHENTICATED,this.clientId=n2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{nV("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(nV("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new n$(nz.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nK;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=sT(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function af(e,t){e.asyncQueue.verifyOperationInProgress(),nV("FirestoreClient","Initializing OfflineComponentProvider");let n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await oB(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function ad(e,t){e.asyncQueue.verifyOperationInProgress();let n=await ap(e);nV("FirestoreClient","Initializing OnlineComponentProvider");let r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>sv(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>sv(t.remoteStore,n)),e.onlineComponents=t}async function ap(e){return e.offlineComponents||(nV("FirestoreClient","Using default OfflineComponentProvider"),await af(e,new s6)),e.offlineComponents}async function ag(e){return e.onlineComponents||(nV("FirestoreClient","Using default OnlineComponentProvider"),await ad(e,new s9)),e.onlineComponents}async function am(e){let t=await ag(e),n=t.eventManager;return n.onListen=sB.bind(null,t.syncEngine),n.onUnlisten=sq.bind(null,t.syncEngine),n}class ay{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new o0(this,"async_queue_retry"),this.Wc=()=>{let e=oY();e&&nV("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};let e=oY();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;let t=oY();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});let t=new nK;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!rs(e))throw e;nV("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){let t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{let t;this.Kc=e,this.Gc=!1;let n=(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t);throw nB("INTERNAL UNHANDLED ERROR: ",n),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);let r=s_.createAndSchedule(this,e,t,n,e=>this.Yc(e));return this.Uc.push(r),r}zc(){this.Kc&&nH()}verifyOperationInProgress(){}async Xc(){let e;do await (e=this.Bc);while(e!==this.Bc)}Zc(e){for(let t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{for(let t of(this.Uc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.Uc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){let t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class av extends ai{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ay,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aE(this),this._firestoreClient.terminate()}}function ab(e,t){let n="object"==typeof e?e:(0,h.Mq)(),r=(0,h.qX)(n,"firestore").getImmediate({identifier:"string"==typeof e?e:t||"(default)"});if(!r._initialized){let e=(0,p.P0)("firestore");e&&function(e,t,n,r={}){var i;let o=(e=at(e,ai))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&nW("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nM.MOCK_USER;else{t=(0,p.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new n$(nz.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nM(o)}e._authCredentials=new nX(new nG(t,n))}}(r,...e)}return r}function aw(e){return e._firestoreClient||aE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function aE(e){var t,n,r,i;let o=e._freezeSettings(),s=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new ru(n,r,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new ah(e._authCredentials,e._appCheckCredentials,e._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new a_(rp.fromBase64String(e))}catch(e){throw new n$(nz.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new a_(rp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new n$(nz.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new n$(nz.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new n$(nz.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return n3(this._lat,e._lat)||n3(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aO=/^__.*__$/;class aA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new iD(e,this.data,this.fieldMask,t,this.fieldTransforms):new ix(e,this.data,t,this.fieldTransforms)}}class aC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new iD(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ak(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nH()}}class aR{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new aR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return aB(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ak(this.sa)&&aO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class aN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||oZ(e)}da(e,t,n,r=!1){return new aR({sa:e,methodName:t,fa:n,path:re.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ax(e){let t=e._freezeSettings(),n=oZ(e._databaseId);return new aN(e._databaseId,!!t.ignoreUndefinedProperties,n)}class aD extends aS{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aD}}function aP(e,t){if(aM(e=(0,p.m9)(e)))return aj("Unsupported field value:",t,e),aL(e,t);if(e instanceof aS)return function(e,t){if(!ak(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){let n=[],r=0;for(let i of e){let e=aP(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,p.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e){var n,r,i;return n=t.yt,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!rd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?ip(r):id(n,r)}if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=n6.fromDate(e);return{timestampValue:oe(t.yt,n)}}if(e instanceof n6){let n=new n6(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oe(t.yt,n)}}if(e instanceof aI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof a_)return{bytesValue:ot(t.yt,e._byteString)};if(e instanceof ao){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:or(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${ae(e)}`)}(e,t)}function aL(e,t){let n={};return rf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rh(e,(e,r)=>{let i=aP(r,t.ra(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function aM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof n6||e instanceof aI||e instanceof a_||e instanceof ao||e instanceof aS)}function aj(e,t,n){if(!aM(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){let r=ae(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function aU(e,t,n){if((t=(0,p.m9)(t))instanceof aT)return t._internalPath;if("string"==typeof t)return aV(e,t);throw aB("Field path arguments must be of type string or ",e,!1,void 0,n)}let aF=RegExp("[~\\*/\\[\\]]");function aV(e,t,n){if(t.search(aF)>=0)throw aB(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new aT(...t.split("."))._internalPath}catch(r){throw aB(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function aB(e,t,n,r,i){let o=r&&!r.isEmpty(),s=void 0!==i,a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new n$(nz.INVALID_ARGUMENT,a+e+u)}function aW(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new aH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(az("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aH extends aq{data(){return super.data()}}function az(e,t){return"string"==typeof t?aV(e,t):t instanceof aT?t._internalPath:t._delegate._internalPath}class a${convertValue(e,t="none"){switch(r_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ry(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nH()}}convertObject(e,t){let n={};return rh(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new aI(ry(e.latitude),ry(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=function e(t){let n=t.mapValue.fields.__previous_value__;return rb(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rw(e));default:return null}}convertTimestamp(e){let t=rm(e);return new n6(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=n5.fromString(e);od(n)||nH();let r=new rl(n.get(1),n.get(3)),i=new rt(n.popFirst(5));return r.isEqual(t)||nB(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aG extends aq{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new aQ(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(az("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class aQ extends aG{data(e={}){return super.data(e)}}class aX{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aK(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new aQ(this._firestore,this._userDataWriter,n.key,n,new aK(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new n$(nz.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new aQ(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aK(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new aQ(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aK(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(o=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nH()}}(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(e){e=at(e,ao);let t=at(e.firestore,av);return(function(e,t,n={}){let r=new nK;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){var o;let s=new ac({next:o=>{t.enqueueAndForget(()=>sR(e,a));let s=o.docs.has(n);!s&&o.fromCache?i.reject(new n$(nz.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new n$(nz.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new sP((o=n.path,new it(o)),s,{includeMetadataChanges:!0,Nu:!0});return sk(e,a)})(await am(e),e.asyncQueue,t,n,r)),r.promise})(aw(t),e._key).then(n=>(function(e,t,n){let r=n.docs.get(t._key),i=new aY(e);return new aG(e,i,t._key,r,new aK(n.hasPendingWrites,n.fromCache),t.converter)})(t,e,n))}class aY extends a${constructor(e){super(),this.firestore=e}convertBytes(e){return new a_(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function aZ(e){e=at(e,as);let t=at(e.firestore,av),n=aw(t),r=new aY(t);return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new n$(nz.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,t,n={}){let r=new nK;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let o=new ac({next:n=>{t.enqueueAndForget(()=>sR(e,s)),n.fromCache&&"server"===r.source?i.reject(new n$(nz.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new sP(n,o,{includeMetadataChanges:!0,Nu:!0});return sk(e,s)})(await am(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new aX(t,r,e,n)))}function a0(e,t,n){var r;e=at(e,ao);let i=at(e.firestore,av),o=(r=e.converter)?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t;return a2(i,[(function(e,t,n,r,i,o={}){let s,a;let u=e.da(o.merge||o.mergeFields?2:0,t,n,i);aj("Data must be an object, but it was:",u,r);let l=aL(r,u);if(o.merge)s=new r3(u.fieldMask),a=u.fieldTransforms;else if(o.mergeFields){let e=[];for(let r of o.mergeFields){let i=aU(t,r,n);if(!u.contains(i))throw new n$(nz.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);aW(e,i)||e.push(i)}s=new r3(e),a=u.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,a=u.fieldTransforms;return new aA(new r4(l),s,a)})(ax(i),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,iO.none())])}function a1(e,t,n,...r){let i;e=at(e,ao);let o=at(e.firestore,av),s=ax(o);return i="string"==typeof(t=(0,p.m9)(t))||t instanceof aT?function(e,t,n,r,i,o){let s=e.da(1,t,n),a=[aU(t,r,n)],u=[i];if(o.length%2!=0)throw new n$(nz.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(aU(t,o[e])),u.push(o[e+1]);let l=[],c=r4.empty();for(let e=a.length-1;e>=0;--e)if(!aW(l,a[e])){let t=a[e],n=u[e];n=(0,p.m9)(n);let r=s.ca(t);if(n instanceof aD)l.push(t);else{let e=aP(n,r);null!=e&&(l.push(t),c.set(t,e))}}let h=new r3(l);return new aC(c,h,s.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){let i=e.da(1,t,n);aj("Data must be an object, but it was:",i,r);let o=[],s=r4.empty();rh(r,(e,r)=>{let a=aV(t,e,n);r=(0,p.m9)(r);let u=i.ca(a);if(r instanceof aD)o.push(a);else{let e=aP(r,u);null!=e&&(o.push(a),s.set(a,e))}});let a=new r3(o);return new aC(s,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),a2(o,[i.toMutation(e._key,iO.exists(!0))])}function a2(e,t){return function(e,t){let n=new nK;return e.asyncQueue.enqueueAndForget(async()=>sH(await ag(e).then(e=>e.syncEngine),t,n)),n.promise}(aw(e),t)}!function(e,t=!0){nj=h.Jn,(0,h.Xd)(new f.wA("firestore",(e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider("app").getImmediate(),o=new av(new nJ(e.getProvider("auth-internal")),new n1(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new n$(nz.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,h.KN)(nL,"3.8.3",void 0),(0,h.KN)(nL,"3.8.3","esm2017")}()},1199:function(e,t,n){"use strict";n.d(t,{BH:function(){return v},L:function(){return u},LL:function(){return C},P0:function(){return g},Pz:function(){return y},Sg:function(){return b},ZR:function(){return A},aH:function(){return m},b$:function(){return T},eu:function(){return O},hl:function(){return I},m9:function(){return U},ne:function(){return L},pd:function(){return P},q4:function(){return p},ru:function(){return _},tV:function(){return l},uI:function(){return E},vZ:function(){return function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let o of r){if(!i.includes(o))return!1;let r=t[o],s=n[o];if(N(r)&&N(s)){if(!e(r,s))return!1}else if(r!==s)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}},w1:function(){return S},xO:function(){return x},xb:function(){return R},z$:function(){return w},zd:function(){return D}});var r=n(3454);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):(64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,l=i>>2,c=(3&i)<<4|s>>4,h=(15&s)<<2|u>>6,f=63&u;a||(f=64,o||(h=64)),r.push(n[l],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],o=t<e.length,s=o?n[e.charAt(t)]:0;++t;let a=t<e.length,u=a?n[e.charAt(t)]:64;++t;let l=t<e.length,c=l?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==u||null==c)throw Error();let h=i<<2|s>>4;if(r.push(h),64!==u){let e=s<<4&240|u>>2;if(r.push(e),64!==c){let e=u<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){let t=i(e);return s.encodeByteArray(t,!0)},u=function(e){return a(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},c=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,h=()=>{if(void 0===r||void 0===r.env)return;let e=r.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},f=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&l(e[1]);return t&&JSON.parse(t)},d=()=>{try{return c()||h()||f()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},p=e=>{var t,n;return null===(n=null===(t=d())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{let t=p(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},m=()=>{var e;return null===(e=d())||void 0===e?void 0:e.config},y=e=>{var t;return null===(t=d())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function _(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function T(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){let e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){try{return"object"==typeof indexedDB}catch(e){return!1}}function O(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?i.replace(k,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",s=`${this.serviceName}: ${o} (${r}).`,a=new A(r,s,n);return a}}let k=/\{\$([^}]+)}/g;function R(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function D(e){let t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function P(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function L(e,t){let n=new M(e,t);return n.subscribe.bind(n)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){return e&&e._delegate?e._delegate:e}},8935:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[$]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[z]||!!(null===(t=e.constructor)||void 0===t?void 0:t[z])||f(e)||d(e))}function s(e){return i(e)||r(23,e),e[$].t}function a(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:G)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function u(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function l(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return B&&e instanceof Map}function d(e){return W&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Q(e);delete t[$];for(var n=G(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),v(e)||i(e)||!o(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&a(e,function(e,t){return m(t,!0)},!0)),e}function y(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=X[e];return t||r(18,e),t}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){_(e),e.p.forEach(S),e.p=null}function _(e){e===F&&(F=e.l)}function T(e){return F={p:[],l:F,h:e,m:!0,_:0}}function S(e){var t=e[$];0===t.i||1===t.i?t.j():t.O=!0}function I(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[$].P&&(E(t),r(4)),o(e)&&(e=O(t,e),t.l||C(t,e)),t.u&&b("Patches").M(n[$].t,e,t.u,t.s)):e=O(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function O(e,t,n){if(v(t))return t;var r=t[$];if(!r)return a(t,function(i,o){return A(e,r,t,i,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return C(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),a(o,function(t,o){return A(e,r,i,t,o,n,s)}),C(e,i,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,s,a,u){if(i(s)){var h=O(e,s,a&&t&&3!==t.i&&!l(t.R,r)?a.concat(r):void 0);if(c(n,r,h),!i(h))return;e.m=!1}else u&&n.add(s);if(o(s)&&!v(s)){if(!e.h.D&&e._<1)return;O(e,s),t&&t.A.l||C(e,s)}}function C(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&m(t,n)}function k(e,t){var n=e[$];return(n?p(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function x(e){e.o||(e.o=g(e.t))}function D(e,t,n){var r,i,o,s,a,u,l,c=f(t)?b("MapSet").F(t,n):d(t)?b("MapSet").T(t,n):e.g?(o=i={i:(r=Array.isArray(t))?1:0,A:n?n.A:F,P:!1,I:!1,R:{},l:n,t:t,k:null,o:null,j:null,C:!1},s=J,r&&(o=[i],s=Y),u=(a=Proxy.revocable(o,s)).revoke,l=a.proxy,i.k=l,i.j=u,l):b("ES5").J(t,n);return(n?n.A:F).p.push(c),c}function P(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[$],i=u(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return a(n,function(t,i){var o;r&&(2===u(o=r.t)?o.get(t):o[t])===i||c(n,t,e(i))}),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}n.r(t),n.d(t,{MiddlewareArray:function(){return eT},SHOULD_AUTOBATCH:function(){return tw},TaskAbortError:function(){return tr},__DO_NOT_USE__ActionTypes:function(){return en.Kf},addListener:function(){return tg},applyMiddleware:function(){return en.md},autoBatchEnhancer:function(){return tI},bindActionCreators:function(){return en.DE},clearAllListeners:function(){return tm},combineReducers:function(){return en.UY},compose:function(){return en.qC},configureStore:function(){return eR},createAction:function(){return eN},createAsyncThunk:function(){return eK},createDraftSafeSelector:function(){return ew},createEntityAdapter:function(){return eB},createImmutableStateInvariantMiddleware:function(){return eO},createListenerMiddleware:function(){return tb},createNextState:function(){return et},createReducer:function(){return eL},createSelector:function(){return eo},createSerializableStateInvariantMiddleware:function(){return eC},createSlice:function(){return eM},createStore:function(){return en.MT},current:function(){return P},findNonSerializableValue:function(){return function e(t,n,r,i,o,s){if(void 0===n&&(n=""),void 0===r&&(r=eA),void 0===o&&(o=[]),!r(t))return{keyPath:n||"<root>",value:t};if("object"!=typeof t||null===t||(null==s?void 0:s.has(t)))return!1;for(var a,u=null!=i?i(t):Object.entries(t),l=o.length>0,c=0;c<u.length;c++){var h=u[c],f=function(t,u){var c=n?n+"."+t:t;return l&&o.some(function(e){return e instanceof RegExp?e.test(c):c===e})?"continue":r(u)?"object"==typeof u&&(a=e(u,c,r,i,o,s))?{value:a}:void 0:{value:{keyPath:c,value:u}}}(h[0],h[1]);if("object"==typeof f)return f.value}return s&&function e(t){if(!Object.isFrozen(t))return!1;for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if("object"==typeof i&&null!==i&&!e(i))return!1}return!0}(t)&&s.add(t),!1}},freeze:function(){return m},getDefaultMiddleware:function(){return ek},getType:function(){return eD},isAllOf:function(){return eJ},isAnyOf:function(){return eX},isAsyncThunkAction:function(){return function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?function(e){return eY(e,["pending","fulfilled","rejected"])}:eZ(t)?function(e){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(i.pending,i.rejected,i.fulfilled)}return eX.apply(void 0,n)(e)}:e()(t[0])}},isDraft:function(){return i},isFulfilled:function(){return function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?function(e){return eY(e,["fulfilled"])}:eZ(t)?function(e){var n=t.map(function(e){return e.fulfilled});return eX.apply(void 0,n)(e)}:e()(t[0])}},isImmutableDefault:function(){return eI},isPending:function(){return function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?function(e){return eY(e,["pending"])}:eZ(t)?function(e){var n=t.map(function(e){return e.pending});return eX.apply(void 0,n)(e)}:e()(t[0])}},isPlain:function(){return eA},isPlainObject:function(){return e_},isRejected:function(){return e0},isRejectedWithValue:function(){return function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===t.length?function(e){return eJ(e0.apply(void 0,t),r)(e)}:eZ(t)?function(e){return eJ(e0.apply(void 0,t),r)(e)}:e()(t[0])}},legacy_createStore:function(){return en.jB},miniSerializeError:function(){return e$},nanoid:function(){return eW},original:function(){return s},prepareAutoBatched:function(){return tE},removeListener:function(){return ty},unwrapResult:function(){return eG}});var M,j,U,F,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),B="undefined"!=typeof Map,W="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=V?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),z=V?Symbol.for("immer-draftable"):"__$immer_draftable",$=V?Symbol.for("immer-state"):"__$immer_state",K=""+Object.prototype.constructor,G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Q=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},X={},J={get:function(e,t){if(t===$)return e;var n,r,i=p(e);if(!l(i,t))return(r=R(i,t))?"value"in r?r.value:null===(n=r.get)||void 0===n?void 0:n.call(e.k):void 0;var s=i[t];return e.I||!o(s)?s:s===k(e.t,t)?(x(e),e.o[t]=D(e.A.h,s,e)):s},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=R(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=k(p(e),t),o=null==i?void 0:i[$];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(h(n,i)&&(void 0!==n||l(e.t,t)))return!0;x(e),N(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.R[t]=!1,x(e),N(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Y={};a(J,function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Y.deleteProperty=function(e,t){return Y.set.call(this,e,t,void 0)},Y.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var Z=new(function(){function e(e){var t=this;this.g=q,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var s,a=n;return n=e,function(e){var r=this;void 0===e&&(e=a);for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.produce(e,function(e){var t;return(t=n).call.apply(t,[r,e].concat(o))})}}if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var u=T(t),l=D(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?E(u):_(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then(function(e){return w(u,i),I(e,u)},function(e){throw E(u),e}):(w(u,i),I(s,u))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===H&&(s=void 0),t.D&&m(s,!0),i){var h=[],f=[];b("Patches").M(e,s,h,f),i(h,f)}return s}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})};var r,i,o=t.produce(e,n,function(e,t){r=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,r,i]}):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=P(e));var t=T(this),n=D(this,e,void 0);return n[$].C=!0,_(t),n},t.finishDraft=function(e,t){var n=(e&&e[$]).A;return w(n,t),I(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!q&&r(20),this.g=e},t.applyPatches=function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),ee=Z.produce;Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z);var et=ee,en=n(8356),er="NOT_FOUND",ei=function(e,t){return e===t},eo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=0,a={memoizeOptions:void 0},u=i.pop();if("object"==typeof u&&(a=u,u=i.pop()),"function"!=typeof u)throw Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=a.memoizeOptions,c=void 0===l?n:l,h=Array.isArray(c)?c:[c],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ")+"]");return t}(i),d=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(h)),p=e(function(){for(var e=[],n=f.length,r=0;r<n;r++)e.push(f[r].apply(null,arguments));return t=d.apply(null,e)});return Object.assign(p,{resultFunc:u,memoizedResultFunc:d,dependencies:f,lastResult:function(){return t},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),p}}(function(e,t){var n,r,i="object"==typeof t?t:{equalityCheck:t},o=i.equalityCheck,s=i.maxSize,a=void 0===s?1:s,u=i.resultEqualityCheck,l=(n=void 0===o?ei:o,function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}),c=1===a?{get:function(e){return r&&l(r.key,e)?r.value:er},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}:function(e,t){var n=[];function r(e){var r=n.findIndex(function(n){return t(e,n.key)});if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return er}return{get:r,put:function(t,i){r(t)===er&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,l);function h(){var t=c.get(arguments);if(t===er){if(t=e.apply(null,arguments),u){var n=c.getEntries().find(function(e){return u(e.value,t)});n&&(t=n.value)}c.put(arguments,t)}return t}return h.clearCache=function(){return c.clear()},h}),es=n(3894);n(3454);var ea=(M=function(e,t){return(M=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),eu=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},el=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ec=Object.defineProperty,eh=Object.defineProperties,ef=Object.getOwnPropertyDescriptors,ed=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,eg=Object.prototype.propertyIsEnumerable,em=function(e,t,n){return t in e?ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ey=function(e,t){for(var n in t||(t={}))ep.call(t,n)&&em(e,n,t[n]);if(ed)for(var r=0,i=ed(t);r<i.length;r++){var n=i[r];eg.call(t,n)&&em(e,n,t[n])}return e},ev=function(e,t){return eh(e,ef(t))},eb=function(e,t,n){return new Promise(function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())})},ew=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eo.apply(void 0,e);return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,el([i(e)?P(e):e],t))}},eE="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?en.qC:en.qC.apply(null,arguments)};function e_(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var eT=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ea(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,el([void 0],e[0].concat(this)))):new(t.bind.apply(t,el([void 0],e.concat(this))))},t}(Array);function eS(e){return o(e)?et(e,function(){}):e}function eI(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function eO(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function eA(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||e_(e)}function eC(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function ek(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t;e.immutableCheck,e.serializableCheck;var r=new eT;return n&&("boolean"==typeof n?r.push(es.Z):r.push(es.Z.withExtraArgument(n.extraArgument))),r}function eR(e){var t,n=function(e){return ek(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,u=r.devTools,l=void 0===u||u,c=r.preloadedState,h=r.enhancers,f=void 0===h?void 0:h;if("function"==typeof o)t=o;else if(e_(o))t=(0,en.UY)(o);else throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=a;"function"==typeof d&&(d=d(n));var p=en.md.apply(void 0,d),g=en.qC;l&&(g=eE(ey({trace:!1},"object"==typeof l&&l)));var m=[p];Array.isArray(f)?m=el([p],f):"function"==typeof f&&(m=f(m));var y=g.apply(void 0,m);return(0,en.MT)(t,void 0===c?void 0:c,y)}function eN(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw Error("prepareAction did not return an object");return ey(ey({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ex(e){return["type","payload","error","meta"].indexOf(e)>-1}function eD(e){return""+e}function eP(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function eL(e,t,n,r){void 0===n&&(n=[]);var s,a="function"==typeof t?eP(t):[t,n,r],u=a[0],l=a[1],c=a[2];if("function"==typeof e)s=function(){return eS(e())};else{var h=eS(e);s=function(){return h}}function f(e,t){void 0===e&&(e=s());var n=el([u[t.type]],l.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===n.filter(function(e){return!!e}).length&&(n=[c]),n.reduce(function(e,n){if(n){if(i(e)){var r=n(e,t);return void 0===r?e:r}if(o(e))return et(e,function(e){return n(e,t)});var r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e},e)}return f.getInitialState=s,f}function eM(e){var t,n=e.name;if(!n)throw Error("`name` is a required option for createSlice");var r="function"==typeof e.initialState?e.initialState:eS(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},u={};function l(){var t="function"==typeof e.extraReducers?eP(e.extraReducers):[e.extraReducers],n=t[0],i=t[1],o=void 0===i?[]:i,s=t[2],u=void 0===s?void 0:s,l=ey(ey({},void 0===n?{}:n),a);return eL(r,function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0;n<o.length;n++){var r=o[n];e.addMatcher(r.matcher,r.reducer)}u&&e.addDefaultCase(u)})}return o.forEach(function(e){var t,r,o=i[e],l=n+"/"+e;"reducer"in o?(t=o.reducer,r=o.prepare):t=o,s[e]=t,a[l]=t,u[e]=r?eN(l,r):eN(l)}),{name:n,reducer:function(e,n){return t||(t=l()),t(e,n)},actions:u,caseReducers:s,getInitialState:function(){return t||(t=l()),t.getInitialState()}}}function ej(e){return function(t,n){var r=function(t){e_(n)&&"string"==typeof n.type&&Object.keys(n).every(ex)?e(n.payload,t):e(n,t)};return i(t)?(r(t),t):et(t,r)}}function eU(e){return Array.isArray(e)||(e=Object.values(e)),e}function eF(e,t,n){e=eU(e);for(var r=[],i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=t(a);u in n.entities?i.push({id:u,changes:a}):r.push(a)}return[r,i]}function eV(e){var t,n;function r(t,n){var r=e(t);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function i(e,t){e=eU(e);for(var n=0,i=e;n<i.length;n++)r(i[n],t)}function o(t,n){var r=e(t);r in n.entities||n.ids.push(r),n.entities[r]=t}function s(e,t){var n=!1;e.forEach(function(e){e in t.entities&&(delete t.entities[e],n=!0)}),n&&(t.ids=t.ids.filter(function(e){return e in t.entities}))}function a(t,n){var r={},i={};t.forEach(function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:ey(ey({},i[e.id]?i[e.id].changes:null),e.changes)})}),(t=Object.values(i)).length>0&&t.filter(function(t){var i,o,s,a,u,l;return i=r,o=t,(l=(u=e(a=Object.assign({},(s=n).entities[o.id],o.changes)))!==o.id)&&(i[o.id]=u,delete s.entities[o.id]),s.entities[u]=a,l}).length>0&&(n.ids=Object.keys(n.entities))}function u(t,n){var r=eF(t,e,n),o=r[0];a(r[1],n),i(o,n)}return{removeAll:(t=function(e){Object.assign(e,{ids:[],entities:{}})},n=ej(function(e,n){return t(n)}),function(e){return n(e,void 0)}),addOne:ej(r),addMany:ej(i),setOne:ej(o),setMany:ej(function(e,t){e=eU(e);for(var n=0,r=e;n<r.length;n++)o(r[n],t)}),setAll:ej(function(e,t){e=eU(e),t.ids=[],t.entities={},i(e,t)}),updateOne:ej(function(e,t){return a([e],t)}),updateMany:ej(a),upsertOne:ej(function(e,t){return u([e],t)}),upsertMany:ej(u),removeOne:ej(function(e,t){return s([e],t)}),removeMany:ej(s)}}function eB(e){void 0===e&&(e={});var t=ey({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i=r?function(e,t){var n=eV(e);function r(t,n){var r=(t=eU(t)).filter(function(t){return!(e(t) in n.entities)});0!==r.length&&a(r,n)}function i(e,t){0!==(e=eU(e)).length&&a(e,t)}function o(t,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i],s=n.entities[o.id];if(s){r=!0,Object.assign(s,o.changes);var a=e(s);o.id!==a&&(delete n.entities[o.id],n.entities[a]=s)}}r&&u(n)}function s(t,n){var i=eF(t,e,n),s=i[0];o(i[1],n),r(s,n)}function a(t,n){t.forEach(function(t){n.entities[e(t)]=t}),u(n)}function u(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0}(n.ids,i)&&(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:ej(function(e,t){return r([e],t)}),updateOne:ej(function(e,t){return o([e],t)}),upsertOne:ej(function(e,t){return s([e],t)}),setOne:ej(function(e,t){return i([e],t)}),setMany:ej(i),setAll:ej(function(e,t){e=eU(e),t.entities={},t.ids=[],r(e,t)}),addMany:ej(r),updateMany:ej(o),upsertMany:ej(s)}}(n,r):eV(n);return ey(ey(ey({selectId:n,sortComparer:r},{getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}}),{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=ew(t,n,function(e,t){return e.map(function(e){return t[e]})}),i=function(e,t){return t},o=function(e,t){return e[t]},s=ew(t,function(e){return e.length});if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:s,selectById:ew(n,i,o)};var a=ew(e,n);return{selectIds:ew(e,t),selectEntities:a,selectAll:ew(e,r),selectTotal:ew(e,s),selectById:ew(a,i,o)}}}),i)}var eW=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},eq=["name","message","stack","code"],eH=function(e,t){this.payload=e,this.meta=t},ez=function(e,t){this.payload=e,this.meta=t},e$=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0;n<eq.length;n++){var r=eq[n];"string"==typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}},eK=function(){function e(e,t,n){var r=eN(e+"/fulfilled",function(e,t,n,r){return{payload:e,meta:ev(ey({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}}),i=eN(e+"/pending",function(e,t,n){return{payload:void 0,meta:ev(ey({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),o=eN(e+"/rejected",function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||e$)(e||"Rejected"),meta:ev(ey({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}}),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign(function(e){return function(a,u,l){var c,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):eW(),f=new s;function d(e){c=e,f.abort()}var p=function(){return eb(this,null,function(){var s,p,g,m,y,v;return eu(this,function(b){switch(b.label){case 0:var w;if(b.trys.push([0,4,,5]),!(null!==(w=m=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:u,extra:l}))&&"object"==typeof w&&"function"==typeof w.then))return[3,2];return[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise(function(e,t){return f.signal.addEventListener("abort",function(){return t({name:"AbortError",message:c||"Aborted"})})}),a(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:u,extra:l}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:u,extra:l,requestId:h,signal:f.signal,abort:d,rejectWithValue:function(e,t){return new eH(e,t)},fulfillWithValue:function(e,t){return new ez(e,t)}})).then(function(t){if(t instanceof eH)throw t;return t instanceof ez?r(t.payload,h,e,t.meta):r(t,h,e)})])];case 3:return g=b.sent(),[3,5];case 4:return g=(v=b.sent())instanceof eH?o(null,h,e,v.payload,v.meta):o(v,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}})})}();return Object.assign(p,{abort:d,requestId:h,arg:e,unwrap:function(){return p.then(eG)}})}},{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function eG(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var eQ=function(e,t){return e&&"function"==typeof e.match?e.match(t):e(t)};function eX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some(function(e){return eQ(e,t)})}}function eJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every(function(e){return eQ(e,t)})}}function eY(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function eZ(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function e0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return eY(e,["rejected"])}:eZ(e)?function(t){var n=e.map(function(e){return e.rejected});return eX.apply(void 0,n)(t)}:e0()(e[0])}var e1=function(e,t){if("function"!=typeof e)throw TypeError(t+" is not a function")},e2=function(){},e3=function(e,t){return void 0===t&&(t=e2),e.catch(t),e},e4=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},e6=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},e9="listener",e8="completed",e5="cancelled",e7="task-"+e5,te="task-"+e8,tt=e9+"-"+e5,tn=e9+"-"+e8,tr=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+e5+" (reason: "+e+")"},ti=function(e){if(e.aborted)throw new tr(e.reason)};function to(e,t){var n=e2;return new Promise(function(r,i){var o=function(){return i(new tr(e.reason))};if(e.aborted){o();return}n=e4(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=e2})}var ts=function(e){return function(t){return e3(to(e,t).then(function(t){return ti(e),t}))}},ta=function(e){var t=ts(e);return function(e){return t(new Promise(function(t){return setTimeout(t,e)}))}},tu=Object.assign,tl={},tc="listenerMiddleware",th=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=eN(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(i);else throw Error("Creating or removing a listener requires one of the known fields for matching an action");return e1(o,"options.listener"),{predicate:i,type:t,effect:o}},tf=function(e){var t=th(e),n=t.type,r=t.predicate,i=t.effect;return{id:eW(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw Error("Unsubscribe not initialized")}}},td=function(e){e.pending.forEach(function(e){e6(e,tt)})},tp=function(e,t,n){try{e(t,n)}catch(e){setTimeout(function(){throw e},0)}},tg=eN(tc+"/add"),tm=eN(tc+"/removeAll"),ty=eN(tc+"/remove"),tv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,el([tc+"/error"],e))};function tb(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,o=void 0===i?tv:i;e1(o,"onError");var s=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},a=function(e){var t,r=s(function(t){return t.effect===e.effect});return r||(r=tf(e)),(t=r).unsubscribe=function(){return n.delete(t.id)},n.set(t.id,t),function(e){t.unsubscribe(),(null==e?void 0:e.cancelActive)&&td(t)}},u=function(e){var t=th(e),n=t.type,r=t.effect,i=t.predicate,o=s(function(e){return("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r});return o&&(o.unsubscribe(),e.cancelActive&&td(o)),!!o},l=function(e,i,s,u){return eb(t,null,function(){var t,l,c;return eu(this,function(h){var f,d;switch(h.label){case 0:f=(t=new AbortController).signal,l=function(e,t){return e3(eb(void 0,null,function(){var n,r,i;return eu(this,function(o){switch(o.label){case 0:ti(f),n=function(){},r=[new Promise(function(t,r){var i=a({predicate:e,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});n=function(){i(),r()}})],null!=t&&r.push(new Promise(function(e){return setTimeout(e,t,null)})),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,to(f,Promise.race(r))];case 2:return i=o.sent(),ti(f),[2,i];case 3:return n(),[7];case 4:return[2]}})}))},h.label=1;case 1:return h.trys.push([1,3,4,5]),e.pending.add(t),[4,Promise.resolve(e.effect(i,tu({},s,{getOriginalState:u,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:ta(t.signal),pause:ts(t.signal),extra:r,signal:t.signal,fork:(d=t.signal,function(e){e1(e,"taskExecutor");var t,n=new AbortController;e4(d,function(){return e6(n,d.reason)});var r=(t=function(){return e6(n,te)},eb(void 0,null,function(){var r;return eu(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,eb(void 0,null,function(){var t;return eu(this,function(r){switch(r.label){case 0:return ti(d),ti(n.signal),[4,e({pause:ts(n.signal),delay:ta(n.signal),signal:n.signal})];case 1:return t=r.sent(),ti(n.signal),[2,t]}})})];case 2:return[2,{status:"ok",value:i.sent()}];case 3:return[2,{status:(r=i.sent())instanceof tr?"cancelled":"rejected",error:r}];case 4:return null==t||t(),[7];case 5:return[2]}})}));return{result:ts(d)(r),cancel:function(){e6(n,e7)}}}),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach(function(e,n,r){e!==t&&(e6(e,tt),r.delete(e))})}})))];case 2:return h.sent(),[3,5];case 3:return(c=h.sent())instanceof tr||tp(o,c,{raisedBy:"effect"}),[3,5];case 4:return e6(t,tn),e.pending.delete(t),[7];case 5:return[2]}})})},c=function(){n.forEach(td),n.clear()};return{middleware:function(e){return function(t){return function(r){if(tg.match(r))return a(r.payload);if(tm.match(r)){c();return}if(ty.match(r))return u(r.payload);var i,s=e.getState(),h=function(){if(s===tl)throw Error(tc+": getOriginalState can only be called synchronously");return s};try{if(i=t(r),n.size>0)for(var f=e.getState(),d=Array.from(n.values()),p=0;p<d.length;p++){var g=d[p],m=!1;try{m=g.predicate(r,f,s)}catch(e){m=!1,tp(o,e,{raisedBy:"predicate"})}m&&l(g,r,e,h)}}finally{s=tl}return i}}},startListening:a,stopListening:u,clearListeners:c}}var tw="RTK_autoBatch",tE=function(){return function(e){var t;return{payload:e,meta:((t={})[tw]=!0,t)}}},t_="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis):function(e){return(j||(j=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},tT=function(e){return function(t){setTimeout(t,e)}},tS="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:tT(10),tI=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o=!0,s=!1,a=!1,u=new Set,l="tick"===e.type?t_:"raf"===e.type?tS:"callback"===e.type?e.queueNotification:tT(e.timeout),c=function(){a=!1,s&&(s=!1,u.forEach(function(e){return e()}))};return Object.assign({},i,{subscribe:function(e){var t=i.subscribe(function(){return o&&e()});return u.add(e),function(){t(),u.delete(e)}},dispatch:function(e){var t;try{return(s=!(o=!(null==(t=null==e?void 0:e.meta)?void 0:t[tw])))&&!a&&(a=!0,l(c)),i.dispatch(e)}finally{o=!0}}})}}};!function(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[$];return J.get(t,e)},set:function(t){var n=this[$];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][$];if(!i.P)switch(i.i){case 5:r(i)&&N(i);break;case 4:n(i)&&N(i)}}}function n(e){for(var t=e.t,n=e.k,r=G(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==$){var s=t[o];if(void 0===s&&!l(t,o))return!0;var a=n[o],u=a&&a[$];if(u?u.t!==s:!h(a,s))return!0}}var c=!!t[$];return r.length!==G(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};X.ES5||(X.ES5={J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Q(n);delete o[$];for(var s=G(o),a=0;a<s.length;a++){var u=s[a];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:F,P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,$,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[$].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[$];if(n){var i=n.t,o=n.k,s=n.R,u=n.i;if(4===u)a(o,function(t){t!==$&&(void 0!==i[t]||l(i,t)?s[t]||e(o[t]):(s[t]=!0,N(n)))}),a(i,function(e){void 0!==o[e]||l(o,e)||(s[e]=!1,N(n))});else if(5===u){if(r(n)&&(N(n),s.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)s[c]=!1;else for(var h=i.length;h<o.length;h++)s[h]=!0;for(var f=Math.min(o.length,i.length),d=0;d<f;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}()},8679:function(e,t,n){"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=u(t),g=u(n),m=0;m<s.length;++m){var y=s[m];if(!o[y]&&!(r&&r[y])&&!(g&&g[y])&&!(a&&a[y])){var v=f(n,y);try{l(t,y,v)}catch(e){}}}}return t}},6103:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function _(e){return E(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||E(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===a},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=E},1296:function(e,t,n){"use strict";e.exports=n(6103)},6486:function(e,t,n){var r;e=n.nmd(e),(function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=1/0,l=0/0,c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],h="[object Arguments]",f="[object Array]",d="[object Boolean]",p="[object Date]",g="[object Error]",m="[object Function]",y="[object GeneratorFunction]",v="[object Map]",b="[object Number]",w="[object Object]",E="[object Promise]",_="[object RegExp]",T="[object Set]",S="[object String]",I="[object Symbol]",O="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",k="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",x="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",L="[object Uint8ClampedArray]",M="[object Uint16Array]",j="[object Uint32Array]",U=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,q=RegExp(B.source),H=RegExp(W.source),z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(J.source),Z=/^\s+/,ee=/\s/,et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,en=/\{\n\/\* \[wrapped with (.+)\] \*/,er=/,? & /,ei=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eo=/[()=,{}\[\]\/\s]/,es=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eu=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,eh=/^\[object .+?Constructor\]$/,ef=/^0o[0-7]+$/i,ed=/^(?:0|[1-9]\d*)$/,ep=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eg=/($^)/,em=/['\n\r\u2028\u2029\\]/g,ey="\ud800-\udfff",ev="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eb="\\u2700-\\u27bf",ew="a-z\\xdf-\\xf6\\xf8-\\xff",eE="A-Z\\xc0-\\xd6\\xd8-\\xde",e_="\\ufe0e\\ufe0f",eT="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eS="['’]",eI="["+eT+"]",eO="["+ev+"]",eA="["+ew+"]",eC="[^"+ey+eT+"\\d+"+eb+ew+eE+"]",ek="\ud83c[\udffb-\udfff]",eR="[^"+ey+"]",eN="(?:\ud83c[\udde6-\uddff]){2}",ex="[\ud800-\udbff][\udc00-\udfff]",eD="["+eE+"]",eP="\\u200d",eL="(?:"+eA+"|"+eC+")",eM="(?:"+eS+"(?:d|ll|m|re|s|t|ve))?",ej="(?:"+eS+"(?:D|LL|M|RE|S|T|VE))?",eU="(?:"+eO+"|"+ek+")?",eF="["+e_+"]?",eV="(?:"+eP+"(?:"+[eR,eN,ex].join("|")+")"+eF+eU+")*",eB=eF+eU+eV,eW="(?:"+["["+eb+"]",eN,ex].join("|")+")"+eB,eq="(?:"+[eR+eO+"?",eO,eN,ex,"["+ey+"]"].join("|")+")",eH=RegExp(eS,"g"),ez=RegExp(eO,"g"),e$=RegExp(ek+"(?="+ek+")|"+eq+eB,"g"),eK=RegExp([eD+"?"+eA+"+"+eM+"(?="+[eI,eD,"$"].join("|")+")","(?:"+eD+"|"+eC+")+"+ej+"(?="+[eI,eD+eL,"$"].join("|")+")",eD+"?"+eL+"+"+eM,eD+"+"+ej,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eW].join("|"),"g"),eG=RegExp("["+eP+ey+ev+e_+"]"),eQ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eX=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eJ=-1,eY={};eY[k]=eY[R]=eY[N]=eY[x]=eY[D]=eY[P]=eY[L]=eY[M]=eY[j]=!0,eY[h]=eY[f]=eY[A]=eY[d]=eY[C]=eY[p]=eY[g]=eY[m]=eY[v]=eY[b]=eY[w]=eY[_]=eY[T]=eY[S]=eY[O]=!1;var eZ={};eZ[h]=eZ[f]=eZ[A]=eZ[C]=eZ[d]=eZ[p]=eZ[k]=eZ[R]=eZ[N]=eZ[x]=eZ[D]=eZ[v]=eZ[b]=eZ[w]=eZ[_]=eZ[T]=eZ[S]=eZ[I]=eZ[P]=eZ[L]=eZ[M]=eZ[j]=!0,eZ[g]=eZ[m]=eZ[O]=!1;var e0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e1=parseFloat,e2=parseInt,e3="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,e4="object"==typeof self&&self&&self.Object===Object&&self,e6=e3||e4||Function("return this")(),e9=t&&!t.nodeType&&t,e8=e9&&e&&!e.nodeType&&e,e5=e8&&e8.exports===e9,e7=e5&&e3.process,te=function(){try{var e=e8&&e8.require&&e8.require("util").types;if(e)return e;return e7&&e7.binding&&e7.binding("util")}catch(e){}}(),tt=te&&te.isArrayBuffer,tn=te&&te.isDate,tr=te&&te.isMap,ti=te&&te.isRegExp,to=te&&te.isSet,ts=te&&te.isTypedArray;function ta(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function tu(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function tl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function tc(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function th(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function tf(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function td(e,t){return!!(null==e?0:e.length)&&tT(e,t,0)>-1}function tp(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function tg(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ty(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function tv(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function tb(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tw=tA("length");function tE(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function t_(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return -1}function tT(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,n):t_(e,tI,n)}function tS(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return -1}function tI(e){return e!=e}function tO(e,t){var n=null==e?0:e.length;return n?tR(e,t)/n:l}function tA(e){return function(t){return null==t?i:t[e]}}function tC(e){return function(t){return null==e?i:e[t]}}function tk(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function tR(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);i!==s&&(n=i===n?s:n+s)}return n}function tN(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function tx(e){return e?e.slice(0,tG(e)+1).replace(Z,""):e}function tD(e){return function(t){return e(t)}}function tP(e,t){return tg(t,function(t){return e[t]})}function tL(e,t){return e.has(t)}function tM(e,t){for(var n=-1,r=e.length;++n<r&&tT(t,e[n],0)>-1;);return n}function tj(e,t){for(var n=e.length;n--&&tT(t,e[n],0)>-1;);return n}var tU=tC({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tF=tC({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tV(e){return"\\"+e0[e]}function tB(e){return eG.test(e)}function tW(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function tq(e,t){return function(n){return e(t(n))}}function tH(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];(s===t||s===a)&&(e[n]=a,o[i++]=n)}return o}function tz(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function t$(e){return tB(e)?function(e){for(var t=e$.lastIndex=0;e$.test(e);)++t;return t}(e):tw(e)}function tK(e){return tB(e)?e.match(e$)||[]:e.split("")}function tG(e){for(var t=e.length;t--&&ee.test(e.charAt(t)););return t}var tQ=tC({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tX=function e(t){var n,r,ee,ey,ev=(t=null==t?e6:tX.defaults(e6.Object(),t,tX.pick(e6,eX))).Array,eb=t.Date,ew=t.Error,eE=t.Function,e_=t.Math,eT=t.Object,eS=t.RegExp,eI=t.String,eO=t.TypeError,eA=ev.prototype,eC=eE.prototype,ek=eT.prototype,eR=t["__core-js_shared__"],eN=eC.toString,ex=ek.hasOwnProperty,eD=0,eP=(n=/[^.]+$/.exec(eR&&eR.keys&&eR.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",eL=ek.toString,eM=eN.call(eT),ej=e6._,eU=eS("^"+eN.call(ex).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eF=e5?t.Buffer:i,eV=t.Symbol,eB=t.Uint8Array,eW=eF?eF.allocUnsafe:i,eq=tq(eT.getPrototypeOf,eT),e$=eT.create,eG=ek.propertyIsEnumerable,e0=eA.splice,e3=eV?eV.isConcatSpreadable:i,e4=eV?eV.iterator:i,e9=eV?eV.toStringTag:i,e8=function(){try{var e=ib(eT,"defineProperty");return e({},"",{}),e}catch(e){}}(),e7=t.clearTimeout!==e6.clearTimeout&&t.clearTimeout,te=eb&&eb.now!==e6.Date.now&&eb.now,tw=t.setTimeout!==e6.setTimeout&&t.setTimeout,tC=e_.ceil,tJ=e_.floor,tY=eT.getOwnPropertySymbols,tZ=eF?eF.isBuffer:i,t0=t.isFinite,t1=eA.join,t2=tq(eT.keys,eT),t3=e_.max,t4=e_.min,t6=eb.now,t9=t.parseInt,t8=e_.random,t5=eA.reverse,t7=ib(t,"DataView"),ne=ib(t,"Map"),nt=ib(t,"Promise"),nn=ib(t,"Set"),nr=ib(t,"WeakMap"),ni=ib(eT,"create"),no=nr&&new nr,ns={},na=iH(t7),nu=iH(ne),nl=iH(nt),nc=iH(nn),nh=iH(nr),nf=eV?eV.prototype:i,nd=nf?nf.valueOf:i,np=nf?nf.toString:i;function ng(e){if(oJ(e)&&!oV(e)&&!(e instanceof nb)){if(e instanceof nv)return e;if(ex.call(e,"__wrapped__"))return iz(e)}return new nv(e)}var nm=function(){function e(){}return function(t){if(!oX(t))return{};if(e$)return e$(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function ny(){}function nv(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function nb(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function nw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function n_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nT(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new n_;++t<n;)this.add(e[t])}function nS(e){var t=this.__data__=new nE(e);this.size=t.size}function nI(e,t){var n=oV(e),r=!n&&oF(e),i=!n&&!r&&oH(e),o=!n&&!r&&!i&&o6(e),s=n||r||i||o,a=s?tN(e.length,eI):[],u=a.length;for(var l in e)(t||ex.call(e,l))&&!(s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||iO(l,u)))&&a.push(l);return a}function nO(e){var t=e.length;return t?e[rf(0,t-1)]:i}function nA(e,t){return iB(rz(e),nM(t,0,e.length))}function nC(e){return iB(rz(e))}function nk(e,t,n){(i===n||oM(e[t],n))&&(i!==n||t in e)||nP(e,t,n)}function nR(e,t,n){var r=e[t];ex.call(e,t)&&oM(r,n)&&(i!==n||t in e)||nP(e,t,n)}function nN(e,t){for(var n=e.length;n--;)if(oM(e[n][0],t))return n;return -1}function nx(e,t,n,r){return nB(e,function(e,i,o){t(r,e,n(e),o)}),r}function nD(e,t){return e&&r$(t,sy(t),e)}function nP(e,t,n){"__proto__"==t&&e8?e8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nL(e,t){for(var n=-1,r=t.length,o=ev(r),s=null==e;++n<r;)o[n]=s?i:sf(e,t[n]);return o}function nM(e,t,n){return e==e&&(i!==n&&(e=e<=n?e:n),i!==t&&(e=e>=t?e:t)),e}function nj(e,t,n,r,o,s){var a,u=1&t,l=2&t;if(n&&(a=o?n(e,r,o,s):n(e)),i!==a)return a;if(!oX(e))return e;var c=oV(e);if(c){if(g=(f=e).length,E=new f.constructor(g),g&&"string"==typeof f[0]&&ex.call(f,"index")&&(E.index=f.index,E.input=f.input),a=E,!u)return rz(e,a)}else{var f,g,E,O,U,F,V=i_(e),B=V==m||V==y;if(oH(e))return rF(e,u);if(V==w||V==h||B&&!o){if(a=l||B?{}:iS(e),!u)return l?(O=(F=a)&&r$(e,sv(e),F),r$(e,iE(e),O)):(U=nD(a,e),r$(e,iw(e),U))}else{if(!eZ[V])return o?e:{};a=function(e,t,n){var r,i,o=e.constructor;switch(t){case A:return rV(e);case d:case p:return new o(+e);case C:return r=n?rV(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case k:case R:case N:case x:case D:case P:case L:case M:case j:return rB(e,n);case v:return new o;case b:case S:return new o(e);case _:return(i=new e.constructor(e.source,eu.exec(e))).lastIndex=e.lastIndex,i;case T:return new o;case I:return nd?eT(nd.call(e)):{}}}(e,V,u)}}s||(s=new nS);var W=s.get(e);if(W)return W;s.set(e,a),o2(e)?e.forEach(function(r){a.add(nj(r,t,n,r,e,s))}):oY(e)&&e.forEach(function(r,i){a.set(i,nj(r,t,n,i,e,s))});var q=c?i:(4&t?l?ih:ic:l?sv:sy)(e);return tl(q||e,function(r,i){q&&(r=e[i=r]),nR(a,i,nj(r,t,n,i,e,s))}),a}function nU(e,t,n){var r=n.length;if(null==e)return!r;for(e=eT(e);r--;){var o=n[r],s=t[o],a=e[o];if(i===a&&!(o in e)||!s(a))return!1}return!0}function nF(e,t,n){if("function"!=typeof e)throw new eO(o);return ij(function(){e.apply(i,n)},t)}function nV(e,t,n,r){var i=-1,o=td,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=tg(t,tD(n))),r?(o=tp,s=!1):t.length>=200&&(o=tL,s=!1,t=new nT(t));n:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var f=l;f--;)if(t[f]===h)continue n;u.push(c)}else o(t,h,r)||u.push(c)}return u}ng.templateSettings={escape:z,evaluate:$,interpolate:K,variable:"",imports:{_:ng}},ng.prototype=ny.prototype,ng.prototype.constructor=ng,nv.prototype=nm(ny.prototype),nv.prototype.constructor=nv,nb.prototype=nm(ny.prototype),nb.prototype.constructor=nb,nw.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},nw.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nw.prototype.get=function(e){var t=this.__data__;if(ni){var n=t[e];return n===s?i:n}return ex.call(t,e)?t[e]:i},nw.prototype.has=function(e){var t=this.__data__;return ni?i!==t[e]:ex.call(t,e)},nw.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ni&&i===t?s:t,this},nE.prototype.clear=function(){this.__data__=[],this.size=0},nE.prototype.delete=function(e){var t=this.__data__,n=nN(t,e);return!(n<0)&&(n==t.length-1?t.pop():e0.call(t,n,1),--this.size,!0)},nE.prototype.get=function(e){var t=this.__data__,n=nN(t,e);return n<0?i:t[n][1]},nE.prototype.has=function(e){return nN(this.__data__,e)>-1},nE.prototype.set=function(e,t){var n=this.__data__,r=nN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},n_.prototype.clear=function(){this.size=0,this.__data__={hash:new nw,map:new(ne||nE),string:new nw}},n_.prototype.delete=function(e){var t=iy(this,e).delete(e);return this.size-=t?1:0,t},n_.prototype.get=function(e){return iy(this,e).get(e)},n_.prototype.has=function(e){return iy(this,e).has(e)},n_.prototype.set=function(e,t){var n=iy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},nT.prototype.add=nT.prototype.push=function(e){return this.__data__.set(e,s),this},nT.prototype.has=function(e){return this.__data__.has(e)},nS.prototype.clear=function(){this.__data__=new nE,this.size=0},nS.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nS.prototype.get=function(e){return this.__data__.get(e)},nS.prototype.has=function(e){return this.__data__.has(e)},nS.prototype.set=function(e,t){var n=this.__data__;if(n instanceof nE){var r=n.__data__;if(!ne||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new n_(r)}return n.set(e,t),this.size=n.size,this};var nB=rQ(nQ),nW=rQ(nX,!0);function nq(e,t){var n=!0;return nB(e,function(e,r,i){return n=!!t(e,r,i)}),n}function nH(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(i===u?a==a&&!o4(a):n(a,u)))var u=a,l=s}return l}function nz(e,t){var n=[];return nB(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function n$(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=iI),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?n$(a,t-1,n,r,i):tm(i,a):r||(i[i.length]=a)}return i}var nK=rX(),nG=rX(!0);function nQ(e,t){return e&&nK(e,t,sy)}function nX(e,t){return e&&nG(e,t,sy)}function nJ(e,t){return tf(t,function(t){return oK(e[t])})}function nY(e,t){t=rM(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[iq(t[n++])];return n&&n==r?e:i}function nZ(e,t,n){var r=t(e);return oV(e)?r:tm(r,n(e))}function n0(e){return null==e?i===e?"[object Undefined]":"[object Null]":e9&&e9 in eT(e)?function(e){var t=ex.call(e,e9),n=e[e9];try{e[e9]=i;var r=!0}catch(e){}var o=eL.call(e);return r&&(t?e[e9]=n:delete e[e9]),o}(e):eL.call(e)}function n1(e,t){return e>t}function n2(e,t){return null!=e&&ex.call(e,t)}function n3(e,t){return null!=e&&t in eT(e)}function n4(e,t,n){for(var r=n?tp:td,o=e[0].length,s=e.length,a=s,u=ev(s),l=1/0,c=[];a--;){var h=e[a];a&&t&&(h=tg(h,tD(t))),l=t4(h.length,l),u[a]=!n&&(t||o>=120&&h.length>=120)?new nT(a&&h):i}h=e[0];var f=-1,d=u[0];n:for(;++f<o&&c.length<l;){var p=h[f],g=t?t(p):p;if(p=n||0!==p?p:0,!(d?tL(d,g):r(c,g,n))){for(a=s;--a;){var m=u[a];if(!(m?tL(m,g):r(e[a],g,n)))continue n}d&&d.push(g),c.push(p)}}return c}function n6(e,t,n){t=rM(t,e);var r=null==(e=iP(e,t))?e:e[iq(i2(t))];return null==r?i:ta(r,e,n)}function n9(e){return oJ(e)&&n0(e)==h}function n8(e,t,n,r,o){return e===t||(null!=e&&null!=t&&(oJ(e)||oJ(t))?function(e,t,n,r,o,s){var a=oV(e),u=oV(t),l=a?f:i_(e),c=u?f:i_(t);l=l==h?w:l,c=c==h?w:c;var m=l==w,y=c==w,E=l==c;if(E&&oH(e)){if(!oH(t))return!1;a=!0,m=!1}if(E&&!m)return s||(s=new nS),a||o6(e)?iu(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case A:if(e.byteLength!=t.byteLength||!o(new eB(e),new eB(t)))break;return!0;case d:case p:case b:return oM(+e,+t);case g:return e.name==t.name&&e.message==t.message;case _:case S:return e==t+"";case v:var a=tW;case T:var u=1&r;if(a||(a=tz),e.size!=t.size&&!u)break;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var c=iu(a(e),a(t),r,i,o,s);return s.delete(e),c;case I:if(nd)return nd.call(e)==nd.call(t)}return!1}(e,t,l,n,r,o,s);if(!(1&n)){var O=m&&ex.call(e,"__wrapped__"),k=y&&ex.call(t,"__wrapped__");if(O||k){var R=O?e.value():e,N=k?t.value():t;return s||(s=new nS),o(R,N,n,r,s)}}return!!E&&(s||(s=new nS),function(e,t,n,r,o,s){var a=1&n,u=ic(e),l=u.length;if(l!=ic(t).length&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in t:ex.call(t,h)))return!1}var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++c<l;){var m=e[h=u[c]],y=t[h];if(r)var v=a?r(y,m,h,t,e,s):r(m,y,h,e,t,s);if(!(i===v?m===y||o(m,y,n,r,s):v)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,n8,o):e!=e&&t!=t)}function n5(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=eT(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=n[o])[0],c=e[l],h=u[1];if(a&&u[2]){if(i===c&&!(l in e))return!1}else{var f=new nS;if(r)var d=r(c,h,l,e,t,f);if(!(i===d?n8(h,c,3,r,f):d))return!1}}return!0}function n7(e){return!(!oX(e)||eP&&eP in e)&&(oK(e)?eU:eh).test(iH(e))}function re(e){return"function"==typeof e?e:null==e?sq:"object"==typeof e?oV(e)?ro(e[0],e[1]):ri(e):sY(e)}function rt(e){if(!iN(e))return t2(e);var t=[];for(var n in eT(e))ex.call(e,n)&&"constructor"!=n&&t.push(n);return t}function rn(e,t){return e<t}function rr(e,t){var n=-1,r=oW(e)?ev(e.length):[];return nB(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function ri(e){var t=iv(e);return 1==t.length&&t[0][2]?ix(t[0][0],t[0][1]):function(n){return n===e||n5(n,e,t)}}function ro(e,t){var n;return iC(e)&&(n=t)==n&&!oX(n)?ix(iq(e),t):function(n){var r=sf(n,e);return i===r&&r===t?sd(n,e):n8(t,r,3)}}function rs(e,t,n,r,o){e!==t&&nK(t,function(s,a){if(o||(o=new nS),oX(s))(function(e,t,n,r,o,s,a){var u=iL(e,n),l=iL(t,n),c=a.get(l);if(c){nk(e,n,c);return}var h=s?s(u,l,n+"",e,t,a):i,f=i===h;if(f){var d=oV(l),p=!d&&oH(l),g=!d&&!p&&o6(l);h=l,d||p||g?oV(u)?h=u:oq(u)?h=rz(u):p?(f=!1,h=rF(l,!0)):g?(f=!1,h=rB(l,!0)):h=[]:o0(l)||oF(l)?(h=u,oF(u)?h=sr(u):(!oX(u)||oK(u))&&(h=iS(l))):f=!1}f&&(a.set(l,h),o(h,l,r,s,a),a.delete(l)),nk(e,n,h)})(e,t,a,n,rs,r,o);else{var u=r?r(iL(e,a),s,a+"",e,t,o):i;i===u&&(u=s),nk(e,a,u)}},sv)}function ra(e,t){var n=e.length;if(n)return iO(t+=t<0?n:0,n)?e[t]:i}function ru(e,t,n){t=t.length?tg(t,function(e){return oV(e)?function(t){return nY(t,1===e.length?e[0]:e)}:e}):[sq];var r=-1;return t=tg(t,tD(im())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(rr(e,function(e,n,i){return{criteria:tg(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=rW(i[r],o[r]);if(u){if(r>=a)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,n)})}function rl(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=nY(e,s);n(a,s)&&ry(o,rM(s,e),a)}return o}function rc(e,t,n,r){var i=r?tS:tT,o=-1,s=t.length,a=e;for(e===t&&(t=rz(t)),n&&(a=tg(e,tD(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&e0.call(a,u,1),e0.call(e,u,1);return e}function rh(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;iO(i)?e0.call(e,i,1):rC(e,i)}}return e}function rf(e,t){return e+tJ(t8()*(t-e+1))}function rd(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do t%2&&(n+=e),(t=tJ(t/2))&&(e+=e);while(t);return n}function rp(e,t){return iU(iD(e,t,sq),e+"")}function rg(e){return nO(sO(e))}function rm(e,t){var n=sO(e);return iB(n,nM(t,0,n.length))}function ry(e,t,n,r){if(!oX(e))return e;t=rM(t,e);for(var o=-1,s=t.length,a=s-1,u=e;null!=u&&++o<s;){var l=iq(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(o!=a){var h=u[l];c=r?r(h,l,u):i,i===c&&(c=oX(h)?h:iO(t[o+1])?[]:{})}nR(u,l,c),u=u[l]}return e}var rv=no?function(e,t){return no.set(e,t),e}:sq;function rb(e){return iB(sO(e))}function rw(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ev(i);++r<i;)o[r]=e[r+t];return o}function rE(e,t){var n;return nB(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function r_(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!o4(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return rT(e,t,sq,n)}function rT(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,l=o4(t),c=i===t;o<s;){var h=tJ((o+s)/2),f=n(e[h]),d=i!==f,p=null===f,g=f==f,m=o4(f);if(a)var y=r||g;else y=c?g&&(r||d):u?g&&d&&(r||!p):l?g&&d&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?o=h+1:s=h}return t4(s,4294967294)}function rS(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!oM(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function rI(e){return"number"==typeof e?e:o4(e)?l:+e}function rO(e){if("string"==typeof e)return e;if(oV(e))return tg(e,rO)+"";if(o4(e))return np?np.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function rA(e,t,n){var r=-1,i=td,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=tp;else if(o>=200){var l=t?null:it(e);if(l)return tz(l);s=!1,i=tL,u=new nT}else u=t?[]:a;n:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue n;t&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function rC(e,t){return t=rM(t,e),null==(e=iP(e,t))||delete e[iq(i2(t))]}function rk(e,t,n,r){return ry(e,t,n(nY(e,t)),r)}function rR(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?rw(e,r?0:o,r?o+1:i):rw(e,r?o+1:0,r?i:o)}function rN(e,t){var n=e;return n instanceof nb&&(n=n.value()),ty(t,function(e,t){return t.func.apply(t.thisArg,tm([e],t.args))},n)}function rx(e,t,n){var r=e.length;if(r<2)return r?rA(e[0]):[];for(var i=-1,o=ev(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=nV(o[i]||s,e[a],t,n));return rA(n$(o,1),t,n)}function rD(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function rP(e){return oq(e)?e:[]}function rL(e){return"function"==typeof e?e:sq}function rM(e,t){return oV(e)?e:iC(e,t)?[e]:iW(si(e))}function rj(e,t,n){var r=e.length;return n=i===n?r:n,!t&&n>=r?e:rw(e,t,n)}var rU=e7||function(e){return e6.clearTimeout(e)};function rF(e,t){if(t)return e.slice();var n=e.length,r=eW?eW(n):new e.constructor(n);return e.copy(r),r}function rV(e){var t=new e.constructor(e.byteLength);return new eB(t).set(new eB(e)),t}function rB(e,t){var n=t?rV(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function rW(e,t){if(e!==t){var n=i!==e,r=null===e,o=e==e,s=o4(e),a=i!==t,u=null===t,l=t==t,c=o4(t);if(!u&&!c&&!s&&e>t||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!l)return -1}return 0}function rq(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,u=t.length,l=t3(o-s,0),c=ev(u+l),h=!r;++a<u;)c[a]=t[a];for(;++i<s;)(h||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function rH(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,u=-1,l=t.length,c=t3(o-a,0),h=ev(c+l),f=!r;++i<c;)h[i]=e[i];for(var d=i;++u<l;)h[d+u]=t[u];for(;++s<a;)(f||i<o)&&(h[d+n[s]]=e[i++]);return h}function rz(e,t){var n=-1,r=e.length;for(t||(t=ev(r));++n<r;)t[n]=e[n];return t}function r$(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],l=r?r(n[u],e[u],u,n,e):i;i===l&&(l=e[u]),o?nP(n,u,l):nR(n,u,l)}return n}function rK(e,t){return function(n,r){var i=oV(n)?tu:nx,o=t?t():{};return i(n,e,im(r,2),o)}}function rG(e){return rp(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&iA(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=eT(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t})}function rQ(e,t){return function(n,r){if(null==n)return n;if(!oW(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=eT(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function rX(e){return function(t,n,r){for(var i=-1,o=eT(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function rJ(e){return function(t){var n=tB(t=si(t))?tK(t):i,r=n?n[0]:t.charAt(0),o=n?rj(n,1).join(""):t.slice(1);return r[e]()+o}}function rY(e){return function(t){return ty(sj(sk(t).replace(eH,"")),e,"")}}function rZ(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=nm(e.prototype),r=e.apply(n,t);return oX(r)?r:n}}function r0(e){return function(t,n,r){var o=eT(t);if(!oW(t)){var s=im(n,3);t=sy(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function r1(e){return il(function(t){var n=t.length,r=n,s=nv.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new eO(o);if(s&&!u&&"wrapper"==ip(a))var u=new nv([],!0)}for(r=u?r:n;++r<n;){var l=ip(a=t[r]),c="wrapper"==l?id(a):i;u=c&&ik(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ip(c[0])].apply(u,c[3]):1==a.length&&ik(a)?u[l]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&oV(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function r2(e,t,n,r,o,s,a,u,l,c){var h=128&t,f=1&t,d=2&t,p=24&t,g=512&t,m=d?i:rZ(e);return function y(){for(var v=arguments.length,b=ev(v),w=v;w--;)b[w]=arguments[w];if(p)var E=ig(y),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,E);if(r&&(b=rq(b,r,o,p)),s&&(b=rH(b,s,a,p)),v-=_,p&&v<c){var T=tH(b,E);return r7(e,t,r2,y.placeholder,n,b,T,u,l,c-v)}var S=f?n:this,I=d?S[e]:e;return v=b.length,u?b=function(e,t){for(var n=e.length,r=t4(t.length,n),o=rz(e);r--;){var s=t[r];e[r]=iO(s,n)?o[s]:i}return e}(b,u):g&&v>1&&b.reverse(),h&&l<v&&(b.length=l),this&&this!==e6&&this instanceof y&&(I=m||rZ(I)),I.apply(S,b)}}function r3(e,t){return function(n,r){var i,o;return i=t(r),o={},nQ(n,function(t,n,r){e(o,i(t),n,r)}),o}}function r4(e,t){return function(n,r){var o;if(i===n&&i===r)return t;if(i!==n&&(o=n),i!==r){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=rO(n),r=rO(r)):(n=rI(n),r=rI(r)),o=e(n,r)}return o}}function r6(e){return il(function(t){return t=tg(t,tD(im())),rp(function(n){var r=this;return e(t,function(e){return ta(e,r,n)})})})}function r9(e,t){var n=(t=i===t?" ":rO(t)).length;if(n<2)return n?rd(t,e):t;var r=rd(t,tC(e/t$(t)));return tB(t)?rj(tK(r),0,e).join(""):r.slice(0,e)}function r8(e){return function(t,n,r){return r&&"number"!=typeof r&&iA(t,n,r)&&(n=r=i),t=o7(t),i===n?(n=t,t=0):n=o7(n),r=i===r?t<n?1:-1:o7(r),function(e,t,n,r){for(var i=-1,o=t3(tC((t-e)/(n||1)),0),s=ev(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,n,r,e)}}function r5(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sn(t),n=sn(n)),e(t,n)}}function r7(e,t,n,r,o,s,a,u,l,c){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var f=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,c],d=n.apply(i,f);return ik(e)&&iM(d,f),d.placeholder=r,iF(d,e,t)}function ie(e){var t=e_[e];return function(e,n){if(e=sn(e),(n=null==n?0:t4(se(n),292))&&t0(e)){var r=(si(e)+"e").split("e");return+((r=(si(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var it=nn&&1/tz(new nn([,-0]))[1]==u?function(e){return new nn(e)}:sG;function ir(e){return function(t){var n,r,i=i_(t);return i==v?tW(t):i==T?(n=-1,r=Array(t.size),t.forEach(function(e){r[++n]=[e,e]}),r):tg(e(t),function(e){return[e,t[e]]})}}function ii(e,t,n,r,s,u,l,c){var h=2&t;if(!h&&"function"!=typeof e)throw new eO(o);var f=r?r.length:0;if(f||(t&=-97,r=s=i),l=i===l?l:t3(se(l),0),c=i===c?c:se(c),f-=s?s.length:0,64&t){var d=r,p=s;r=s=i}var g=h?i:id(e),m=[e,t,n,r,s,d,p,u,l,c];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(o||s){1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?rq(l,u,t[4]):u,e[4]=l?tH(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?rH(l,u,t[6]):u,e[6]=l?tH(e[5],a):t[6]),(u=t[7])&&(e[7]=u),128&r&&(e[8]=null==e[8]?t[8]:t4(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(m,g),e=m[0],t=m[1],n=m[2],r=m[3],s=m[4],(c=m[9]=i===m[9]?h?0:e.length:t3(m[9]-f,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(y=e,v=t,b=c,w=rZ(y),x=function e(){for(var t=arguments.length,n=ev(t),r=t,o=ig(e);r--;)n[r]=arguments[r];var s=t<3&&n[0]!==o&&n[t-1]!==o?[]:tH(n,o);return(t-=s.length)<b?r7(y,v,r2,e.placeholder,i,n,s,i,i,b-t):ta(this&&this!==e6&&this instanceof e?w:y,this,n)}):32!=t&&33!=t||s.length?x=r2.apply(i,m):(E=e,_=t,T=n,S=r,I=1&_,O=rZ(E),x=function e(){for(var t=-1,n=arguments.length,r=-1,i=S.length,o=ev(i+n),s=this&&this!==e6&&this instanceof e?O:E;++r<i;)o[r]=S[r];for(;n--;)o[r++]=arguments[++t];return ta(s,I?T:this,o)});else var y,v,b,w,E,_,T,S,I,O,A,C,k,R,N,x=(A=e,C=t,k=n,R=1&C,N=rZ(A),function e(){return(this&&this!==e6&&this instanceof e?N:A).apply(R?k:this,arguments)});return iF((g?rv:iM)(x,m),e,t)}function io(e,t,n,r){return i===e||oM(e,ek[n])&&!ex.call(r,n)?t:e}function is(e,t,n,r,o,s){return oX(e)&&oX(t)&&(s.set(t,e),rs(e,t,i,is,s),s.delete(t)),e}function ia(e){return o0(e)?i:e}function iu(e,t,n,r,o,s){var a=1&n,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new nT:i;for(s.set(e,t),s.set(t,e);++f<u;){var g=e[f],m=t[f];if(r)var y=a?r(m,g,f,t,e,s):r(g,m,f,e,t,s);if(i!==y){if(y)continue;d=!1;break}if(p){if(!tb(t,function(e,t){if(!tL(p,t)&&(g===e||o(g,e,n,r,s)))return p.push(t)})){d=!1;break}}else if(!(g===m||o(g,m,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}function il(e){return iU(iD(e,i,iJ),e+"")}function ic(e){return nZ(e,sy,iw)}function ih(e){return nZ(e,sv,iE)}var id=no?function(e){return no.get(e)}:sG;function ip(e){for(var t=e.name+"",n=ns[t],r=ex.call(ns,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ig(e){return(ex.call(ng,"placeholder")?ng:e).placeholder}function im(){var e=ng.iteratee||sH;return e=e===sH?re:e,arguments.length?e(arguments[0],arguments[1]):e}function iy(e,t){var n,r=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function iv(e){for(var t=sy(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!oX(i)]}return t}function ib(e,t){var n=null==e?i:e[t];return n7(n)?n:i}var iw=tY?function(e){return null==e?[]:tf(tY(e=eT(e)),function(t){return eG.call(e,t)})}:s1,iE=tY?function(e){for(var t=[];e;)tm(t,iw(e)),e=eq(e);return t}:s1,i_=n0;function iT(e,t,n){t=rM(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=iq(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&oQ(i)&&iO(s,i)&&(oV(e)||oF(e))}function iS(e){return"function"!=typeof e.constructor||iN(e)?{}:nm(eq(e))}function iI(e){return oV(e)||oF(e)||!!(e3&&e&&e[e3])}function iO(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ed.test(e))&&e>-1&&e%1==0&&e<t}function iA(e,t,n){if(!oX(n))return!1;var r=typeof t;return("number"==r?!!(oW(n)&&iO(t,n.length)):"string"==r&&t in n)&&oM(n[t],e)}function iC(e,t){if(oV(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||o4(e))||Q.test(e)||!G.test(e)||null!=t&&e in eT(t)}function ik(e){var t=ip(e),n=ng[t];if("function"!=typeof n||!(t in nb.prototype))return!1;if(e===n)return!0;var r=id(n);return!!r&&e===r[0]}(t7&&i_(new t7(new ArrayBuffer(1)))!=C||ne&&i_(new ne)!=v||nt&&i_(nt.resolve())!=E||nn&&i_(new nn)!=T||nr&&i_(new nr)!=O)&&(i_=function(e){var t=n0(e),n=t==w?e.constructor:i,r=n?iH(n):"";if(r)switch(r){case na:return C;case nu:return v;case nl:return E;case nc:return T;case nh:return O}return t});var iR=eR?oK:s2;function iN(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ek;return e===n}function ix(e,t){return function(n){return null!=n&&n[e]===t&&(i!==t||e in eT(n))}}function iD(e,t,n){return t=t3(i===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=t3(r.length-t,0),s=ev(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=ev(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),ta(e,this,a)}}function iP(e,t){return t.length<2?e:nY(e,rw(t,0,-1))}function iL(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var iM=iV(rv),ij=tw||function(e,t){return e6.setTimeout(e,t)},iU=iV(e8?function(e,t){return e8(e,"toString",{configurable:!0,enumerable:!1,value:sV(t),writable:!0})}:sq);function iF(e,t,n){var r,i,o=t+"";return iU(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(et,"{\n/* [wrapped with "+t+"] */\n")}(o,(r=(i=o.match(en))?i[1].split(er):[],tl(c,function(e){var t="_."+e[0];n&e[1]&&!td(r,t)&&r.push(t)}),r.sort())))}function iV(e){var t=0,n=0;return function(){var r=t6(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function iB(e,t){var n=-1,r=e.length,o=r-1;for(t=i===t?r:t;++n<t;){var s=rf(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var iW=(ee=(r=oR(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(X,function(e,n,r,i){t.push(r?i.replace(es,"$1"):n||e)}),t},function(e){return 500===ee.size&&ee.clear(),e})).cache,r);function iq(e){if("string"==typeof e||o4(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function iH(e){if(null!=e){try{return eN.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function iz(e){if(e instanceof nb)return e.clone();var t=new nv(e.__wrapped__,e.__chain__);return t.__actions__=rz(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var i$=rp(function(e,t){return oq(e)?nV(e,n$(t,1,oq,!0)):[]}),iK=rp(function(e,t){var n=i2(t);return oq(n)&&(n=i),oq(e)?nV(e,n$(t,1,oq,!0),im(n,2)):[]}),iG=rp(function(e,t){var n=i2(t);return oq(n)&&(n=i),oq(e)?nV(e,n$(t,1,oq,!0),i,n):[]});function iQ(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:se(n);return i<0&&(i=t3(r+i,0)),t_(e,im(t,3),i)}function iX(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var o=r-1;return i!==n&&(o=se(n),o=n<0?t3(r+o,0):t4(o,r-1)),t_(e,im(t,3),o,!0)}function iJ(e){return(null==e?0:e.length)?n$(e,1):[]}function iY(e){return e&&e.length?e[0]:i}var iZ=rp(function(e){var t=tg(e,rP);return t.length&&t[0]===e[0]?n4(t):[]}),i0=rp(function(e){var t=i2(e),n=tg(e,rP);return t===i2(n)?t=i:n.pop(),n.length&&n[0]===e[0]?n4(n,im(t,2)):[]}),i1=rp(function(e){var t=i2(e),n=tg(e,rP);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?n4(n,i,t):[]});function i2(e){var t=null==e?0:e.length;return t?e[t-1]:i}var i3=rp(i4);function i4(e,t){return e&&e.length&&t&&t.length?rc(e,t):e}var i6=il(function(e,t){var n=null==e?0:e.length,r=nL(e,t);return rh(e,tg(t,function(e){return iO(e,n)?+e:e}).sort(rW)),r});function i9(e){return null==e?e:t5.call(e)}var i8=rp(function(e){return rA(n$(e,1,oq,!0))}),i5=rp(function(e){var t=i2(e);return oq(t)&&(t=i),rA(n$(e,1,oq,!0),im(t,2))}),i7=rp(function(e){var t=i2(e);return t="function"==typeof t?t:i,rA(n$(e,1,oq,!0),i,t)});function oe(e){if(!(e&&e.length))return[];var t=0;return e=tf(e,function(e){if(oq(e))return t=t3(e.length,t),!0}),tN(t,function(t){return tg(e,tA(t))})}function ot(e,t){if(!(e&&e.length))return[];var n=oe(e);return null==t?n:tg(n,function(e){return ta(t,i,e)})}var on=rp(function(e,t){return oq(e)?nV(e,t):[]}),or=rp(function(e){return rx(tf(e,oq))}),oi=rp(function(e){var t=i2(e);return oq(t)&&(t=i),rx(tf(e,oq),im(t,2))}),oo=rp(function(e){var t=i2(e);return t="function"==typeof t?t:i,rx(tf(e,oq),i,t)}),os=rp(oe),oa=rp(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ot(e,n)});function ou(e){var t=ng(e);return t.__chain__=!0,t}function ol(e,t){return t(e)}var oc=il(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return nL(t,e)};return!(t>1)&&!this.__actions__.length&&r instanceof nb&&iO(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ol,args:[o],thisArg:i}),new nv(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)}),oh=rK(function(e,t,n){ex.call(e,n)?++e[n]:nP(e,n,1)}),of=r0(iQ),od=r0(iX);function op(e,t){return(oV(e)?tl:nB)(e,im(t,3))}function og(e,t){return(oV(e)?tc:nW)(e,im(t,3))}var om=rK(function(e,t,n){ex.call(e,n)?e[n].push(t):nP(e,n,[t])}),oy=rp(function(e,t,n){var r=-1,i="function"==typeof t,o=oW(e)?ev(e.length):[];return nB(e,function(e){o[++r]=i?ta(t,e,n):n6(e,t,n)}),o}),ov=rK(function(e,t,n){nP(e,n,t)});function ob(e,t){return(oV(e)?tg:rr)(e,im(t,3))}var ow=rK(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),oE=rp(function(e,t){if(null==e)return[];var n=t.length;return n>1&&iA(e,t[0],t[1])?t=[]:n>2&&iA(t[0],t[1],t[2])&&(t=[t[0]]),ru(e,n$(t,1),[])}),o_=te||function(){return e6.Date.now()};function oT(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,ii(e,128,i,i,i,i,t)}function oS(e,t){var n;if("function"!=typeof t)throw new eO(o);return e=se(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var oI=rp(function(e,t,n){var r=1;if(n.length){var i=tH(n,ig(oI));r|=32}return ii(e,r,t,n,i)}),oO=rp(function(e,t,n){var r=3;if(n.length){var i=tH(n,ig(oO));r|=32}return ii(t,r,e,n,i)});function oA(e,t,n){var r,s,a,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new eO(o);function g(t){var n=r,o=s;return r=s=i,h=t,u=e.apply(o,n)}function m(e){var n=e-c,r=e-h;return i===c||n>=t||n<0||d&&r>=a}function y(){var e,n,r,i=o_();if(m(i))return v(i);l=ij(y,(e=i-c,n=i-h,r=t-e,d?t4(r,a-n):r))}function v(e){return(l=i,p&&r)?g(e):(r=s=i,u)}function b(){var e,n=o_(),o=m(n);if(r=arguments,s=this,c=n,o){if(i===l)return h=e=c,l=ij(y,t),f?g(e):u;if(d)return rU(l),l=ij(y,t),g(c)}return i===l&&(l=ij(y,t)),u}return t=sn(t)||0,oX(n)&&(f=!!n.leading,a=(d="maxWait"in n)?t3(sn(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){i!==l&&rU(l),h=0,r=c=s=l=i},b.flush=function(){return i===l?u:v(o_())},b}var oC=rp(function(e,t){return nF(e,1,t)}),ok=rp(function(e,t,n){return nF(e,sn(t)||0,n)});function oR(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eO(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(oR.Cache||n_),n}function oN(e){if("function"!=typeof e)throw new eO(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}oR.Cache=n_;var ox=rp(function(e,t){var n=(t=1==t.length&&oV(t[0])?tg(t[0],tD(im())):tg(n$(t,1),tD(im()))).length;return rp(function(r){for(var i=-1,o=t4(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ta(e,this,r)})}),oD=rp(function(e,t){var n=tH(t,ig(oD));return ii(e,32,i,t,n)}),oP=rp(function(e,t){var n=tH(t,ig(oP));return ii(e,64,i,t,n)}),oL=il(function(e,t){return ii(e,256,i,i,i,t)});function oM(e,t){return e===t||e!=e&&t!=t}var oj=r5(n1),oU=r5(function(e,t){return e>=t}),oF=n9(function(){return arguments}())?n9:function(e){return oJ(e)&&ex.call(e,"callee")&&!eG.call(e,"callee")},oV=ev.isArray,oB=tt?tD(tt):function(e){return oJ(e)&&n0(e)==A};function oW(e){return null!=e&&oQ(e.length)&&!oK(e)}function oq(e){return oJ(e)&&oW(e)}var oH=tZ||s2,oz=tn?tD(tn):function(e){return oJ(e)&&n0(e)==p};function o$(e){if(!oJ(e))return!1;var t=n0(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o0(e)}function oK(e){if(!oX(e))return!1;var t=n0(e);return t==m||t==y||"[object AsyncFunction]"==t||"[object Proxy]"==t}function oG(e){return"number"==typeof e&&e==se(e)}function oQ(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function oX(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function oJ(e){return null!=e&&"object"==typeof e}var oY=tr?tD(tr):function(e){return oJ(e)&&i_(e)==v};function oZ(e){return"number"==typeof e||oJ(e)&&n0(e)==b}function o0(e){if(!oJ(e)||n0(e)!=w)return!1;var t=eq(e);if(null===t)return!0;var n=ex.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eN.call(n)==eM}var o1=ti?tD(ti):function(e){return oJ(e)&&n0(e)==_},o2=to?tD(to):function(e){return oJ(e)&&i_(e)==T};function o3(e){return"string"==typeof e||!oV(e)&&oJ(e)&&n0(e)==S}function o4(e){return"symbol"==typeof e||oJ(e)&&n0(e)==I}var o6=ts?tD(ts):function(e){return oJ(e)&&oQ(e.length)&&!!eY[n0(e)]},o9=r5(rn),o8=r5(function(e,t){return e<=t});function o5(e){if(!e)return[];if(oW(e))return o3(e)?tK(e):rz(e);if(e4&&e[e4])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[e4]());var t=i_(e);return(t==v?tW:t==T?tz:sO)(e)}function o7(e){return e?(e=sn(e))===u||e===-u?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function se(e){var t=o7(e),n=t%1;return t==t?n?t-n:t:0}function st(e){return e?nM(se(e),0,4294967295):0}function sn(e){if("number"==typeof e)return e;if(o4(e))return l;if(oX(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oX(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tx(e);var n=ec.test(e);return n||ef.test(e)?e2(e.slice(2),n?2:8):el.test(e)?l:+e}function sr(e){return r$(e,sv(e))}function si(e){return null==e?"":rO(e)}var so=rG(function(e,t){if(iN(t)||oW(t)){r$(t,sy(t),e);return}for(var n in t)ex.call(t,n)&&nR(e,n,t[n])}),ss=rG(function(e,t){r$(t,sv(t),e)}),sa=rG(function(e,t,n,r){r$(t,sv(t),e,r)}),su=rG(function(e,t,n,r){r$(t,sy(t),e,r)}),sl=il(nL),sc=rp(function(e,t){e=eT(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&iA(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=sv(s),u=-1,l=a.length;++u<l;){var c=a[u],h=e[c];(i===h||oM(h,ek[c])&&!ex.call(e,c))&&(e[c]=s[c])}return e}),sh=rp(function(e){return e.push(i,is),ta(sw,i,e)});function sf(e,t,n){var r=null==e?i:nY(e,t);return i===r?n:r}function sd(e,t){return null!=e&&iT(e,t,n3)}var sp=r3(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),e[t]=n},sV(sq)),sg=r3(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),ex.call(e,t)?e[t].push(n):e[t]=[n]},im),sm=rp(n6);function sy(e){return oW(e)?nI(e):rt(e)}function sv(e){return oW(e)?nI(e,!0):function(e){if(!oX(e))return function(e){var t=[];if(null!=e)for(var n in eT(e))t.push(n);return t}(e);var t=iN(e),n=[];for(var r in e)"constructor"==r&&(t||!ex.call(e,r))||n.push(r);return n}(e)}var sb=rG(function(e,t,n){rs(e,t,n)}),sw=rG(function(e,t,n,r){rs(e,t,n,r)}),sE=il(function(e,t){var n={};if(null==e)return n;var r=!1;t=tg(t,function(t){return t=rM(t,e),r||(r=t.length>1),t}),r$(e,ih(e),n),r&&(n=nj(n,7,ia));for(var i=t.length;i--;)rC(n,t[i]);return n}),s_=il(function(e,t){return null==e?{}:rl(e,t,function(t,n){return sd(e,n)})});function sT(e,t){if(null==e)return{};var n=tg(ih(e),function(e){return[e]});return t=im(t),rl(e,n,function(e,n){return t(e,n[0])})}var sS=ir(sy),sI=ir(sv);function sO(e){return null==e?[]:tP(e,sy(e))}var sA=rY(function(e,t,n){return t=t.toLowerCase(),e+(n?sC(t):t)});function sC(e){return sM(si(e).toLowerCase())}function sk(e){return(e=si(e))&&e.replace(ep,tU).replace(ez,"")}var sR=rY(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),sN=rY(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sx=rJ("toLowerCase"),sD=rY(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),sP=rY(function(e,t,n){return e+(n?" ":"")+sM(t)}),sL=rY(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),sM=rJ("toUpperCase");function sj(e,t,n){if(e=si(e),t=n?i:t,i===t){var r;return(r=e,eQ.test(r))?e.match(eK)||[]:e.match(ei)||[]}return e.match(t)||[]}var sU=rp(function(e,t){try{return ta(e,i,t)}catch(e){return o$(e)?e:new ew(e)}}),sF=il(function(e,t){return tl(t,function(t){nP(e,t=iq(t),oI(e[t],e))}),e});function sV(e){return function(){return e}}var sB=r1(),sW=r1(!0);function sq(e){return e}function sH(e){return re("function"==typeof e?e:nj(e,1))}var sz=rp(function(e,t){return function(n){return n6(n,e,t)}}),s$=rp(function(e,t){return function(n){return n6(e,n,t)}});function sK(e,t,n){var r=sy(t),i=nJ(t,r);null!=n||oX(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=nJ(t,sy(t)));var o=!(oX(n)&&"chain"in n)||!!n.chain,s=oK(e);return tl(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=rz(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tm([this.value()],arguments))})}),e}function sG(){}var sQ=r6(tg),sX=r6(th),sJ=r6(tb);function sY(e){return iC(e)?tA(iq(e)):function(t){return nY(t,e)}}var sZ=r8(),s0=r8(!0);function s1(){return[]}function s2(){return!1}var s3=r4(function(e,t){return e+t},0),s4=ie("ceil"),s6=r4(function(e,t){return e/t},1),s9=ie("floor"),s8=r4(function(e,t){return e*t},1),s5=ie("round"),s7=r4(function(e,t){return e-t},0);return ng.after=function(e,t){if("function"!=typeof t)throw new eO(o);return e=se(e),function(){if(--e<1)return t.apply(this,arguments)}},ng.ary=oT,ng.assign=so,ng.assignIn=ss,ng.assignInWith=sa,ng.assignWith=su,ng.at=sl,ng.before=oS,ng.bind=oI,ng.bindAll=sF,ng.bindKey=oO,ng.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return oV(e)?e:[e]},ng.chain=ou,ng.chunk=function(e,t,n){t=(n?iA(e,t,n):i===t)?1:t3(se(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,s=0,a=ev(tC(r/t));o<r;)a[s++]=rw(e,o,o+=t);return a},ng.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},ng.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ev(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tm(oV(n)?rz(n):[n],n$(t,1))},ng.cond=function(e){var t=null==e?0:e.length,n=im();return e=t?tg(e,function(e){if("function"!=typeof e[1])throw new eO(o);return[n(e[0]),e[1]]}):[],rp(function(n){for(var r=-1;++r<t;){var i=e[r];if(ta(i[0],this,n))return ta(i[1],this,n)}})},ng.conforms=function(e){var t,n;return n=sy(t=nj(e,1)),function(e){return nU(e,t,n)}},ng.constant=sV,ng.countBy=oh,ng.create=function(e,t){var n=nm(e);return null==t?n:nD(n,t)},ng.curry=function e(t,n,r){n=r?i:n;var o=ii(t,8,i,i,i,i,i,n);return o.placeholder=e.placeholder,o},ng.curryRight=function e(t,n,r){n=r?i:n;var o=ii(t,16,i,i,i,i,i,n);return o.placeholder=e.placeholder,o},ng.debounce=oA,ng.defaults=sc,ng.defaultsDeep=sh,ng.defer=oC,ng.delay=ok,ng.difference=i$,ng.differenceBy=iK,ng.differenceWith=iG,ng.drop=function(e,t,n){var r=null==e?0:e.length;return r?rw(e,(t=n||i===t?1:se(t))<0?0:t,r):[]},ng.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?rw(e,0,(t=r-(t=n||i===t?1:se(t)))<0?0:t):[]},ng.dropRightWhile=function(e,t){return e&&e.length?rR(e,im(t,3),!0,!0):[]},ng.dropWhile=function(e,t){return e&&e.length?rR(e,im(t,3),!0):[]},ng.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&iA(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=se(n))<0&&(n=-n>o?0:o+n),(r=i===r||r>o?o:se(r))<0&&(r+=o),r=n>r?0:st(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},ng.filter=function(e,t){return(oV(e)?tf:nz)(e,im(t,3))},ng.flatMap=function(e,t){return n$(ob(e,t),1)},ng.flatMapDeep=function(e,t){return n$(ob(e,t),u)},ng.flatMapDepth=function(e,t,n){return n=i===n?1:se(n),n$(ob(e,t),n)},ng.flatten=iJ,ng.flattenDeep=function(e){return(null==e?0:e.length)?n$(e,u):[]},ng.flattenDepth=function(e,t){return(null==e?0:e.length)?n$(e,t=i===t?1:se(t)):[]},ng.flip=function(e){return ii(e,512)},ng.flow=sB,ng.flowRight=sW,ng.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},ng.functions=function(e){return null==e?[]:nJ(e,sy(e))},ng.functionsIn=function(e){return null==e?[]:nJ(e,sv(e))},ng.groupBy=om,ng.initial=function(e){return(null==e?0:e.length)?rw(e,0,-1):[]},ng.intersection=iZ,ng.intersectionBy=i0,ng.intersectionWith=i1,ng.invert=sp,ng.invertBy=sg,ng.invokeMap=oy,ng.iteratee=sH,ng.keyBy=ov,ng.keys=sy,ng.keysIn=sv,ng.map=ob,ng.mapKeys=function(e,t){var n={};return t=im(t,3),nQ(e,function(e,r,i){nP(n,t(e,r,i),e)}),n},ng.mapValues=function(e,t){var n={};return t=im(t,3),nQ(e,function(e,r,i){nP(n,r,t(e,r,i))}),n},ng.matches=function(e){return ri(nj(e,1))},ng.matchesProperty=function(e,t){return ro(e,nj(t,1))},ng.memoize=oR,ng.merge=sb,ng.mergeWith=sw,ng.method=sz,ng.methodOf=s$,ng.mixin=sK,ng.negate=oN,ng.nthArg=function(e){return e=se(e),rp(function(t){return ra(t,e)})},ng.omit=sE,ng.omitBy=function(e,t){return sT(e,oN(im(t)))},ng.once=function(e){return oS(2,e)},ng.orderBy=function(e,t,n,r){return null==e?[]:(oV(t)||(t=null==t?[]:[t]),oV(n=r?i:n)||(n=null==n?[]:[n]),ru(e,t,n))},ng.over=sQ,ng.overArgs=ox,ng.overEvery=sX,ng.overSome=sJ,ng.partial=oD,ng.partialRight=oP,ng.partition=ow,ng.pick=s_,ng.pickBy=sT,ng.property=sY,ng.propertyOf=function(e){return function(t){return null==e?i:nY(e,t)}},ng.pull=i3,ng.pullAll=i4,ng.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?rc(e,t,im(n,2)):e},ng.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?rc(e,t,i,n):e},ng.pullAt=i6,ng.range=sZ,ng.rangeRight=s0,ng.rearg=oL,ng.reject=function(e,t){return(oV(e)?tf:nz)(e,oN(im(t,3)))},ng.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],o=e.length;for(t=im(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return rh(e,i),n},ng.rest=function(e,t){if("function"!=typeof e)throw new eO(o);return rp(e,t=i===t?t:se(t))},ng.reverse=i9,ng.sampleSize=function(e,t,n){return t=(n?iA(e,t,n):i===t)?1:se(t),(oV(e)?nA:rm)(e,t)},ng.set=function(e,t,n){return null==e?e:ry(e,t,n)},ng.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ry(e,t,n,r)},ng.shuffle=function(e){return(oV(e)?nC:rb)(e)},ng.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&iA(e,t,n)?(t=0,n=r):(t=null==t?0:se(t),n=i===n?r:se(n)),rw(e,t,n)):[]},ng.sortBy=oE,ng.sortedUniq=function(e){return e&&e.length?rS(e):[]},ng.sortedUniqBy=function(e,t){return e&&e.length?rS(e,im(t,2)):[]},ng.split=function(e,t,n){return(n&&"number"!=typeof n&&iA(e,t,n)&&(t=n=i),n=i===n?4294967295:n>>>0)?(e=si(e))&&("string"==typeof t||null!=t&&!o1(t))&&!(t=rO(t))&&tB(e)?rj(tK(e),0,n):e.split(t,n):[]},ng.spread=function(e,t){if("function"!=typeof e)throw new eO(o);return t=null==t?0:t3(se(t),0),rp(function(n){var r=n[t],i=rj(n,0,t);return r&&tm(i,r),ta(e,this,i)})},ng.tail=function(e){var t=null==e?0:e.length;return t?rw(e,1,t):[]},ng.take=function(e,t,n){return e&&e.length?rw(e,0,(t=n||i===t?1:se(t))<0?0:t):[]},ng.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?rw(e,(t=r-(t=n||i===t?1:se(t)))<0?0:t,r):[]},ng.takeRightWhile=function(e,t){return e&&e.length?rR(e,im(t,3),!1,!0):[]},ng.takeWhile=function(e,t){return e&&e.length?rR(e,im(t,3)):[]},ng.tap=function(e,t){return t(e),e},ng.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new eO(o);return oX(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),oA(e,t,{leading:r,maxWait:t,trailing:i})},ng.thru=ol,ng.toArray=o5,ng.toPairs=sS,ng.toPairsIn=sI,ng.toPath=function(e){return oV(e)?tg(e,iq):o4(e)?[e]:rz(iW(si(e)))},ng.toPlainObject=sr,ng.transform=function(e,t,n){var r=oV(e),i=r||oH(e)||o6(e);if(t=im(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:oX(e)&&oK(o)?nm(eq(e)):{}}return(i?tl:nQ)(e,function(e,r,i){return t(n,e,r,i)}),n},ng.unary=function(e){return oT(e,1)},ng.union=i8,ng.unionBy=i5,ng.unionWith=i7,ng.uniq=function(e){return e&&e.length?rA(e):[]},ng.uniqBy=function(e,t){return e&&e.length?rA(e,im(t,2)):[]},ng.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?rA(e,i,t):[]},ng.unset=function(e,t){return null==e||rC(e,t)},ng.unzip=oe,ng.unzipWith=ot,ng.update=function(e,t,n){return null==e?e:rk(e,t,rL(n))},ng.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:rk(e,t,rL(n),r)},ng.values=sO,ng.valuesIn=function(e){return null==e?[]:tP(e,sv(e))},ng.without=on,ng.words=sj,ng.wrap=function(e,t){return oD(rL(t),e)},ng.xor=or,ng.xorBy=oi,ng.xorWith=oo,ng.zip=os,ng.zipObject=function(e,t){return rD(e||[],t||[],nR)},ng.zipObjectDeep=function(e,t){return rD(e||[],t||[],ry)},ng.zipWith=oa,ng.entries=sS,ng.entriesIn=sI,ng.extend=ss,ng.extendWith=sa,sK(ng,ng),ng.add=s3,ng.attempt=sU,ng.camelCase=sA,ng.capitalize=sC,ng.ceil=s4,ng.clamp=function(e,t,n){return i===n&&(n=t,t=i),i!==n&&(n=(n=sn(n))==n?n:0),i!==t&&(t=(t=sn(t))==t?t:0),nM(sn(e),t,n)},ng.clone=function(e){return nj(e,4)},ng.cloneDeep=function(e){return nj(e,5)},ng.cloneDeepWith=function(e,t){return nj(e,5,t="function"==typeof t?t:i)},ng.cloneWith=function(e,t){return nj(e,4,t="function"==typeof t?t:i)},ng.conformsTo=function(e,t){return null==t||nU(e,t,sy(t))},ng.deburr=sk,ng.defaultTo=function(e,t){return null==e||e!=e?t:e},ng.divide=s6,ng.endsWith=function(e,t,n){e=si(e),t=rO(t);var r=e.length,o=n=i===n?r:nM(se(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},ng.eq=oM,ng.escape=function(e){return(e=si(e))&&H.test(e)?e.replace(W,tF):e},ng.escapeRegExp=function(e){return(e=si(e))&&Y.test(e)?e.replace(J,"\\$&"):e},ng.every=function(e,t,n){var r=oV(e)?th:nq;return n&&iA(e,t,n)&&(t=i),r(e,im(t,3))},ng.find=of,ng.findIndex=iQ,ng.findKey=function(e,t){return tE(e,im(t,3),nQ)},ng.findLast=od,ng.findLastIndex=iX,ng.findLastKey=function(e,t){return tE(e,im(t,3),nX)},ng.floor=s9,ng.forEach=op,ng.forEachRight=og,ng.forIn=function(e,t){return null==e?e:nK(e,im(t,3),sv)},ng.forInRight=function(e,t){return null==e?e:nG(e,im(t,3),sv)},ng.forOwn=function(e,t){return e&&nQ(e,im(t,3))},ng.forOwnRight=function(e,t){return e&&nX(e,im(t,3))},ng.get=sf,ng.gt=oj,ng.gte=oU,ng.has=function(e,t){return null!=e&&iT(e,t,n2)},ng.hasIn=sd,ng.head=iY,ng.identity=sq,ng.includes=function(e,t,n,r){e=oW(e)?e:sO(e),n=n&&!r?se(n):0;var i=e.length;return n<0&&(n=t3(i+n,0)),o3(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&tT(e,t,n)>-1},ng.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:se(n);return i<0&&(i=t3(r+i,0)),tT(e,t,i)},ng.inRange=function(e,t,n){var r,o,s;return t=o7(t),i===n?(n=t,t=0):n=o7(n),(r=e=sn(e))>=t4(o=t,s=n)&&r<t3(o,s)},ng.invoke=sm,ng.isArguments=oF,ng.isArray=oV,ng.isArrayBuffer=oB,ng.isArrayLike=oW,ng.isArrayLikeObject=oq,ng.isBoolean=function(e){return!0===e||!1===e||oJ(e)&&n0(e)==d},ng.isBuffer=oH,ng.isDate=oz,ng.isElement=function(e){return oJ(e)&&1===e.nodeType&&!o0(e)},ng.isEmpty=function(e){if(null==e)return!0;if(oW(e)&&(oV(e)||"string"==typeof e||"function"==typeof e.splice||oH(e)||o6(e)||oF(e)))return!e.length;var t=i_(e);if(t==v||t==T)return!e.size;if(iN(e))return!rt(e).length;for(var n in e)if(ex.call(e,n))return!1;return!0},ng.isEqual=function(e,t){return n8(e,t)},ng.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return i===r?n8(e,t,i,n):!!r},ng.isError=o$,ng.isFinite=function(e){return"number"==typeof e&&t0(e)},ng.isFunction=oK,ng.isInteger=oG,ng.isLength=oQ,ng.isMap=oY,ng.isMatch=function(e,t){return e===t||n5(e,t,iv(t))},ng.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,n5(e,t,iv(t),n)},ng.isNaN=function(e){return oZ(e)&&e!=+e},ng.isNative=function(e){if(iR(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return n7(e)},ng.isNil=function(e){return null==e},ng.isNull=function(e){return null===e},ng.isNumber=oZ,ng.isObject=oX,ng.isObjectLike=oJ,ng.isPlainObject=o0,ng.isRegExp=o1,ng.isSafeInteger=function(e){return oG(e)&&e>=-9007199254740991&&e<=9007199254740991},ng.isSet=o2,ng.isString=o3,ng.isSymbol=o4,ng.isTypedArray=o6,ng.isUndefined=function(e){return i===e},ng.isWeakMap=function(e){return oJ(e)&&i_(e)==O},ng.isWeakSet=function(e){return oJ(e)&&"[object WeakSet]"==n0(e)},ng.join=function(e,t){return null==e?"":t1.call(e,t)},ng.kebabCase=sR,ng.last=i2,ng.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var o=r;return i!==n&&(o=(o=se(n))<0?t3(r+o,0):t4(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--&&e[r]!==t;);return r}(e,t,o):t_(e,tI,o,!0)},ng.lowerCase=sN,ng.lowerFirst=sx,ng.lt=o9,ng.lte=o8,ng.max=function(e){return e&&e.length?nH(e,sq,n1):i},ng.maxBy=function(e,t){return e&&e.length?nH(e,im(t,2),n1):i},ng.mean=function(e){return tO(e,sq)},ng.meanBy=function(e,t){return tO(e,im(t,2))},ng.min=function(e){return e&&e.length?nH(e,sq,rn):i},ng.minBy=function(e,t){return e&&e.length?nH(e,im(t,2),rn):i},ng.stubArray=s1,ng.stubFalse=s2,ng.stubObject=function(){return{}},ng.stubString=function(){return""},ng.stubTrue=function(){return!0},ng.multiply=s8,ng.nth=function(e,t){return e&&e.length?ra(e,se(t)):i},ng.noConflict=function(){return e6._===this&&(e6._=ej),this},ng.noop=sG,ng.now=o_,ng.pad=function(e,t,n){e=si(e);var r=(t=se(t))?t$(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return r9(tJ(i),n)+e+r9(tC(i),n)},ng.padEnd=function(e,t,n){e=si(e);var r=(t=se(t))?t$(e):0;return t&&r<t?e+r9(t-r,n):e},ng.padStart=function(e,t,n){e=si(e);var r=(t=se(t))?t$(e):0;return t&&r<t?r9(t-r,n)+e:e},ng.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),t9(si(e).replace(Z,""),t||0)},ng.random=function(e,t,n){if(n&&"boolean"!=typeof n&&iA(e,t,n)&&(t=n=i),i===n&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),i===e&&i===t?(e=0,t=1):(e=o7(e),i===t?(t=e,e=0):t=o7(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=t8();return t4(e+o*(t-e+e1("1e-"+((o+"").length-1))),t)}return rf(e,t)},ng.reduce=function(e,t,n){var r=oV(e)?ty:tk,i=arguments.length<3;return r(e,im(t,4),n,i,nB)},ng.reduceRight=function(e,t,n){var r=oV(e)?tv:tk,i=arguments.length<3;return r(e,im(t,4),n,i,nW)},ng.repeat=function(e,t,n){return t=(n?iA(e,t,n):i===t)?1:se(t),rd(si(e),t)},ng.replace=function(){var e=arguments,t=si(e[0]);return e.length<3?t:t.replace(e[1],e[2])},ng.result=function(e,t,n){t=rM(t,e);var r=-1,o=t.length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[iq(t[r])];i===s&&(r=o,s=n),e=oK(s)?s.call(e):s}return e},ng.round=s5,ng.runInContext=e,ng.sample=function(e){return(oV(e)?nO:rg)(e)},ng.size=function(e){if(null==e)return 0;if(oW(e))return o3(e)?t$(e):e.length;var t=i_(e);return t==v||t==T?e.size:rt(e).length},ng.snakeCase=sD,ng.some=function(e,t,n){var r=oV(e)?tb:rE;return n&&iA(e,t,n)&&(t=i),r(e,im(t,3))},ng.sortedIndex=function(e,t){return r_(e,t)},ng.sortedIndexBy=function(e,t,n){return rT(e,t,im(n,2))},ng.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=r_(e,t);if(r<n&&oM(e[r],t))return r}return -1},ng.sortedLastIndex=function(e,t){return r_(e,t,!0)},ng.sortedLastIndexBy=function(e,t,n){return rT(e,t,im(n,2),!0)},ng.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=r_(e,t,!0)-1;if(oM(e[n],t))return n}return -1},ng.startCase=sP,ng.startsWith=function(e,t,n){return e=si(e),n=null==n?0:nM(se(n),0,e.length),t=rO(t),e.slice(n,n+t.length)==t},ng.subtract=s7,ng.sum=function(e){return e&&e.length?tR(e,sq):0},ng.sumBy=function(e,t){return e&&e.length?tR(e,im(t,2)):0},ng.template=function(e,t,n){var r=ng.templateSettings;n&&iA(e,t,n)&&(t=i),e=si(e),t=sa({},t,r,io);var o,s,a=sa({},t.imports,r.imports,io),u=sy(a),l=tP(a,u),c=0,h=t.interpolate||eg,f="__p += '",d=eS((t.escape||eg).source+"|"+h.source+"|"+(h===K?ea:eg).source+"|"+(t.evaluate||eg).source+"|$","g"),p="//# sourceURL="+(ex.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eJ+"]")+"\n";e.replace(d,function(t,n,r,i,a,u){return r||(r=i),f+=e.slice(c,u).replace(em,tV),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var g=ex.call(t,"variable")&&t.variable;if(g){if(eo.test(g))throw new ew("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(U,""):f).replace(F,"$1").replace(V,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=sU(function(){return eE(u,p+"return "+f).apply(i,l)});if(m.source=f,o$(m))throw m;return m},ng.times=function(e,t){if((e=se(e))<1||e>9007199254740991)return[];var n=4294967295,r=t4(e,4294967295);t=im(t),e-=4294967295;for(var i=tN(r,t);++n<e;)t(n);return i},ng.toFinite=o7,ng.toInteger=se,ng.toLength=st,ng.toLower=function(e){return si(e).toLowerCase()},ng.toNumber=sn,ng.toSafeInteger=function(e){return e?nM(se(e),-9007199254740991,9007199254740991):0===e?e:0},ng.toString=si,ng.toUpper=function(e){return si(e).toUpperCase()},ng.trim=function(e,t,n){if((e=si(e))&&(n||i===t))return tx(e);if(!e||!(t=rO(t)))return e;var r=tK(e),o=tK(t),s=tM(r,o),a=tj(r,o)+1;return rj(r,s,a).join("")},ng.trimEnd=function(e,t,n){if((e=si(e))&&(n||i===t))return e.slice(0,tG(e)+1);if(!e||!(t=rO(t)))return e;var r=tK(e),o=tj(r,tK(t))+1;return rj(r,0,o).join("")},ng.trimStart=function(e,t,n){if((e=si(e))&&(n||i===t))return e.replace(Z,"");if(!e||!(t=rO(t)))return e;var r=tK(e),o=tM(r,tK(t));return rj(r,o).join("")},ng.truncate=function(e,t){var n=30,r="...";if(oX(t)){var o="separator"in t?t.separator:o;n="length"in t?se(t.length):n,r="omission"in t?rO(t.omission):r}var s=(e=si(e)).length;if(tB(e)){var a=tK(e);s=a.length}if(n>=s)return e;var u=n-t$(r);if(u<1)return r;var l=a?rj(a,0,u).join(""):e.slice(0,u);if(i===o)return l+r;if(a&&(u+=l.length-u),o1(o)){if(e.slice(u).search(o)){var c,h=l;for(o.global||(o=eS(o.source,si(eu.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,i===f?u:f)}}else if(e.indexOf(rO(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},ng.unescape=function(e){return(e=si(e))&&q.test(e)?e.replace(B,tQ):e},ng.uniqueId=function(e){var t=++eD;return si(e)+t},ng.upperCase=sL,ng.upperFirst=sM,ng.each=op,ng.eachRight=og,ng.first=iY,sK(ng,(ey={},nQ(ng,function(e,t){ex.call(ng.prototype,t)||(ey[t]=e)}),ey),{chain:!1}),ng.VERSION="4.17.21",tl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){ng[e].placeholder=ng}),tl(["drop","take"],function(e,t){nb.prototype[e]=function(n){n=i===n?1:t3(se(n),0);var r=this.__filtered__&&!t?new nb(this):this.clone();return r.__filtered__?r.__takeCount__=t4(n,r.__takeCount__):r.__views__.push({size:t4(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},nb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tl(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;nb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:im(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),tl(["head","last"],function(e,t){var n="take"+(t?"Right":"");nb.prototype[e]=function(){return this[n](1).value()[0]}}),tl(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");nb.prototype[e]=function(){return this.__filtered__?new nb(this):this[n](1)}}),nb.prototype.compact=function(){return this.filter(sq)},nb.prototype.find=function(e){return this.filter(e).head()},nb.prototype.findLast=function(e){return this.reverse().find(e)},nb.prototype.invokeMap=rp(function(e,t){return"function"==typeof e?new nb(this):this.map(function(n){return n6(n,e,t)})}),nb.prototype.reject=function(e){return this.filter(oN(im(e)))},nb.prototype.slice=function(e,t){e=se(e);var n=this;return n.__filtered__&&(e>0||t<0)?new nb(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),i!==t&&(n=(t=se(t))<0?n.dropRight(-t):n.take(t-e)),n)},nb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},nb.prototype.toArray=function(){return this.take(4294967295)},nQ(nb.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=ng[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(ng.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof nb,l=a[0],c=u||oV(t),h=function(e){var t=o.apply(ng,tm([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&c){t=g?t:new nb(this);var m=e.apply(t,a);return m.__actions__.push({func:ol,args:[h],thisArg:i}),new nv(m,f)}return p&&g?e.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})}),tl(["pop","push","shift","sort","splice","unshift"],function(e){var t=eA[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);ng.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(oV(i)?i:[],e)}return this[n](function(n){return t.apply(oV(n)?n:[],e)})}}),nQ(nb.prototype,function(e,t){var n=ng[t];if(n){var r=n.name+"";ex.call(ns,r)||(ns[r]=[]),ns[r].push({name:t,func:n})}}),ns[r2(i,2).name]=[{name:"wrapper",func:i}],nb.prototype.clone=function(){var e=new nb(this.__wrapped__);return e.__actions__=rz(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rz(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rz(this.__views__),e},nb.prototype.reverse=function(){if(this.__filtered__){var e=new nb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},nb.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=oV(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=t4(t,e+s);break;case"takeRight":e=t3(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=t4(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return rN(e,this.__actions__);var p=[];n:for(;u--&&f<d;){for(var g=-1,m=e[l+=t];++g<h;){var y=c[g],v=y.iteratee,b=y.type,w=v(m);if(2==b)m=w;else if(!w){if(1==b)continue n;break n}}p[f++]=m}return p},ng.prototype.at=oc,ng.prototype.chain=function(){return ou(this)},ng.prototype.commit=function(){return new nv(this.value(),this.__chain__)},ng.prototype.next=function(){i===this.__values__&&(this.__values__=o5(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}},ng.prototype.plant=function(e){for(var t,n=this;n instanceof ny;){var r=iz(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},ng.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof nb){var t=e;return this.__actions__.length&&(t=new nb(this)),(t=t.reverse()).__actions__.push({func:ol,args:[i9],thisArg:i}),new nv(t,this.__chain__)}return this.thru(i9)},ng.prototype.toJSON=ng.prototype.valueOf=ng.prototype.value=function(){return rN(this.__wrapped__,this.__actions__)},ng.prototype.first=ng.prototype.head,e4&&(ng.prototype[e4]=function(){return this}),ng}();e6._=tX,r=(function(){return tX}).call(t,n,t,e),i!==r&&(e.exports=r)}).call(this)},3454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},3837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(1096)}])},1065:function(){},386:function(){},2595:function(){},2320:function(){},8986:function(){},3831:function(e,t,n){"use strict";n.d(t,{db:function(){return s},Z:function(){return a}});var r=n(5816);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,r.KN)("firebase","9.17.1","app");var i=n(1294);let o=(0,r.ZF)({apiKey:"AIzaSyAYHEnpEE6mCVYSPX4hICfj1ksWlVdbxOQ",authDomain:"digital-meter-72a4d.firebaseapp.com",projectId:"digital-meter-72a4d",storageBucket:"digital-meter-72a4d.appspot.com",messagingSenderId:"965460698716",appId:"1:965460698716:web:eda0b77442a034e8a86899",measurementId:"G-HNM03G2QNC"}),s=(0,i.ad)(o);var a=o},1395:function(e,t,n){"use strict";n.d(t,{dX:function(){return t1},V0:function(){return tY},ii:function(){return tX},UX:function(){return tZ},EQ:function(){return tJ}});var r,i=n(1199),o=n(5816),s=n(3333);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var u=n(8463);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let c=new i.LL("auth","Firebase",l()),h=new s.Yd("@firebase/auth");function f(e,...t){h.logLevel<=s.in.ERROR&&h.error(`Auth (${o.Jn}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(e,...t){throw g(e,...t)}function p(e,...t){return g(e,...t)}function g(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function m(e,t,...n){if(!e)throw g(t,...n)}function y(e){let t="INTERNAL ASSERTION FAILED: "+e;throw f(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v=new Map;function b(e){e instanceof Function||y("Expected a class definition");let t=v.get(e);return t?(t instanceof e||y("Instance stored in cache mismatched with class"),t):(t=new e,v.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||y("Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===E()||"https:"===E()||(0,i.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t){e.emulator||y("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new _(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function C(e,t,n,r,o={}){return k(e,o,async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});let a=(0,i.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),S.fetch()(N(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function k(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},I),t);try{let t=new x(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw D(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let t=o.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw D(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw D(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw D(e,"user-disabled",s);let u=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){let r=Object.assign(Object.assign({},l()),{[t]:n}),o=new i.LL("auth","Firebase",r);return o.create(t,{appName:e.name})}(e,u,a);d(e,u)}}catch(t){if(t instanceof i.ZR)throw t;d(e,"network-request-failed")}}async function R(e,t,n,r,i={}){let o=await C(e,t,n,r,i);return"mfaPendingCredential"in o&&d(e,"multi-factor-auth-required",{_serverResponse:o}),o}function N(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?T(e.config,i):`${e.config.apiScheme}://${i}`}class x{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function D(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P(e,t){return C(e,"POST","/v1/accounts:delete",t)}async function L(e,t){return C(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function j(e,t=!1){let n=(0,i.m9)(e),r=await n.getIdToken(t),o=F(r);m(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");let s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:M(U(o.auth_time)),issuedAtTime:M(U(o.iat)),expirationTime:M(U(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function U(e){return 1e3*Number(e)}function F(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.tV)(n);if(!e)return f("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return f("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e){var t;let n=e.auth,r=await e.getIdToken(),i=await V(e,L(n,{idToken:r}));m(null==i?void 0:i.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],u=function(e,t){let n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null==u?void 0:u.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new W(o.createdAt,o.lastLoginAt),isAnonymous:!!l&&c};Object.assign(e,h)}async function H(e){let t=(0,i.m9)(e);await q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z(e,t){let n=await k(e,{},async()=>{let n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=N(e,r,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(void 0!==e.idToken,"internal-error"),m(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=F(e);return m(t,"internal-error"),m(void 0!==t.exp,"internal-error"),m(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(m(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await z(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new $;return n&&(m("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(m("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(m("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return y("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e,t){m("string"==typeof e||void 0===e,"internal-error",{appName:t})}class G{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new W(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await V(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j(this,e)}reload(){return H(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new G(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await V(this,P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,l;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:_,stsTokenManager:T}=t;m(b&&T,e,"internal-error");let S=$.fromJSON(this.name,T);m("string"==typeof b,e,"internal-error"),K(c,e.name),K(h,e.name),m("boolean"==typeof w,e,"internal-error"),m("boolean"==typeof E,e,"internal-error"),K(f,e.name),K(d,e.name),K(p,e.name),K(g,e.name),K(y,e.name),K(v,e.name);let I=new G({uid:b,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:E,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:S,createdAt:y,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map(e=>Object.assign({},e))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t,n=!1){let r=new $;r.updateFromServerResponse(t);let i=new G({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await q(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e,t,n){return`firebase:${e}:${t}:${n}`}Q.type="NONE";class J{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=X(this.userKey,r.apiKey,i),this.fullPersistenceKey=X("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?G._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new J(b(Q),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||b(Q),o=X(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(o);if(t){let r=G._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new J(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(en(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(Z(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ei(t))return"Blackberry";if(eo(t))return"Webos";if(ee(t))return"Safari";if((t.includes("chrome/")||et(t))&&!t.includes("edge/"))return"Chrome";if(er(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function Z(e=(0,i.z$)()){return/firefox\//i.test(e)}function ee(e=(0,i.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function et(e=(0,i.z$)()){return/crios\//i.test(e)}function en(e=(0,i.z$)()){return/iemobile/i.test(e)}function er(e=(0,i.z$)()){return/android/i.test(e)}function ei(e=(0,i.z$)()){return/blackberry/i.test(e)}function eo(e=(0,i.z$)()){return/webos/i.test(e)}function es(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ea(e=(0,i.z$)()){return es(e)||er(e)||eo(e)||ei(e)||/windows phone/i.test(e)||en(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e,t=[]){let n;switch(e){case"Browser":n=Y((0,i.z$)());break;case"Worker":n=`${Y((0,i.z$)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.Jn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ef(this),this.idTokenSubscription=new ef(this),this.beforeStateQueue=new el(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await J.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===o)&&(null==s?void 0:s.user)&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(m(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await q(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?(0,i.m9)(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(b(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&b(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=await J.create(this,[b(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return(m(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"==typeof t)?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function eh(e){return(0,i.m9)(e)}class ef{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ed(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ep(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function em(e,t){return C(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",A(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}async function eb(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends eg{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ew(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ew(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ey(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ev(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return em(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return eb(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",A(e,t))}class e_ extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new e_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;let o=new e_(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return eE(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eE(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eE(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(e,t){return C(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))}async function eS(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))}async function eI(e,t){let n=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw D(e,"account-exists-with-different-credential",n);return n}let eO={USER_NOT_FOUND:"user-not-found"};async function eA(e,t){let n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return R(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,n),eO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC extends eg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eC({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eC({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eS(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eI(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eA(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eC({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ek{constructor(e){var t,n,r,o,s,a;let u=(0,i.zd)((0,i.pd)(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(n=u.oobCode)&&void 0!==n?n:null,h=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);m(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id,o=r?(0,i.zd)((0,i.pd)(r)).link:null;return o||r||n||t||e}(e);try{return new ek(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.providerId=eR.PROVIDER_ID}static credential(e,t){return ew._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=ek.parseLink(t);return m(n,"argument-error"),ew._fromEmailAndCode(e,n.code,n.tenantId)}}eR.PROVIDER_ID="password",eR.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eR.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends eN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends ex{constructor(){super("facebook.com")}static credential(e){return e_._fromParams({providerId:eD.PROVIDER_ID,signInMethod:eD.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eD.credentialFromTaggedObject(e)}static credentialFromError(e){return eD.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eD.credential(e.oauthAccessToken)}catch(e){return null}}}eD.FACEBOOK_SIGN_IN_METHOD="facebook.com",eD.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends ex{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return e_._fromParams({providerId:eP.PROVIDER_ID,signInMethod:eP.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eP.credentialFromTaggedObject(e)}static credentialFromError(e){return eP.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return eP.credential(t,n)}catch(e){return null}}}eP.GOOGLE_SIGN_IN_METHOD="google.com",eP.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends ex{constructor(){super("github.com")}static credential(e){return e_._fromParams({providerId:eL.PROVIDER_ID,signInMethod:eL.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eL.credentialFromTaggedObject(e)}static credentialFromError(e){return eL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eL.credential(e.oauthAccessToken)}catch(e){return null}}}eL.GITHUB_SIGN_IN_METHOD="github.com",eL.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM extends ex{constructor(){super("twitter.com")}static credential(e,t){return e_._fromParams({providerId:eM.PROVIDER_ID,signInMethod:eM.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eM.credentialFromTaggedObject(e)}static credentialFromError(e){return eM.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return eM.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(e,t){return R(e,"POST","/v1/accounts:signUp",A(e,t))}eM.TWITTER_SIGN_IN_METHOD="twitter.com",eM.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){let i=await G._fromIdTokenResponse(e,n,r),o=eF(n),s=new eU({user:i,providerId:o,_tokenResponse:n,operationType:t});return s}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);let r=eF(n);return new eU({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function eF(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,eV.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new eV(e,t,n,r)}}function eB(e,t,n,r){let i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw eV._fromErrorAndOperation(e,n,t,r);throw n})}async function eW(e,t,n=!1){let r=await V(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return eU._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eq(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let o=await V(e,eB(r,i,t,e),n);m(o.idToken,r,"internal-error");let s=F(o.idToken);m(s,r,"internal-error");let{sub:a}=s;return m(e.uid===a,r,"user-mismatch"),eU._forOperation(e,i,o)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&d(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eH(e,t,n=!1){let r="signIn",i=await eB(e,r,t),o=await eU._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ez(e,t){return eH(eh(e),t)}async function e$(e,t,n){let r=eh(e),i=await ej(r,{returnSecureToken:!0,email:t,password:n}),o=await eU._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}new WeakMap;let eK="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(eK,"1"),this.storage.removeItem(eK),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class eQ extends eG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=(0,i.z$)();return ee(e)||es(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=ea(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eQ.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX extends eG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eX.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new eJ(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let o=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(o.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}eJ.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let o="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!o)throw Error("connection_unavailable");return new Promise((s,a)=>{let u=eY("",20);o.port1.start();let l=setTimeout(()=>{a(Error("unsupported_event"))},n);i={messageChannel:o,onMessage(e){if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(l),r=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(l),clearTimeout(r),a(Error("invalid_response"))}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return void 0!==e0().WorkerGlobalScope&&"function"==typeof e0().importScripts}async function e2(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3="firebaseLocalStorageDb",e4="firebaseLocalStorage",e6="fbase_key";class e9{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function e8(e,t){return e.transaction([e4],t?"readwrite":"readonly").objectStore(e4)}function e5(){let e=indexedDB.open(e3,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(e4,{keyPath:e6})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(e4)?t(n):(n.close(),await function(){let e=indexedDB.deleteDatabase(e3);return new e9(e).toPromise()}(),t(await e5()))})})}async function e7(e,t,n){let r=e8(e,!0).put({[e6]:t,value:n});return new e9(r).toPromise()}async function te(e,t){let n=e8(e,!1).get(t),r=await new e9(n).toPromise();return void 0===r?null:r.value}function tt(e,t){let n=e8(e,!0).delete(t);return new e9(n).toPromise()}class tn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await e5()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eJ._getInstance(e1()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await e2(),!this.activeServiceWorker)return;this.sender=new eZ(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await e5();return await e7(e,eK,"1"),await tt(e,eK),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>e7(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>te(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=e8(e,!1).getAll();return new e9(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function tr(e){return`__${e}${Math.floor(1e6*Math.random())}`}async function ti(e,t,n){var r,i,o;let s=await n.verify();try{let a;if(m("string"==typeof s,e,"argument-error"),m("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){let t=a.session;if("phoneNumber"in a){m("enroll"===t.type,e,"internal-error");let n=await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:s}},C(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,i)));return n.phoneSessionInfo.sessionInfo}{m("signin"===t.type,e,"internal-error");let n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;m(n,e,"missing-multi-factor-info");let i=await (o={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}},C(e,"POST","/v2/accounts/mfaSignIn:start",A(e,o)));return i.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await eT(e,{phoneNumber:a.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}tn.type="LOCAL",tr("rcb"),new _(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.providerId=to.PROVIDER_ID,this.auth=eh(e)}verifyPhoneNumber(e,t){return ti(this.auth,e,(0,i.m9)(t))}static credential(e,t){return eC._fromVerification(e,t)}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eC._fromTokenResponse(t,n):null}}to.PROVIDER_ID="phone",to.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ta(e){return eH(e.auth,new ts(e),e.bypassAuthState)}function tu(e){let{auth:t,user:n}=e;return m(n,t,"internal-error"),eq(n,new ts(e),e.bypassAuthState)}async function tl(e){let{auth:t,user:n}=e;return m(n,t,"internal-error"),eW(n,new ts(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ta;case"linkViaPopup":case"linkViaRedirect":return tl;case"reauthViaPopup":case"reauthViaRedirect":return tu;default:d(this.auth,"internal-error")}}resolve(e){this.pendingPromise||y("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||y("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=new _(2e3,1e4);class tf extends tc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return m(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||y("Popup operations only handle one event");let e=eY();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,th.get())};e()}}tf.currentPopupAction=null;let td=new Map;class tp extends tc{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{let t=await tg(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tg(e,t){let n=X("pendingRedirect",t.config.apiKey,t.name),r=b(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function tm(e,t){td.set(e._key(),t)}async function ty(e,t,n=!1){let r=eh(e),i=t?b(t):(m(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),o=new tp(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class tv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tw(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(e))}saveEventToCache(e){this.cachedEventUids.add(tb(e)),this.lastProcessedEventTime=Date.now()}}function tb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tw({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(e,t={}){return C(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tT=/^https?/;async function tS(e){if(e.config.emulator)return;let{authorizedDomains:t}=await tE(e);for(let e of t)try{if(function(e){let t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tT.test(n))return!1;if(t_.test(e))return r===e;let i=e.replace(/\./g,"\\."),o=RegExp("^(.+\\."+i+"|"+i+")$","i");return o.test(r)}(e))return}catch(e){}d(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tI=new _(3e4,6e4);function tO(){let e=e0().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let tA=null,tC=new _(5e3,15e3),tk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function tN(e){let t=await (tA=tA||new Promise((t,n)=>{var r,i,o,s;function a(){tO(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tO(),n(p(e,"network-request-failed"))},timeout:tI.get()})}if(null===(i=null===(r=e0().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(o=e0().gapi)||void 0===o?void 0:o.load)a();else{let t=tr("iframefcb");return e0()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},(s=`https://apis.google.com/js/api.js?onload=${t}`,new Promise((e,t)=>{var n,r;let i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=e=>{let n=p("internal-error");n.customData=e,t(n)},i.type="text/javascript",i.charset="UTF-8",(null!==(r=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==r?r:document).appendChild(i)})).catch(e=>n(e))}}).catch(e=>{throw tA=null,e})),n=e0().gapi;return m(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;m(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?T(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.Jn},s=tR.get(e.config.apiHost);s&&(r.eid=s);let a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tk,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=p(e,"network-request-failed"),o=e0().setTimeout(()=>{r(i)},tC.get());function s(){e0().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function tP(e,t,n,r,s,a){m(e.config.authDomain,e,"auth-domain-config-required"),m(e.config.apiKey,e,"invalid-api-key");let u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.Jn,eventId:s};if(t instanceof eN)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))u[n]=r;if(t instanceof ex){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);let l=u;for(let e of Object.keys(l))void 0===l[e]&&delete l[e];return`${function({config:e}){return e.emulator?T(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(l).slice(1)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tL="webStorageSupport",tM=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eX,this._completeRedirectFn=ty,this._overrideRedirectResult=tm}async _openPopup(e,t,n,r){var o;(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager)||y("_initialize() not called before _openPopup()");let s=tP(e,t,n,w(),r);return function(e,t,n,r=500,o=600){let s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},tx),{width:r.toString(),height:o.toString(),top:s,left:a}),c=(0,i.z$)().toLowerCase();n&&(u=et(c)?"_blank":n),Z(c)&&(t=t||"http://localhost",l.scrollbars="yes");let h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return es(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==u)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new tD(null);let f=window.open(t||"",u,h);m(f,e,"popup-blocked");try{f.focus()}catch(e){}return new tD(f)}(e,s,eY())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=tP(e,t,n,w(),r),e0().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n||y("If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await tN(e),n=new tv(e);return t.register("authEvent",t=>{m(null==t?void 0:t.authEvent,e,"invalid-auth-event");let r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){let n=this.iframes[e._key()];n.send(tL,{type:tL},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[tL];void 0!==i&&t(!!i),d(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ea()||ee()||es()}};class tj{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return y("unexpected MultiFactorSessionType")}}}class tU extends tj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tU(e)}_finalizeEnroll(e,t,n){return C(e,"POST","/v2/accounts/mfaEnrollment:finalize",A(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return C(e,"POST","/v2/accounts/mfaSignIn:finalize",A(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}var tF="@firebase/auth",tV="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let tW=(0,i.Pz)("authIdTokenMaxAge")||300,tq=null,tH=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tW)return;let i=null==n?void 0:n.token;tq!==i&&(tq=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};r="Browser",(0,o.Xd)(new u.wA("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=n.options;return((e,n)=>{m(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),m(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});let i={apiKey:o,authDomain:s,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eu(r)},a=new ec(e,n,i);return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(a,t),a})(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{let r=e.getProvider("auth-internal");r.initialize()})),(0,o.Xd)(new u.wA("auth-internal",e=>{let t=eh(e.getProvider("auth").getImmediate());return new tB(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.KN)(tF,tV,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,o.KN)(tF,tV,"esm2017");var tz=n(9828),t$=n(3831);function tK(){let e=function(e=(0,o.Mq)()){let t=(0,o.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=(0,o.qX)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=t?t:{}))return e;d(e,"already-initialized")}let r=n.initialize({options:t});return r}(e,{popupRedirectResolver:tM,persistence:[tn,eQ,eX]}),r=(0,i.Pz)("authTokenSyncURL");if(r){var s,a;let e=tH(r);s=()=>e(n.currentUser),(0,i.m9)(n).beforeAuthStateChanged(e,s),a=t=>e(t),(0,i.m9)(n).onIdTokenChanged(a,void 0,void 0)}let u=(0,i.q4)("auth");return u&&function(e,t,n){let r=eh(e);m(r._canInitEmulator,r,"emulator-config-failed"),m(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!(null==n?void 0:n.disableWarnings),o=ed(t),{host:s,port:a}=function(e){let t=ed(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:ep(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:ep(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${u}`),n}(t$.Z),t=async(t,n)=>{let r=await e$(e,t,n);return(0,tz.pl)((0,tz.JU)(t$.db,"users",r.user.uid),{uid:r.user.uid,email:r.user.email,role:"user"}),r},n=(t,n)=>ez((0,i.m9)(e),eR.credential(t,n)),r=()=>(0,i.m9)(e).signOut();return{signUp:t,signIn:n,signOut:r}}let{createSlice:tG,createAsyncThunk:tQ}=n(8935),tX=tQ("auth/sigIn",async(e,t)=>{let{email:n,password:r}=e,{rejectWithValue:i}=t;try{let{signIn:e}=tK(),{user:t}=await e(n,r);return t}catch(e){return i(e.message)}}),tJ=tQ("auth/signUp",async(e,t)=>{let{email:n,password:r}=e,{rejectWithValue:i}=t;try{let{signUp:e}=tK(),{user:t}=await e(n,r);return t}catch(e){return i(e.message)}}),tY=tQ("auth/reset",async()=>({})),tZ=tQ("auth/signOut",async()=>{let{signOut:e}=tK(),t=await e();return t}),t0=tG({name:"auth",initialState:{user:null,loading:!1,error:null},extraReducers:{[tX.pending]:e=>{e.loading=!0},[tX.fulfilled]:(e,t)=>{e.loading=!1,e.user=t.payload,e.error=null},[tX.rejected]:(e,t)=>{e.error=t.payload,e.loading=!1},[tZ.pending]:e=>{e.loading=!0},[tZ.fulfilled]:(e,t)=>{e.loading=!1,e.user=null,e.error=null},[tZ.rejected]:(e,t)=>{e.error=t.payload,e.loading=!1},[tJ.pending]:e=>{e.loading=!0},[tJ.fulfilled]:(e,t)=>{e.loading=!1,e.user=t.payload,e.error=null},[tJ.rejected]:(e,t)=>{e.error=t.payload,e.loading=!1},[tY.fulfilled]:e=>{e.error=null,e.loading=!1}}}),t1=t0.reducer},1843:function(e,t,n){"use strict";n.d(t,{P5:function(){return d},PW:function(){return u},Q6:function(){return h},TE:function(){return l},vq:function(){return c}});var r=n(3831),i=n(9828),o=n(6486);let{createSlice:s,createAsyncThunk:a}=n(8935),u=a("device/getDevices",async()=>{let e=(0,i.hJ)(r.db,"devices"),t=await (0,i.PL)(e),{docs:n}=(0,o.pick)(t,"docs",[]);return(0,o.map)(n,e=>e.id)}),l=a("device/getCurrent",async(e,t)=>{let{getState:n}=t,s=(0,i.JU)(r.db,"users",n().auth.user.uid),a=await (0,i.QT)(s);return(0,o.pick)(a.data(),"devices",[])}),c=a("device/addDevices",async(e,t)=>{let{getState:n}=t,o=(0,i.JU)(r.db,"users",n().auth.user.uid);return await (0,i.r7)(o,{devices:e}),e}),h=a("device/getRecords",async e=>{let t=(0,i.hJ)(r.db,"devices",e,"data"),n=await (0,i.PL)(t),{docs:s}=(0,o.pick)(n,"docs",[]),a=(0,o.map)(s,e=>({...e.data(),id:e.id}));return a.sort((e,t)=>e.timestamp.seconds-t.timestamp.seconds)}),f=s({name:"device",initialState:{loading:!1,devices:[],records:[],error:null,current:[]},extraReducers:{[u.fulfilled]:(e,t)=>{e.devices=t.payload,e.loading=!1,e.error=null},[u.pending]:e=>{e.loading=!0},[u.rejected]:(e,t)=>{e.loading=!1,e.error=t.payload,e.devices=[]},[h.fulfilled]:(e,t)=>{e.records=t.payload,e.loading=!1,e.error=null},[h.pending]:e=>{e.loading=!0},[h.rejected]:(e,t)=>{e.loading=!1,e.error=t.payload,e.records=[]},[c.fulfilled]:(e,t)=>{e.current=t.payload,e.loading=!1},[l.fulfilled]:(e,t)=>{e.current=t.payload.devices,e.loading=!1},[l.pending]:(e,t)=>{e.loading=!0}}}),d=f.reducer},1096:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eH}});var r,i,o,s,a,u,l,c,h,f,d,p,g,m,y,v,b,w=n(1844),E=n(4500),_="persist:",T="persist/FLUSH",S="persist/REHYDRATE",I="persist/PAUSE",O="persist/PERSIST",A="persist/PURGE",C="persist/REGISTER";function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){return JSON.stringify(e)}function x(e){return JSON.parse(e)}function D(e){}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=n(8356);function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V={registry:[],bootstrapped:!1},B=n(6734),W=n(3894),q=n(1395),H=n(1843);let{combineReducers:z}=n(8935),$=z({auth:q.dX,device:H.P5}),{compose:K,applyMiddleware:G,legacy_createStore:Q}=n(8935),X=(0,E.createLogger)({collapsed:(e,t,n)=>!n.error}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):K,Y=J(G(W.Z,X)),Z={key:"root",storage:B.Z,whitelist:["auth"],getStoreState:!1,debug:!1},ee=(r=void 0!==Z.version?Z.version:-1,Z.debug,i=void 0===Z.stateReconciler?function(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n);return e&&"object"===k(e)&&Object.keys(e).forEach(function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])}),i}:Z.stateReconciler,o=Z.getStoredState||function(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:_).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:x,i.getItem(r).then(function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach(function(e){r[e]=n.reduceRight(function(t,n){return n.out(t,e,i)},t(i[e]))}),r}catch(e){throw e}})},s=void 0!==Z.timeout?Z.timeout:5e3,a=null,u=!1,l=!0,c=function(e){return e._persist.rehydrated&&a&&!l&&a.update(e),e},function(e,t){var n,h,f=e||{},d=f._persist,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(f,["_persist"]);if(t.type===O){var g=!1,m=function(e,n){g||(t.rehydrate(Z.key,e,n),g=!0)};if(s&&setTimeout(function(){g||m(void 0,Error('redux-persist: persist timed out for persist key "'.concat(Z.key,'"')))},s),l=!1,a||(a=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:_).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:N;var u=e.writeFailHandler||null,l={},c={},h=[],f=null,d=null;function p(){if(0===h.length){f&&clearInterval(f),f=null;return}var e=h.shift(),n=i.reduce(function(t,n){return n.in(t,e,l)},l[e]);if(void 0!==n)try{c[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete c[e];0===h.length&&(Object.keys(c).forEach(function(e){void 0===l[e]&&delete c[e]}),d=a.setItem(s,t(c)).catch(m))}function g(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach(function(t){g(t)&&l[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)}),Object.keys(l).forEach(function(t){void 0===e[t]&&g(t)&&-1===h.indexOf(t)&&void 0!==l[t]&&h.push(t)}),null===f&&(f=setInterval(p,o)),l=e},flush:function(){for(;0!==h.length;)p();return d||Promise.resolve()}}}(Z)),d)return L({},$(p,t),{_persist:d});if("function"!=typeof t.rehydrate||"function"!=typeof t.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return t.register(Z.key),o(Z).then(function(e){(Z.migrate||function(e,t){return Promise.resolve(e)})(e,r).then(function(e){m(e)},function(e){m(void 0,e)})},function(e){m(void 0,e)}),L({},$(p,t),{_persist:{version:r,rehydrated:!1}})}if(t.type===A)return u=!0,t.result((n=Z.storage,h="".concat(void 0!==Z.keyPrefix?Z.keyPrefix:_).concat(Z.key),n.removeItem(h,D))),L({},$(p,t),{_persist:d});if(t.type===T)return t.result(a&&a.flush()),L({},$(p,t),{_persist:d});if(t.type===I)l=!0;else if(t.type===S){if(u)return L({},p,{_persist:L({},d,{rehydrated:!0})});if(t.key===Z.key){var y=$(p,t),v=t.payload;return c(L({},!1!==i&&void 0!==v?i(v,e,y,Z):y,{_persist:L({},d,{rehydrated:!0})}))}}if(!d)return $(e,t);var b=$(p,t);return b===p?e:c(L({},b,{_persist:d}))}),et=Q(ee,Y),en=(f=!1,d=(0,M.MT)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return F({},e,{registry:[].concat(j(e.registry),[t.key])});case S:var n=e.registry.indexOf(t.key),r=j(e.registry);return r.splice(n,1),F({},e,{registry:r,bootstrapped:0===r.length});default:return e}},V,h&&h.enhancer?h.enhancer:void 0),p=function(e){d.dispatch({type:C,key:e})},g=function(e,t,n){var r={type:S,payload:t,err:n,key:e};et.dispatch(r),d.dispatch(r),f&&m.getState().bootstrapped&&(f(),f=!1)},m=F({},d,{purge:function(){var e=[];return et.dispatch({type:A,result:function(t){e.push(t)}}),Promise.all(e)},flush:function(){var e=[];return et.dispatch({type:T,result:function(t){e.push(t)}}),Promise.all(e)},pause:function(){et.dispatch({type:I})},persist:function(){et.dispatch({type:O,register:p,rehydrate:g})}}),h&&h.manualPersist||m.persist(),m);n(2320),n(2595),n(386),n(8986),n(1065);var er=n(9473),ei=n(5784),eo=n(3366),es=n(7462),ea=n(5068),eu=n(220);function el(e,t){var n=Object.create(null);return e&&ei.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=t&&(0,ei.isValidElement)(e)?t(e):e}),n}function ec(e,t,n){return null!=n[t]?n[t]:e.props[t]}var eh=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ef=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,ea.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?el(e.children,function(t){return(0,ei.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:ec(t,"appear",e),enter:ec(t,"enter",e),exit:ec(t,"exit",e)})}):(Object.keys(r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];a[i[u][r]]=n(l)}a[u]=n(u)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(i,n=el(e.children))).forEach(function(t){var s=r[t];if((0,ei.isValidElement)(s)){var a=t in i,u=t in n,l=i[t],c=(0,ei.isValidElement)(l)&&!l.props.in;u&&(!a||c)?r[t]=(0,ei.cloneElement)(s,{onExited:o.bind(null,s),in:!0,exit:ec(s,"exit",e),enter:ec(s,"enter",e)}):u||!a||c?u&&a&&(0,ei.isValidElement)(l)&&(r[t]=(0,ei.cloneElement)(s,{onExited:o.bind(null,s),in:l.props.in,exit:ec(s,"exit",e),enter:ec(s,"enter",e)})):r[t]=(0,ei.cloneElement)(s,{in:!1})}}),r),firstRender:!1}},n.handleExited=function(e,t){var n=el(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,es.Z)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,eo.Z)(e,["component","childFactory"]),i=this.state.contextValue,o=eh(this.state.children).map(n);return(delete r.appear,delete r.enter,delete r.exit,null===t)?ei.createElement(eu.Z.Provider,{value:i},o):ei.createElement(eu.Z.Provider,{value:i},ei.createElement(t,r,o))},t}(ei.Component);ef.propTypes={},ef.defaultProps={component:"div",childFactory:function(e){return e}};var ed=n(6367),ep=n(4388),eg=n(3308),em=n(4951),ey=n(3643),ev=n(9868);function eb(){return(eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eE(e,t){if(e){if("string"==typeof e)return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}function e_(e){return function(e){if(Array.isArray(e))return ew(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eE(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||eE(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eS={defaultProps:{__TYPE:"Toast",id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0},getProps:function(e){return ey.gb.getMergedProps(e,eS.defaultProps)},getOtherProps:function(e){return ey.gb.getDiffProps(e,eS.defaultProps)}};function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e){var t=function(e,t){if("object"!==eI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eI(t)?t:String(t)}function eA(e,t,n){return(t=eO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eO(r.key),r)}}var ek=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),eR=(y=function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)},v&&eC(y.prototype,v),b&&eC(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y);eA(eR,"ripple",!1),eA(eR,"inputStyle","outlined"),eA(eR,"locale","en"),eA(eR,"appendTo",null),eA(eR,"cssTransition",!0),eA(eR,"autoZIndex",!0),eA(eR,"nonce",null),eA(eR,"nullSortOrder",1),eA(eR,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),eA(eR,"filterMatchModeOptions",{text:[ek.STARTS_WITH,ek.CONTAINS,ek.NOT_CONTAINS,ek.ENDS_WITH,ek.EQUALS,ek.NOT_EQUALS],numeric:[ek.EQUALS,ek.NOT_EQUALS,ek.LESS_THAN,ek.LESS_THAN_OR_EQUAL_TO,ek.GREATER_THAN,ek.GREATER_THAN_OR_EQUAL_TO],date:[ek.DATE_IS,ek.DATE_IS_NOT,ek.DATE_BEFORE,ek.DATE_AFTER]});var eN={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}},ex=ei.memo(ei.forwardRef(function(e,t){var n=e.messageInfo,r=n.message,i=r.severity,o=r.content,s=r.summary,a=r.detail,u=r.closable,l=r.life,c=r.sticky,h=r.className,f=r.style,d=r.contentClassName,p=r.contentStyle,g=eT(ei.useState(!1),2),m=g[0],y=g[1],v=eT((0,eg.KS)(function(){b()},l||3e3,!c&&!m),1)[0],b=function(){v(),e.onClose&&e.onClose(n)},w=function(t){e.onClick&&!(ey.p7.hasClass(t.target,"p-toast-icon-close")||ey.p7.hasClass(t.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},E=(0,ey.AK)("p-toast-message",eA({},"p-toast-message-".concat(i),i),h),_=(0,ey.AK)("p-toast-message-content",d),T=function(){if(n){var e=ey.gb.getJSXElement(o,{message:n.message,onClick:w,onClose:b}),t=(0,ey.AK)("p-toast-message-icon pi",{"pi-info-circle":"info"===i,"pi-exclamation-triangle":"warn"===i,"pi-times":"error"===i,"pi-check":"success"===i});return e||ei.createElement(ei.Fragment,null,ei.createElement("span",{className:t}),ei.createElement("div",{className:"p-toast-message-text"},ei.createElement("span",{className:"p-toast-summary"},s),a&&ei.createElement("div",{className:"p-toast-detail"},a)))}return null}(),S=!1!==u?ei.createElement("div",null,ei.createElement("button",{type:"button",className:"p-toast-icon-close p-link",onClick:b,"aria-label":function(e,t){var n=eR.locale;try{return eN[n||eR.locale][e]}catch(t){throw Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}("close")},ei.createElement("span",{className:"p-toast-icon-close-icon pi pi-times","aria-hidden":"true"}),ei.createElement(ev.H,null))):null;return ei.createElement("div",{ref:t,className:E,style:f,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:w,onMouseEnter:function(t){e.onMouseEnter&&e.onMouseEnter(t),!t.defaultPrevented&&(c||(v(),y(!0)))},onMouseLeave:function(t){e.onMouseLeave&&e.onMouseLeave(t),!t.defaultPrevented&&(c||y(!1))}},ei.createElement("div",{className:_,style:p},T,S))}));ex.displayName="ToastMessage";var eD=0,eP=ei.memo(ei.forwardRef(function(e,t){var n,r,i=eS.getProps(e),o=eT(ei.useState([]),2),s=o[0],a=o[1],u=ei.useRef(null),l=function(e){e&&a(c(e,!0))},c=function(e,t){var n;if(Array.isArray(e)){var r=e.reduce(function(e,t){return e.push({_pId:eD++,message:t}),e},[]);n=t&&s?[].concat(e_(s),e_(r)):r}else{var i={_pId:eD++,message:e};n=t&&s?[].concat(e_(s),[i]):[i]}return n},h=function(){ey.P9.clear(u.current),a([])},f=function(e){a(c(e,!1))},d=function(e){a(s.filter(function(t){return t._pId!==e._pId})),i.onRemove&&i.onRemove(e.message)},p=function(e){d(e)},g=function(){i.onShow&&i.onShow()},m=function(){1===s.length&&ey.P9.clear(u.current),i.onHide&&i.onHide()};(0,eg.rf)(function(){ey.P9.set("toast",u.current,ed.ZP.autoZIndex,i.baseZIndex||ed.ZP.zIndex.toast)},[s,i.baseZIndex]),(0,eg.zq)(function(){ey.P9.clear(u.current)}),ei.useImperativeHandle(t,function(){return{props:i,show:l,replace:f,remove:d,clear:h,getElement:function(){return u.current}}});var y=(n=eS.getOtherProps(i),r=(0,ey.AK)("p-toast p-component p-toast-"+i.position,i.className,{"p-input-filled":"filled"===ed.ZP.inputStyle,"p-ripple-disabled":!1===ed.ZP.ripple}),ei.createElement("div",eb({ref:u,id:i.id,className:r,style:i.style},n),ei.createElement(ef,null,s&&s.map(function(e){var t=ei.createRef();return ei.createElement(ep.K,{nodeRef:t,key:e._pId,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:g,onExited:m,options:i.transitionOptions},ei.createElement(ex,{ref:t,messageInfo:e,onClick:i.onClick,onClose:p,onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave}))}))));return ei.createElement(em.h,{element:y,appendTo:i.appendTo})}));eP.displayName="Toast";let eL=(0,ei.createContext)({});function eM(e){let{children:t}=e,n=(0,ei.useRef)();return(0,w.jsxs)(eL.Provider,{value:{},children:[(0,w.jsx)(eP,{ref:n}),t]})}function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eV(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(e,t){return(eB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eq=function(e){var t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n);for(var e,t,r,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=(e=(t=eF(n)).call.apply(t,[this].concat(o)))&&("object"===ej(e)||"function"==typeof e)?e:eV(this),eW(eV(r),"state",{bootstrapped:!1}),eW(eV(r),"_unsubscribe",void 0),eW(eV(r),"handlePersistorState",function(){r.props.persistor.getState().bootstrapped&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eB(e,t)}(n,e),eU(n.prototype,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t&&eU(n,t),n}(ei.PureComponent);function eH(e){let{Component:t,pageProps:n}=e;return(0,w.jsx)(er.zt,{store:et,children:(0,w.jsx)(eq,{loading:null,persistor:en,children:(0,w.jsx)(eM,{children:(0,w.jsx)(t,{...n})})})})}eW(eq,"defaultProps",{children:null,loading:null})},7663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],l=!1,c=-1;function h(){l&&r&&(l=!1,r.length?u=r.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(r=u,u=[];++c<t;)r&&r[c].run();c=-1,t=u.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},9803:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5784),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},1844:function(e,t,n){"use strict";e.exports=n(9803)},6367:function(e,t,n){"use strict";n.d(t,{$2:function(){return b},ZP:function(){return E},a6:function(){return a},h_:function(){return w},iZ:function(){return h},pg:function(){return u},qJ:function(){return v}});var r,i,o,s=n(3643),a=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),u=Object.freeze({AND:"and",OR:"or"});function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h={filter:function(e,t,n,r,i){var o=[];if(!e)return o;var a,u=l(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;if("string"==typeof c){if(this.filters[r](c,n,i)){o.push(c);continue}}else{var h,f=l(t);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=s.gb.resolveFieldData(c,d);if(this.filters[r](p,n,i)){o.push(c);break}}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){u.e(e)}finally{u.f()}return o},filters:{startsWith:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var r=s.gb.removeAccents(t.toString()).toLocaleLowerCase(n);return s.gb.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r},contains:function(e,t,n){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var r=s.gb.removeAccents(t.toString()).toLocaleLowerCase(n);return -1!==s.gb.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)},notContains:function(e,t,n){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var r=s.gb.removeAccents(t.toString()).toLocaleLowerCase(n);return -1===s.gb.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)},endsWith:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var r=s.gb.removeAccents(t.toString()).toLocaleLowerCase(n),i=s.gb.removeAccents(e.toString()).toLocaleLowerCase(n);return -1!==i.indexOf(r,i.length-r.length)},equals:function(e,t,n){return null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():s.gb.removeAccents(e.toString()).toLocaleLowerCase(n)===s.gb.removeAccents(t.toString()).toLocaleLowerCase(n))},notEquals:function(e,t,n){return null==t||"string"==typeof t&&""===t.trim()||null==e||(e.getTime&&t.getTime?e.getTime()!==t.getTime():s.gb.removeAccents(e.toString()).toLocaleLowerCase(n)!==s.gb.removeAccents(t.toString()).toLocaleLowerCase(n))},in:function(e,t){if(null==t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(s.gb.equals(e,t[n]))return!0;return!1},between:function(e,t){return null==t||null==t[0]||null==t[1]||null!=e&&(e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1])},lt:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<t)},lte:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t)},gt:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>t)},gte:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t)},dateIs:function(e,t){return null==t||null!=e&&e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return null==t||null!=e&&e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return null==t||null!=e&&e.getTime()<t.getTime()},dateAfter:function(e,t){return null==t||null!=e&&e.getTime()>t.getTime()}},register:function(e,t){this.filters[e]=t}};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function p(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}var m=(r=function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)},i&&g(r.prototype,i),o&&g(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r);p(m,"ripple",!1),p(m,"inputStyle","outlined"),p(m,"locale","en"),p(m,"appendTo",null),p(m,"cssTransition",!0),p(m,"autoZIndex",!0),p(m,"nonce",null),p(m,"nullSortOrder",1),p(m,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),p(m,"filterMatchModeOptions",{text:[a.STARTS_WITH,a.CONTAINS,a.NOT_CONTAINS,a.ENDS_WITH,a.EQUALS,a.NOT_EQUALS],numeric:[a.EQUALS,a.NOT_EQUALS,a.LESS_THAN,a.LESS_THAN_OR_EQUAL_TO,a.GREATER_THAN,a.GREATER_THAN_OR_EQUAL_TO],date:[a.DATE_IS,a.DATE_IS_NOT,a.DATE_BEFORE,a.DATE_AFTER]});var y={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function v(e,t){var n=t||m.locale;try{return w(n)[e]}catch(t){throw Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function b(e){var t=m.locale;try{return w(t).aria[e]}catch(n){throw Error("The ".concat(e," option is not found in the current locale('").concat(t,"')."))}}function w(e){return y[e||m.locale]}Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"}),Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_DOWN_LEFT:"pi pi-arrow-down-left",ARROW_DOWN_RIGHT:"pi pi-arrow-down-right",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_UP:"pi pi-arrow-up",ARROW_UP_LEFT:"pi pi-arrow-up-left",ARROW_UP_RIGHT:"pi pi-arrow-up-right",ARROWS_H:"pi pi-arrows-h",ARROWS_V:"pi pi-arrows-v",AT:"pi pi-at",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BOLT:"pi pi-bolt",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BOOKMARK_FILL:"pi pi-bookmark-fill",BOX:"pi pi-box",BRIEFCASE:"pi pi-briefcase",BUILDING:"pi pi-building",CALENDAR:"pi pi-calendar",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CAMERA:"pi pi-camera",CAR:"pi pi-car",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHART_PIE:"pi pi-chart-pie",CHECK:"pi pi-check",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CIRCLE:"pi pi-circle",CIRCLE_FILL:"pi pi-circle-fill",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD:"pi pi-cloud",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CODE:"pi pi-code",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DATABASE:"pi pi-database",DESKTOP:"pi pi-desktop",DIRECTIONS:"pi pi-directions",DIRECTIONS_ALT:"pi pi-directions-alt",DISCORD:"pi pi-discord",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",EURO:"pi pi-euro",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle",EXTERNAL_LINK:"pi pi-external-link",EYE:"pi pi-eye",EYE_SLASH:"pi pi-eye-slash",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE:"pi pi-file",FILE_EXCEL:"pi pi-file-excel",FILE_PDF:"pi pi-file-pdf",FILTER:"pi pi-filter",FILTER_FILL:"pi pi-filter-fill",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FLAG_FILL:"pi pi-flag-fill",FOLDER:"pi pi-folder",FOLDER_OPEN:"pi pi-folder-open",FORWARD:"pi pi-forward",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HASHTAG:"pi pi-hashtag",HEART:"pi pi-heart",HEART_FILL:"pi pi-heart-fill",HISTORY:"pi pi-history",HOME:"pi pi-home",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO:"pi pi-info",INFO_CIRCLE:"pi pi-info-circle",INSTAGRAM:"pi pi-instagram",KEY:"pi pi-key",LINK:"pi pi-link",LINKEDIN:"pi pi-linkedin",LIST:"pi pi-list",LOCK:"pi pi-lock",LOCK_OPEN:"pi pi-lock-open",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MICROSOFT:"pi pi-microsoft",MINUS:"pi pi-minus",MINUS_CIRCLE:"pi pi-minus-circle",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS:"pi pi-plus",PLUS_CIRCLE:"pi pi-plus-circle",POUND:"pi pi-pound",POWER_OFF:"pi pi-power-off",PRIME:"pi pi-prime",PRINT:"pi pi-print",QRCODE:"pi pi-qrcode",QUESTION:"pi pi-question",QUESTION_CIRCLE:"pi pi-question-circle",REDDIT:"pi pi-reddit",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH:"pi pi-search",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEND:"pi pi-send",SERVER:"pi pi-server",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_BAG:"pi pi-shopping-bag",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT:"pi pi-sort",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_ALT_DOWN:"pi pi-sort-alpha-alt-down",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALPHA_ALT_UP:"pi pi-sort-alpha-alt-up",SORT_ALT:"pi pi-sort-alt",SORT_ALT_SLASH:"pi pi-sort-slash",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_ALT_DOWN:"pi pi-sort-numeric-alt-down",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_NUMERIC_ALT_UP:"pi pi-sort-numeric-alt-up",SORT_UP:"pi pi-sort-up",SPINNER:"pi pi-spinner",STAR:"pi pi-star",STAR_FILL:"pi pi-star-fill",STEP_BACKWARD:"pi pi-step-backward",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_FORWARD:"pi pi-step-forward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STOP:"pi pi-stop",STOP_CIRCLE:"pi pi-stop-circle",SUN:"pi pi-sun",SYNC:"pi pi-sync",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TELEGRAM:"pi pi-telegram",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_UP:"pi pi-thumbs-up",TICKET:"pi pi-ticket",TIMES:"pi pi-times",TIMES_CIRCLE:"pi pi-times-circle",TRASH:"pi pi-trash",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER:"pi pi-user",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USERS:"pi pi-users",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",WALLET:"pi pi-wallet",WHATSAPP:"pi pi-whatsapp",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize",YOUTUBE:"pi pi-youtube"}),Object.freeze({DESC:-1,UNSORTED:0,ASC:1});var E=m},4388:function(e,t,n){"use strict";n.d(t,{K:function(){return C}});var r=n(5784),i=n(7462),o=n(3366),s=n(5068);function a(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var u=n(8369),l={disabled:!1},c=n(220),h=function(e){return e.scrollTop},f="unmounted",d="exited",p="entering",g="entered",m="exiting",y=function(e){function t(t,n){r=e.call(this,t,n)||this;var r,i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=d,r.appearStatus=p):i=g:i=t.unmountOnExit||t.mountOnEnter?f:d,r.state={status:i},r.nextCallback=null,r}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==g&&(t=p):(n===p||n===g)&&(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);n&&h(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),c=r?a.appear:a.enter;if(!e&&!n||l.disabled){this.safeSetState({status:g},function(){t.props.onEntered(o)});return}this.props.onEnter(o,s),this.safeSetState({status:p},function(){t.props.onEntering(o,s),t.onTransitionEnd(c,function(){t.safeSetState({status:g},function(){t.props.onEntered(o,s)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.findDOMNode(this);if(!t||l.disabled){this.safeSetState({status:d},function(){e.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:m},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function v(){}y.contextType=c.Z,y.propTypes={},y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},y.UNMOUNTED=f,y.EXITED=d,y.ENTERING=p,y.ENTERED=g,y.EXITING=m;var b=function(e,t){return e&&t&&t.split(" ").forEach(function(t){var n;(n=e).classList?n.classList.remove(t):"string"==typeof n.className?n.className=a(n.className,t):n.setAttribute("class",a(n.className&&n.className.baseVal||"",t))})},w=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.addClass(i,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e],o=r?i+"-active":n[e+"Active"],s=r?i+"-done":n[e+"Done"];return{baseClassName:i,activeClassName:o,doneClassName:s}},t}(0,s.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r,i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&h(e),i&&(this.appliedClasses[t][n]=i,r=i,e&&r&&r.split(" ").forEach(function(t){var n,r;return n=e,r=t,void(n.classList?n.classList.add(r):(n.classList?r&&n.classList.contains(r):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+r+" "))||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&b(e,r),i&&b(e,i),o&&b(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return r.createElement(y,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);w.defaultProps={classNames:""},w.propTypes={};var E=n(6367),_=n(3308),T=n(3643);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return T.gb.getMergedProps(e,I.defaultProps)},getOtherProps:function(e){return T.gb.getDiffProps(e,I.defaultProps)}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){!function(e,t,n){var r;r=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===S(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=r.forwardRef(function(e,t){var n=I.getProps(e),i=n.disabled||n.options&&n.options.disabled||!E.ZP.cssTransition,o=function(e,t){n.onEnter&&n.onEnter(e,t),n.options&&n.options.onEnter&&n.options.onEnter(e,t)},s=function(e,t){n.onEntering&&n.onEntering(e,t),n.options&&n.options.onEntering&&n.options.onEntering(e,t)},a=function(e,t){n.onEntered&&n.onEntered(e,t),n.options&&n.options.onEntered&&n.options.onEntered(e,t)},u=function(e){n.onExit&&n.onExit(e),n.options&&n.options.onExit&&n.options.onExit(e)},l=function(e){n.onExiting&&n.onExiting(e),n.options&&n.options.onExiting&&n.options.onExiting(e)},c=function(e){n.onExited&&n.onExited(e),n.options&&n.options.onExited&&n.options.onExited(e)};if((0,_.rf)(function(){if(i){var e=T.gb.getRefElement(n.nodeRef);n.in?(o(e,!0),s(e,!0),a(e,!0)):(u(e),l(e),c(e))}},[n.in]),i)return n.in?n.children:null;var h={nodeRef:n.nodeRef,in:n.in,onEnter:o,onEntering:s,onEntered:a,onExit:u,onExiting:l,onExited:c},f=A(A(A({},{classNames:n.classNames,timeout:n.timeout,unmountOnExit:n.unmountOnExit}),n.options||{}),h);return r.createElement(w,f,n.children)});C.displayName="CSSTransition"},3308:function(e,t,n){"use strict";n.d(t,{D9:function(){return a},HR:function(){return d},KJ:function(){return f},KS:function(){return c},OR:function(){return l},gq:function(){return p},nw:function(){return h},rf:function(){return g},zq:function(){return u}});var r=n(5784),i=n(3643);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=function(e){var t=r.useRef(void 0);return r.useEffect(function(){t.current=e}),t.current},u=function(e){return r.useEffect(function(){return e},[])},l=function(e){var t=e.target,n=void 0===t?"document":t,o=e.type,s=e.listener,l=e.options,c=e.when,h=void 0===c||c,f=r.useRef(null),d=r.useRef(null),p=a(l),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.gb.isNotEmpty(e.target)&&(m(),(e.when||h)&&(f.current=i.p7.getTargetElement(e.target))),!d.current&&f.current&&(d.current=function(e){return s&&s(e)},f.current.addEventListener(o,d.current,l))},m=function(){d.current&&(f.current.removeEventListener(o,d.current,l),d.current=null)};return r.useEffect(function(){h?f.current=i.p7.getTargetElement(n):(m(),f.current=null)},[n,h]),r.useEffect(function(){d.current&&(d.current!==s||p!==l)&&(m(),h&&g())},[s,l]),u(function(){m()}),[g,m]},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=r.useRef(null),o=r.useRef(null),s=r.useCallback(function(){return clearTimeout(i.current)},[i.current]);return r.useEffect(function(){o.current=e}),r.useEffect(function(){if(n)return i.current=setTimeout(function(){o.current()},t),s;s()},[t,n]),u(function(){s()}),[s]},h=function(e){return r.useEffect(e,[])},f=function(e){var t=e.target,n=e.listener,o=e.options,s=e.when,l=void 0===s||s,c=r.useRef(null),h=r.useRef(null),f=r.useRef([]),d=a(o),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.gb.isNotEmpty(e.target)&&(g(),(e.when||l)&&(c.current=i.p7.getTargetElement(e.target))),!h.current&&c.current){var t=f.current=i.p7.getScrollableParents(c.current);h.current=function(e){return n&&n(e)},t.forEach(function(e){return e.addEventListener("scroll",h.current,o)})}},g=function(){h.current&&(f.current.forEach(function(e){return e.removeEventListener("scroll",h.current,o)}),h.current=null)};return r.useEffect(function(){l?c.current=i.p7.getTargetElement(t):(g(),c.current=null)},[t,l]),r.useEffect(function(){h.current&&(h.current!==n||d!==o)&&(g(),l&&p())},[n,o]),u(function(){g()}),[p,g]},d=function(e){var t=e.listener,n=e.when;return l({target:"window",type:"resize",listener:t,when:void 0===n||n})},p=function(e){var t=e.target,n=e.overlay,o=e.listener,a=e.when,c=void 0===a||a,h=r.useRef(null),p=r.useRef(null),g=s(l({type:"click",listener:function(e){o&&o(e,{type:"outside",valid:3!==e.which&&A(e)})}}),2),m=g[0],y=g[1],v=s(d({listener:function(e){o&&o(e,{type:"resize",valid:!i.p7.isTouchDevice()})}}),2),b=v[0],w=v[1],E=s(l({target:"window",type:"orientationchange",listener:function(e){o&&o(e,{type:"orientationchange",valid:!0})}}),2),_=E[0],T=E[1],S=s(f({target:t,listener:function(e){o&&o(e,{type:"scroll",valid:!0})}}),2),I=S[0],O=S[1],A=function(e){return h.current&&!(h.current.isSameNode(e.target)||h.current.contains(e.target)||p.current&&p.current.contains(e.target))},C=function(){y(),w(),T(),O()};return r.useEffect(function(){c?(h.current=i.p7.getTargetElement(t),p.current=i.p7.getTargetElement(n)):(C(),h.current=p.current=null)},[t,n,c]),r.useEffect(function(){C()},[c]),u(function(){C()}),[function(){m(),b(),_(),I()},C]},g=function(e,t){var n=r.useRef(!1);return r.useEffect(function(){if(!n.current){n.current=!0;return}return e&&e()},t)}},4951:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(5784),i=n(8369),o=n(6367),s=n(3308),a=n(3643);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return a.gb.getMergedProps(e,l.defaultProps)},getOtherProps:function(e){return a.gb.getDiffProps(e,l.defaultProps)}},c=r.memo(function(e){var t,n=l.getProps(e),c=function(e){if(Array.isArray(e))return e}(t=r.useState(n.visible&&a.p7.hasDOM()))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=c[0],f=c[1];(0,s.nw)(function(){a.p7.hasDOM()&&!h&&(f(!0),n.onMounted&&n.onMounted())}),(0,s.rf)(function(){n.onMounted&&n.onMounted()},[h]),(0,s.zq)(function(){n.onUnmounted&&n.onUnmounted()});var d=n.element||n.children;if(d&&h){var p=n.appendTo||o.ZP.appendTo||document.body;return"self"===p?d:i.createPortal(d,p)}return null});c.displayName="Portal"},9868:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(5784),i=n(6367),o=n(3308),s=n(3643),a=r.memo(r.forwardRef(function(){var e=r.useRef(null),t=r.useRef(null),n=function(){return e.current&&e.current.parentElement},a=function(){t.current&&(t.current.addEventListener("mousedown",c),s.p7.isTouchDevice()&&t.current.addEventListener("touchstart",l))},u=function(){t.current&&(t.current.removeEventListener("mousedown",c),s.p7.isTouchDevice()&&t.current.removeEventListener("touchstart",l))},l=function(n){var r=s.p7.getOffset(t.current);h(n.targetTouches[0].pageX-r.left+document.body.scrollTop-s.p7.getWidth(e.current)/2,n.targetTouches[0].pageY-r.top+document.body.scrollLeft-s.p7.getHeight(e.current)/2)},c=function(n){if(!s.p7.isTouchDevice()){var r=s.p7.getOffset(t.current);h(n.pageX-r.left+document.body.scrollTop-s.p7.getWidth(e.current)/2,n.pageY-r.top+document.body.scrollLeft-s.p7.getHeight(e.current)/2)}},h=function(n,r){if(e.current&&"none"!==getComputedStyle(e.current,null).display){if(s.p7.removeClass(e.current,"p-ink-active"),!s.p7.getHeight(e.current)&&!s.p7.getWidth(e.current)){var i=Math.max(s.p7.getOuterWidth(t.current),s.p7.getOuterHeight(t.current));e.current.style.height=i+"px",e.current.style.width=i+"px"}e.current.style.top=r+"px",e.current.style.left=n+"px",s.p7.addClass(e.current,"p-ink-active")}};return(0,o.nw)(function(){e.current&&(t.current=n(),a())}),(0,o.rf)(function(){e.current&&!t.current&&(t.current=n(),a())}),(0,o.zq)(function(){e.current&&(t.current=null,u())}),i.ZP.ripple?r.createElement("span",{role:"presentation",ref:e,className:"p-ink",onAnimationEnd:function(e){s.p7.removeClass(e.currentTarget,"p-ink-active")}}):null}));a.displayName="Ripple"},3643:function(e,t,n){"use strict";n.d(t,{AK:function(){return f},Cz:function(){return k},Nd:function(){return E},P9:function(){return x},Th:function(){return N},gb:function(){return O},p7:function(){return w},sS:function(){return S}});var r,i,o,s,a=n(5784),u=n(3454);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o){var s=h(o);if("string"===s||"number"===s)r.push(o);else if("object"===s){var a=Array.isArray(o)?o:Object.entries(o).map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,2)||c(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0];return t[1]?n:null});r=a.length?r.concat(a.filter(function(e){return!!e})):r}}}return r.join(" ")}}function d(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){function e(){d(this,e)}return m(e,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n=e.getBoundingClientRect().width||e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n=e.getBoundingClientRect().height||e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n=e.clientHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientWidth",value:function(e,t){if(e){var n=e.clientWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]===e)return n;1===t[r].nodeType&&n++}return -1}},{key:"addMultipleClasses",value:function(e,t){if(e&&t){if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className+=" "+i[o]}}},{key:"removeMultipleClasses",value:function(e,t){if(e&&t){if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.remove(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className=e.className.replace(RegExp("(^|\\b)"+i[o].split(" ").join("|")+"(\\b|$)","gi")," ")}}},{key:"addClass",value:function(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){return!!e&&(e.classList?e.classList.contains(t):RegExp("(^| )"+t+"( |$)","gi").test(e.className))}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth))}return 0}},{key:"alignOverlay",value:function(t,n,r){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];t&&n&&("self"===r?this.relativePosition(t,n):(i&&(t.style.minWidth=e.getOuterWidth(n)+"px"),this.absolutePosition(t,n)))}},{key:"absolutePosition",value:function(e,t){if(e&&t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.height,s=i.width,a=t.offsetHeight,u=t.offsetWidth,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();l.top+a+o>f.height?((n=l.top+c-o)<0&&(n=c),e.style.transformOrigin="bottom"):(n=a+l.top+c,e.style.transformOrigin="top"),r=l.left+u+s>f.width?Math.max(0,l.left+h+u-s):l.left+h,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"relativePosition",value:function(e,t){if(e&&t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,s=t.getBoundingClientRect(),a=this.getViewport();s.top+o+i.height>a.height?(n=-1*i.height,s.top+n<0&&(n=-1*s.top),e.style.transformOrigin="bottom"):(n=o,e.style.transformOrigin="top"),r=i.width>a.width?-1*s.left:s.left+i.width>a.width?-((s.left+i.width-a.width)*1):0,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"flipfitCollision",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left top",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left bottom",s=arguments.length>4?arguments[4]:void 0;if(t&&n){var a=n.getBoundingClientRect(),u=this.getViewport(),l=i.split(" "),c=o.split(" "),h=function(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e},f={my:{x:h(l[0]),y:h(l[1]||l[0]),offsetX:h(l[0],!0),offsetY:h(l[1]||l[0],!0)},at:{x:h(c[0]),y:h(c[1]||c[0]),offsetX:h(c[0],!0),offsetY:h(c[1]||c[0],!0)}},d={left:function(){return f.my.offsetX+f.at.offsetX+a.left+("left"===f.my.x?0:-1*("center"===f.my.x?r.getOuterWidth(t)/2:r.getOuterWidth(t)))},top:function(){return f.my.offsetY+f.at.offsetY+a.top+("top"===f.my.y?0:-1*("center"===f.my.y?r.getOuterHeight(t)/2:r.getOuterHeight(t)))}},p={count:{x:0,y:0},left:function(){var n=d.left(),r=e.getWindowScrollLeft();t.style.left=n+r+"px",2===this.count.x?(t.style.left=r+"px",this.count.x=0):n<0&&(this.count.x++,f.my.x="left",f.at.x="right",f.my.offsetX*=-1,f.at.offsetX*=-1,this.right())},right:function(){var r=d.left()+e.getOuterWidth(n),i=e.getWindowScrollLeft();t.style.left=r+i+"px",2===this.count.x?(t.style.left=u.width-e.getOuterWidth(t)+i+"px",this.count.x=0):r+e.getOuterWidth(t)>u.width&&(this.count.x++,f.my.x="right",f.at.x="left",f.my.offsetX*=-1,f.at.offsetX*=-1,this.left())},top:function(){var n=d.top(),r=e.getWindowScrollTop();t.style.top=n+r+"px",2===this.count.y?(t.style.left=r+"px",this.count.y=0):n<0&&(this.count.y++,f.my.y="top",f.at.y="bottom",f.my.offsetY*=-1,f.at.offsetY*=-1,this.bottom())},bottom:function(){var r=d.top()+e.getOuterHeight(n),i=e.getWindowScrollTop();t.style.top=r+i+"px",2===this.count.y?(t.style.left=u.height-e.getOuterHeight(t)+i+"px",this.count.y=0):r+e.getOuterHeight(n)>u.height&&(this.count.y++,f.my.y="bottom",f.at.y="top",f.my.offsetY*=-1,f.at.offsetY*=-1,this.top())},center:function(r){if("y"===r){var i=d.top()+e.getOuterHeight(n)/2;t.style.top=i+e.getWindowScrollTop()+"px",i<0?this.bottom():i+e.getOuterHeight(n)>u.height&&this.top()}else{var o=d.left()+e.getOuterWidth(n)/2;t.style.left=o+e.getWindowScrollLeft()+"px",o<0?this.left():o+e.getOuterWidth(t)>u.width&&this.right()}}};p[f.at.x]("x"),p[f.at.y]("y"),this.isFunction(s)&&s(f)}}},{key:"findCollisionPosition",value:function(e){if(e)return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat("left"===e?"right":"left"," center"),at:"".concat(e," center")}}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var n,r=this.getParents(e),i=/(auto|scroll)/,o=function(e){var t=e?getComputedStyle(e):null;return t&&(i.test(t.getPropertyValue("overflow"))||i.test(t.getPropertyValue("overflowX"))||i.test(t.getPropertyValue("overflowY")))},s=v(r);try{for(s.s();!(n=s.n()).done;){var a=n.value,u=1===a.nodeType&&a.dataset.scrollselectors;if(u){var l,c=u.split(","),h=v(c);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=this.findSingle(a,f);d&&o(d)&&t.push(d)}}catch(e){h.e(e)}finally{h.f()}}9!==a.nodeType&&o(a)&&t.push(a)}}catch(e){s.e(e)}finally{s.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(e,t){if(e){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,1>+r&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}}},{key:"fadeOut",value:function(e,t){if(e)var n=1,r=50/t,i=setInterval(function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.appendChild(e);else throw Error("Cannot append "+t+" to "+e)}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.removeChild(e);else throw Error("Cannot remove "+e+" from "+t)}},{key:"isElement",value:function(e){return("undefined"==typeof HTMLElement?"undefined":h(HTMLElement))==="object"?e instanceof HTMLElement:e&&"object"===h(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,u=e.scrollTop,l=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=u+a:a+c>l&&(e.scrollTop=u+a-l+c)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return e&&(0!==e.clientHeight||0!==e.getClientRects().length||"none"!==getComputedStyle(e).display)}},{key:"isExist",value:function(e){return!!(null!=e&&e.nodeName&&e.parentNode)}},{key:"hasDOM",value:function(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,',\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r)),o=[],s=v(i);try{for(s.s();!(n=s.n()).done;){var a=n.value;"none"!==getComputedStyle(a).display&&"hidden"!==getComputedStyle(a).visibility&&o.push(a)}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"getFirstFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[0]:null}},{key:"getLastFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null}},{key:"focus",value:function(e,t){e&&document.activeElement!==e&&e.focus({preventScroll:void 0===t||!t})}},{key:"focusFirstElement",value:function(t,n){if(t){var r=e.getFirstFocusableElement(t);return r&&e.focus(r,n),r}}},{key:"getCursorOffset",value:function(e,t,n,r){if(e){var i=getComputedStyle(e),o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.overflow=i.overflow,o.style.width=i.width,o.style.height=i.height,o.style.padding=i.padding,o.style.border=i.border,o.style.overflowWrap=i.overflowWrap,o.style.whiteSpace=i.whiteSpace,o.style.lineHeight=i.lineHeight,o.innerHTML=t.replace(/\r\n|\r|\n/g,"<br />");var s=document.createElement("span");s.textContent=r,o.appendChild(s);var a=document.createTextNode(n);o.appendChild(a),document.body.appendChild(o);var u=s.offsetLeft,l=s.offsetTop,c=s.clientHeight;return document.body.removeChild(o),{left:Math.abs(u-e.scrollLeft),top:Math.abs(l-e.scrollTop)+c}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"isClickable",value:function(e){var t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return"INPUT"===t||"TEXTAREA"===t||"BUTTON"===t||"A"===t||"INPUT"===n||"TEXTAREA"===n||"BUTTON"===n||"A"===n||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(e,t){if("string"==typeof t)e.style.cssText=this.style;else for(var n in this.style)e.style[n]=t[n]}},{key:"exportCSV",value:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,n+".csv"):e.saveAs({name:n+".csv",src:URL.createObjectURL(r)})||(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},{key:"saveAs",value:function(e){if(e){var t=document.createElement("a");if(void 0!==t.download){var n=e.name,r=e.src;return t.setAttribute("href",r),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),!0}}return!1}},{key:"createInlineStyle",value:function(e){var t=document.createElement("style");try{e||(e=u.env.REACT_APP_CSS_NONCE)}catch(e){}return e&&t.setAttribute("nonce",e),document.head.appendChild(t),t}},{key:"removeInlineStyle",value:function(e){if(this.isExist(e)){try{document.head.removeChild(e)}catch(e){}e=null}return e}},{key:"getTargetElement",value:function(e){if(!e)return null;if("document"===e)return document;if("window"===e)return window;if("object"===h(e)&&e.hasOwnProperty("current"))return this.isExist(e.current)?e.current:null;var t=e&&e.constructor&&e.call&&e.apply?e():e;return t&&9===t.nodeType||this.isExist(t)?t:null}},{key:"getAttributeNames",value:function(e){var t,n,r;for(t=0,n=[],r=e.attributes;t<r.length;++t)n.push(r[t].nodeName);return n.sort(),n}},{key:"isEqualElement",value:function(t,n){var r,i,o,s,a;if(r=e.getAttributeNames(t),i=e.getAttributeNames(n),r.join(",")!==i.join(","))return!1;for(var u=0;u<r.length;++u)if("style"===(o=r[u]))for(var l=t.style,c=n.style,h=/^\d+$/,f=0,d=Object.keys(l);f<d.length;f++){var p=d[f];if(!h.test(p)&&l[p]!==c[p])return!1}else if(t.getAttribute(o)!==n.getAttribute(o))return!1;for(s=t.firstChild,a=n.firstChild;s&&a;s=s.nextSibling,a=a.nextSibling){if(s.nodeType!==a.nodeType)return!1;if(1===s.nodeType){if(!e.isEqualElement(s,a))return!1}else if(s.nodeValue!==a.nodeValue)return!1}return!s&&!a}}]),e}();function E(){var e=new Map;return{on:function(t,n){var r=e.get(t);r?r.push(n):r=[n],e.set(t,r)},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){var r=e.get(t);r&&r.slice().forEach(function(e){return e(n)})}}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){t=T(T({},{mask:null,slotChar:"_",autoClear:!0,unmask:!1,readOnly:!1,onComplete:null,onChange:null,onFocus:null,onBlur:null}),t);var n,r,i,o,s,a,u,l,c,h,f,d,p=function(t,n){var r,i,o;if(e.offsetParent&&e===document.activeElement){if("number"!=typeof t)return e.setSelectionRange?(i=e.selectionStart,o=e.selectionEnd):document.selection&&document.selection.createRange&&(o=(i=0-(r=document.selection.createRange()).duplicate().moveStart("character",-1e5))+r.text.length),{begin:i,end:o};i=t,o="number"==typeof n?n:i,e.setSelectionRange?e.setSelectionRange(i,o):e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",o),r.moveStart("character",i),r.select())}},g=function(){for(var e=o;e<=u;e++)if(n[e]&&f[e]===m(e))return!1;return!0},m=function(e){return e<t.slotChar.length?t.slotChar.charAt(e):t.slotChar.charAt(0)},y=function(){return t.unmask?P():e&&e.value},v=function(e){for(;++e<i&&!n[e];);return e},b=function(e){for(;--e>=0&&!n[e];);return e},E=function(e,t){var r,s;if(!(e<0)){for(r=e,s=v(t);r<i;r++)if(n[r]){if(s<i&&n[r].test(f[s]))f[r]=f[s],f[s]=m(s);else break;s=v(s)}k(),p(Math.max(o,e))}},_=function(e){var t,r,o,s;for(t=e,r=m(e);t<i;t++)if(n[t]){if(o=v(t),s=f[t],f[t]=r,o<i&&n[o].test(s))r=s;else break}},S=function(r){var s=e.value,a=p();if(l&&l.length&&l.length>s.length){for(R(!0);a.begin>0&&!n[a.begin-1];)a.begin--;if(0===a.begin)for(;a.begin<o&&!n[a.begin];)a.begin++;p(a.begin,a.begin)}else{for(R(!0);a.begin<i&&!n[a.begin];)a.begin++;p(a.begin,a.begin)}t.onComplete&&g()&&t.onComplete({originalEvent:r,value:y()})},I=function(n){if(R(),t.onBlur&&t.onBlur(n),L(n),e.value!==c){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),e.dispatchEvent(r)}},O=function(n){if(!t.readOnly){var r,i,o,s=n.which||n.keyCode;l=e.value,8===s||46===s||w.isIOS()&&127===s?(i=(r=p()).begin,(o=r.end)-i==0&&(i=46!==s?b(i):o=v(i-1),o=46===s?v(o):o),C(i,o),E(i,o-1),L(n),n.preventDefault()):13===s?(I(n),L(n)):27===s&&(e.value=c,p(0,R()),L(n),n.preventDefault())}},A=function(e){if(!t.readOnly){var r,o,s,a,l=e.which||e.keyCode,c=p();e.ctrlKey||e.altKey||e.metaKey||l<32||(l&&13!==l&&(c.end-c.begin!=0&&(C(c.begin,c.end),E(c.begin,c.end-1)),(r=v(c.begin-1))<i&&(o=String.fromCharCode(l),n[r].test(o)&&(_(r),f[r]=o,k(),s=v(r),w.isAndroid()?setTimeout(function(){p(s)},0):p(s),c.begin<=u&&(a=g()))),e.preventDefault()),L(e),t.onComplete&&a&&t.onComplete({originalEvent:e,value:y()}))}},C=function(e,t){var r;for(r=e;r<t&&r<i;r++)n[r]&&(f[r]=m(r))},k=function(){e.value=f.join("")},R=function(s){var a,u,l,c=e.value,h=-1;for(a=0,l=0;a<i;a++)if(n[a]){for(f[a]=m(a);l++<c.length;)if(u=c.charAt(l-1),n[a].test(u)){f[a]=u,h=a;break}if(l>c.length){C(a+1,i);break}}else f[a]===c.charAt(l)&&l++,a<r&&(h=a);return s?k():h+1<r?t.autoClear||f.join("")===d?(e.value&&(e.value=""),C(0,i)):k():(k(),e.value=e.value.substring(0,h+1)),r?a:o},N=function(n){var r;!t.readOnly&&(clearTimeout(h),c=e.value,r=R(),h=setTimeout(function(){e===document.activeElement&&(k(),r===t.mask.replace("?","").length?p(0,r):p(r))},10),t.onFocus&&t.onFocus(n))},x=function(e){a?S(e):D(e)},D=function(e){!t.readOnly&&(p(R(!0)),L(e),t.onComplete&&g()&&t.onComplete({originalEvent:e,value:y()}))},P=function(){for(var e=[],t=0;t<f.length;t++){var r=f[t];n[t]&&r!==m(t)&&e.push(r)}return e.join("")},L=function(e){if(t.onChange){var n=y().replace(t.slotChar,"");t.onChange({originalEvent:e,value:d!==n?n:""})}},M=function(){e.addEventListener("focus",N),e.addEventListener("blur",I),e.addEventListener("keydown",O),e.addEventListener("keypress",A),e.addEventListener("input",x),e.addEventListener("paste",D)},j=function(){n=[],r=t.mask.length,i=t.mask.length,o=null,s={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},a=w.isChrome()&&w.isAndroid();for(var e=t.mask.split(""),l=0;l<e.length;l++){var c=e[l];"?"===c?(i--,r=l):s[c]?(n.push(RegExp(s[c])),null===o&&(o=n.length-1),l<r&&(u=n.length-1)):n.push(null)}f=[];for(var h=0;h<e.length;h++){var p=e[h];"?"!==p&&(s[p]?f.push(m(h)):f.push(p))}d=f.join("")};return e&&t.mask&&(j(),M()),{init:j,bindEvents:M,unbindEvents:function(){e.removeEventListener("focus",N),e.removeEventListener("blur",I),e.removeEventListener("keydown",O),e.removeEventListener("keypress",A),e.removeEventListener("input",x),e.removeEventListener("paste",D)},updateModel:L,getValue:y}}function I(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}y(w,"DATA_PROPS",["data-"]),y(w,"ARIA_PROPS",["aria","focus-target"]);var O=function(){function e(){d(this,e)}return m(e,null,[{key:"equals",value:function(e,t,n){return n&&e&&"object"===h(e)&&t&&"object"===h(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==h(e)&&"object"==h(t)){var n,r,i,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==s)return!1;var a=e instanceof Date,u=t instanceof Date;if(a!==u)return!1;if(a&&u)return e.getTime()===t.getTime();var l=e instanceof RegExp,c=t instanceof RegExp;if(l!==c)return!1;if(l&&c)return e.toString()===t.toString();var f=Object.keys(e);if((r=f.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,f[n]))return!1;for(n=r;0!=n--;)if(i=f[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!=e&&t!=t}},{key:"resolveFieldData",value:function(t,n){if(!t||!Object.keys(t).length||!n)return null;if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n])||-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)}).reduce(function(t,n){return t[n]=e[n],t},{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length&&Object.keys(e).filter(function(e){return t.some(function(t){return e.startsWith(t)})}).forEach(function(t){n[t]=e[t],delete e[t]}),n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex(function(t){return r.equals(t,e,n)}):t.findIndex(function(t){return t===e}):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n;return n&&1===n.length&&(i=n[0]),this.isFunction(e)?e.apply(void 0,I(i)):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){return!!e&&(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t}},{key:"getRefElement",value:function(e){return e?"object"===h(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"==typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"isEmpty",value:function(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===h(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.compare(t,n,i,r),a=r;return(e.isEmpty(t)||e.isEmpty(n))&&(a=1===o?r:o),a*s}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),s=e.isEmpty(n);return o&&s?0:o?i:s?-i:"string"==typeof t&&"string"==typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}]),e}();function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var k=function(){function e(){d(this,e)}return m(e,null,[{key:"getJSXIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null;if(null!==e){var i=h(e),o=f(t.className,"string"===i&&e);if(r=a.createElement("span",A({},t,{className:o})),"string"!==i){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({iconProps:t,element:r},n);return O.getJSXElement(e,s)}}return r}}]),e}(),R=0;function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_";return R++,"".concat(e).concat(R)}var x=(r=[],i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:999,i=s(e,t,n),o=i.value+(i.key===e?0:n)+1;return r.push({key:e,value:o}),o},o=function(e){r=r.filter(function(t){return t.value!==e})},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return I(r).reverse().find(function(n){return!!t||n.key===e})||{key:e,value:n}},{get:function(e){return e&&parseInt(e.style.zIndex,10)||0},set:function(e,t,n,r){t&&(t.style.zIndex=String(i(e,n,r)))},clear:function(e){e&&(o(x.get(e)),e.style.zIndex="")},getCurrent:function(e,t){return s(e,t).value}})},9921:function(e,t){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},9864:function(e,t,n){"use strict";n(9921)},9473:function(e,t,n){"use strict";n.d(t,{zt:function(){return v},I0:function(){return E},v9:function(){return p}});var r=n(1688),i=n(2798),o=n(8369);let s=function(e){e()},a=()=>s;var u=n(5784);let l=(0,u.createContext)(null);function c(){let e=(0,u.useContext)(l);return e}let h=()=>{throw Error("uSES not initialized!")},f=h,d=(e,t)=>e===t,p=function(e=l){let t=e===l?c:()=>(0,u.useContext)(e);return function(e,n=d){let{store:r,subscription:i,getServerState:o}=t(),s=f(i.addNestedSub,r.getState,o||r.getState,e,n);return(0,u.useDebugValue)(s),s}}();n(8679),n(9864);let g={notify(){},get:()=>[]},m=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),y=m?u.useLayoutEffect:u.useEffect;var v=function({store:e,context:t,children:n,serverState:r}){let i=(0,u.useMemo)(()=>{let t=function(e,t){let n;let r=g;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=a(),t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}let s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:()=>r};return s}(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}},[e,r]),o=(0,u.useMemo)(()=>e.getState(),[e]);return y(()=>{let{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[i,o]),u.createElement((t||l).Provider,{value:i},n)};function b(e=l){let t=e===l?c:()=>(0,u.useContext)(e);return function(){let{store:e}=t();return e}}let w=b(),E=function(e=l){let t=e===l?w:b(e);return function(){let e=t();return e.dispatch}}();f=i.useSyncExternalStoreWithSelector,r.useSyncExternalStore,s=o.unstable_batchedUpdates},220:function(e,t,n){"use strict";var r=n(5784);t.Z=r.createContext(null)},4500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function l(e){var t=void 0===e?"undefined":w(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,n,r,h,f,d){h=h||[],d=d||[];var p,g=h.slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(g,f))return;if("object"===(void 0===r?"undefined":w(r))){if(r.prefilter&&r.prefilter(g,f))return;if(r.normalize){var m=r.normalize(g,f,e,t);m&&(e=m[0],t=m[1])}}}g.push(f)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":w(e),v=void 0===t?"undefined":w(t),b="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(f),E="undefined"!==v||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(f);if(!b&&E)n(new o(g,t));else if(!E&&b)n(new s(g,e));else if(l(e)!==l(t))n(new i(g,e,t));else if("date"===l(e)&&e-t!=0)n(new i(g,e,t));else if("object"===y&&null!==e&&null!==t){if(d.filter(function(t){return t.lhs===e}).length)e!==t&&n(new i(g,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){for(e.length,p=0;p<e.length;p++)p>=t.length?n(new a(g,p,new s(void 0,e[p]))):c(e[p],t[p],n,r,g,p,d);for(;p<t.length;)n(new a(g,p,new o(void 0,t[p++])))}else{var _=Object.keys(e),T=Object.keys(t);_.forEach(function(i,o){var s=T.indexOf(i);s>=0?(c(e[i],t[i],n,r,g,i,d),T=u(T,s)):c(e[i],void 0,n,r,g,i,d)}),T.forEach(function(e){c(void 0,t[e],n,r,g,e,d)})}d.length=d.length-1}}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(g,e,t)))}function h(e,t,n,r){return r=r||[],c(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,o=t[n],s=r.path.length-1;for(i=0;i<s;i++)o=o[r.path[i]];switch(r.kind){case"A":e(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=u(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(e,t,n,r){switch(void 0===e?"undefined":w(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,E(n)):e[r];case"function":return e(t);default:return e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},S,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,s=t.logErrors,a=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(l){if("function"==typeof o&&!o(n,l))return e(l);var c={};u.push(c),c.started=b.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=l;var f=void 0;if(s)try{f=e(l)}catch(e){c.error=i(e)}else f=e(l);c.took=b.now()-c.started,c.nextState=r(n());var p=t.diff&&"function"==typeof a?a(n,l):t.diff;if(function(e,t){var n,r,i=t.logger,o=t.actionTransformer,s=t.titleFormatter,a=void 0===s?(n=t.timestamp,r=t.duration,function(e,t,i){var o=["action"];return o.push("%c"+String(e.type)),n&&o.push("%c@ "+t),r&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}):s,u=t.collapsed,l=t.colors,c=t.level,f=t.diff,p=void 0===t.titleFormatter;e.forEach(function(n,r){var s=n.started,g=n.startedTime,m=n.action,y=n.prevState,b=n.error,w=n.took,_=n.nextState,S=e[r+1];S&&(_=S.prevState,w=S.started-s);var I=o(m),O="function"==typeof u?u(function(){return _},m,n):u,A=v(g),C=l.title?"color: "+l.title(I)+";":"",k=["color: gray; font-weight: lighter;"];k.push(C),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var R=a(I,A,w);try{O?l.title&&p?i.groupCollapsed.apply(i,["%c "+R].concat(k)):i.groupCollapsed(R):l.title&&p?i.group.apply(i,["%c "+R].concat(k)):i.group(R)}catch(e){i.log(R)}var N=d(c,I,[y],"prevState"),x=d(c,I,[I],"action"),D=d(c,I,[b,y],"error"),P=d(c,I,[_],"nextState");if(N){if(l.prevState){var L="color: "+l.prevState(y)+"; font-weight: bold";i[N]("%c prev state",L,y)}else i[N]("prev state",y)}if(x){if(l.action){var M="color: "+l.action(I)+"; font-weight: bold";i[x]("%c action    ",M,I)}else i[x]("action    ",I)}if(b&&D){if(l.error){var j="color: "+l.error(b,y)+"; font-weight: bold;";i[D]("%c error     ",j,b)}else i[D]("error     ",b)}if(P){if(l.nextState){var U="color: "+l.nextState(_)+"; font-weight: bold";i[P]("%c next state",U,_)}else i[P]("next state",_)}f&&function(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",s];default:return[]}}(e);n.log.apply(n,["%c "+T[t].text,"color: "+T[t].color+"; font-weight: bold"].concat(E(r)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}(y,_,i,O);try{i.groupEnd()}catch(e){i.log("—— log end ——")}})}(u,Object.assign({},t,{diff:p})),u.length=0,c.error)throw c.error;return f}}}}var g,m,y=function(e,t){return Array(t-e.toString().length+1).join("0")+e},v=function(e){return y(e.getHours(),2)+":"+y(e.getMinutes(),2)+":"+y(e.getSeconds(),2)+"."+y(e.getMilliseconds(),3)},b="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},_=[];(m=(g="object"===(void 0===n.g?"undefined":w(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{}).DeepDiff)&&_.push(function(){void 0!==m&&g.DeepDiff===h&&(g.DeepDiff=m,m=void 0)}),t(i,r),t(o,r),t(s,r),t(a,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&c(e,t,function(r){n&&!n(e,t,r)||f(e,t,r)})},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,o=t[n],s=r.path.length-1;for(i=0;i<s;i++)o=o[r.path[i]];switch(r.kind){case"A":e(o[r.path[i]],r.index,r.item);break;case"D":case"E":o[r.path[i]]=r.lhs;break;case"N":delete o[r.path[i]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=u(t,n)}return t}(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==m},enumerable:!0},noConflict:{value:function(){return _&&(_.forEach(function(e){e()}),_=null),h},enumerable:!0}});var T={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},S={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?p()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=S,e.createLogger=p,e.logger=I,e.default=I,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3488:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,i){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}};var r,i=(r=n(7290))&&r.__esModule?r:{default:r}},7290:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return!function(e){if(("undefined"==typeof self?"undefined":n(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?i:self[t]};var i={getItem:r,setItem:r,removeItem:r}},6734:function(e,t,n){"use strict";t.Z=void 0;var r,i=(0,((r=n(3488))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},3894:function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var r=n();r.withExtraArgument=n,t.Z=r},8356:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){var i;i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,{Kf:function(){return l},md:function(){return m},DE:function(){return p},UY:function(){return f},qC:function(){return g},MT:function(){return c},jB:function(){return h}});var a="function"==typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function c(e,t,n){if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(s(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error(s(1));return n(c)(e,t)}if("function"!=typeof e)throw Error(s(2));var r,i=e,o=t,u=[],h=u,f=!1;function d(){h===u&&(h=u.slice())}function p(){if(f)throw Error(s(3));return o}function g(e){if("function"!=typeof e)throw Error(s(4));if(f)throw Error(s(5));var t=!0;return d(),h.push(e),function(){if(t){if(f)throw Error(s(6));t=!1,d();var n=h.indexOf(e);h.splice(n,1),u=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(s(7));if(void 0===e.type)throw Error(s(8));if(f)throw Error(s(9));try{f=!0,o=i(o,e)}finally{f=!1}for(var t=u=h,n=0;n<t.length;n++)(0,t[n])();return e}return m({type:l.INIT}),(r={dispatch:m,subscribe:g,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw Error(s(10));i=e,m({type:l.REPLACE})}})[a]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(s(11));function t(){e.next&&e.next(p())}return t(),{unsubscribe:g(t)}}})[a]=function(){return this},e},r}var h=c;function f(e){for(var t,n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i];"function"==typeof e[o]&&(r[o]=e[o])}var a=Object.keys(r);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw Error(s(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw Error(s(13))})}(r)}catch(e){t=e}return function(e,n){if(void 0===e&&(e={}),t)throw t;for(var i=!1,o={},u=0;u<a.length;u++){var l=a[u],c=r[l],h=e[l],f=c(h,n);if(void 0===f)throw n&&n.type,Error(s(14));o[l]=f,i=i||f!==h}return(i=i||a.length!==Object.keys(e).length)?o:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw Error(s(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=d(i,t))}return n}function g(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map(function(e){return e(i)});return r=g.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},3250:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5784),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return a(function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})},[e,n,t]),s(function(){return l(i)&&c({inst:i}),e(function(){l(i)&&c({inst:i})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5784),i=n(1688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,a=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=l(function(){function e(e){if(!u){if(u=!0,s=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,i]);var d=s(e,h[0],h[1]);return u(function(){f.hasValue=!0,f.value=d},[d]),c(d),d}},1688:function(e,t,n){"use strict";e.exports=n(3250)},2798:function(e,t,n){"use strict";e.exports=n(139)},7462:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},5068:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},5816:function(e,t,n){"use strict";let r,i;n.d(t,{Jn:function(){return P},qX:function(){return N},Xd:function(){return R},Mq:function(){return M},ZF:function(){return L},KN:function(){return j}});var o,s=n(8463),a=n(3333),u=n(1199);let l=(e,t)=>t.some(t=>e instanceof t),c=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,g={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(m(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(d.has(e))return d.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(y(this),e),m(c.get(this))}:function(...e){return m(t.apply(y(this),e))}:function(e,...n){let r=t.call(y(this),e,...n);return f.set(r,e.sort?e.sort():[e]),m(r)}:(t instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});h.set(e,t)}(t),l(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,g):t;return n!==e&&(d.set(e,n),p.set(n,e)),n}let y=e=>p.get(e),v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function E(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(w.get(t))return w.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v.includes(n)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return w.set(t,o),o}g={...o=g,get:(e,t,n)=>E(e,t)||o.get(e,t,n),has:(e,t)=>!!E(e,t)||o.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let T="@firebase/app",S="0.9.3",I=new a.Yd("@firebase/app"),O="[DEFAULT]",A={[T]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},C=new Map,k=new Map;function R(e){let t=e.name;if(k.has(t))return I.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(k.set(t,e),C.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){I.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function N(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}let x=new u.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw x.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P="9.17.1";function L(e,t={}){let n=e;if("object"!=typeof t){let e=t;t={name:e}}let r=Object.assign({name:O,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw x.create("bad-app-name",{appName:String(i)});if(n||(n=(0,u.aH)()),!n)throw x.create("no-options");let o=C.get(i);if(o){if((0,u.vZ)(n,o.options)&&(0,u.vZ)(r,o.config))return o;throw x.create("duplicate-app",{appName:i})}let a=new s.H0(i);for(let e of k.values())a.addComponent(e);let l=new D(n,r,a);return C.set(i,l),l}function M(e=O){let t=C.get(e);if(!t&&e===O)return L();if(!t)throw x.create("no-app",{appName:e});return t}function j(e,t,n){var r;let i=null!==(r=A[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){let e=[`Unable to register library "${i}" with version "${t}":`];o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),I.warn(e.join(" "));return}R(new s.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let U="firebase-heartbeat-store",F=null;function V(){return F||(F=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,1),a=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(U)}}).catch(e=>{throw x.create("idb-open",{originalErrorMessage:e.message})})),F}async function B(e){try{let t=await V();return t.transaction(U).objectStore(U).get(q(e))}catch(e){if(e instanceof u.ZR)I.warn(e.message);else{let t=x.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});I.warn(t.message)}}}async function W(e,t){try{let n=await V(),r=n.transaction(U,"readwrite"),i=r.objectStore(U);return await i.put(t,q(e)),r.done}catch(e){if(e instanceof u.ZR)I.warn(e.message);else{let t=x.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});I.warn(t.message)}}}function q(e){return`${e.name}!${e.options.appId}`}class H{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new $(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=z();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=z(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),K(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,u.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function z(){let e=new Date;return e.toISOString().substring(0,10)}class ${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,u.hl)()&&(0,u.eu)().then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await B(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return W(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return W(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function K(e){return(0,u.L)(JSON.stringify({version:2,heartbeats:e})).length}R(new s.wA("platform-logger",e=>new _(e),"PRIVATE")),R(new s.wA("heartbeat",e=>new H(e),"PRIVATE")),j(T,S,""),j(T,S,"esm2017"),j("fire-js","")},8463:function(e,t,n){"use strict";n.d(t,{H0:function(){return a},wA:function(){return i}});var r=n(1199);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===o?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:function(e,t,n){"use strict";var r,i;n.d(t,{Yd:function(){return c},in:function(){return r}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,u={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=u[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}},9828:function(e,t,n){"use strict";n.d(t,{JU:function(){return r.JU},PL:function(){return r.PL},QT:function(){return r.QT},hJ:function(){return r.hJ},pl:function(){return r.pl},r7:function(){return r.r7}});var r=n(1294)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[179],function(){return t(3837),t(5337)}),_N_E=e.O()}]);